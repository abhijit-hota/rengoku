(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const o of l)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function t(l){const o={};return l.integrity&&(o.integrity=l.integrity),l.referrerpolicy&&(o.referrerPolicy=l.referrerpolicy),l.crossorigin==="use-credentials"?o.credentials="include":l.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(l){if(l.ep)return;l.ep=!0;const o=t(l);fetch(l.href,o)}})();function X(){}const _t=n=>n;function Te(n,e){for(const t in e)n[t]=e[t];return n}function ql(n){return n()}function Fn(){return Object.create(null)}function de(n){n.forEach(ql)}function lt(n){return typeof n=="function"}function ue(n,e){return n!=n?e==e:n!==e||n&&typeof n=="object"||typeof n=="function"}let Pt;function sn(n,e){return Pt||(Pt=document.createElement("a")),Pt.href=e,n===Pt.href}function ri(n){return Object.keys(n).length===0}function Hl(n,...e){if(n==null)return X;const t=n.subscribe(...e);return t.unsubscribe?()=>t.unsubscribe():t}function oe(n,e,t){n.$$.on_destroy.push(Hl(e,t))}function Me(n,e,t,r){if(n){const l=Vl(n,e,t,r);return n[0](l)}}function Vl(n,e,t,r){return n[1]&&r?Te(t.ctx.slice(),n[1](r(e))):t.ctx}function Le(n,e,t,r){if(n[2]&&r){const l=n[2](r(t));if(e.dirty===void 0)return l;if(typeof l=="object"){const o=[],s=Math.max(e.dirty.length,l.length);for(let i=0;i<s;i+=1)o[i]=e.dirty[i]|l[i];return o}return e.dirty|l}return e.dirty}function Ee(n,e,t,r,l,o){if(l){const s=Vl(e,t,r,o);n.p(s,l)}}function Re(n){if(n.ctx.length>32){const e=[],t=n.ctx.length/32;for(let r=0;r<t;r++)e[r]=-1;return e}return-1}function ft(n){const e={};for(const t in n)t[0]!=="$"&&(e[t]=n[t]);return e}function ct(n){return n==null?"":n}function Se(n,e,t){return n.set(t),e}function Dt(n){return n&&lt(n.destroy)?n.destroy:X}const Gl=typeof window<"u";let dt=Gl?()=>window.performance.now():()=>Date.now(),Tn=Gl?n=>requestAnimationFrame(n):X;const at=new Set;function Yl(n){at.forEach(e=>{e.c(n)||(at.delete(e),e.f())}),at.size!==0&&Tn(Yl)}function Mt(n){let e;return at.size===0&&Tn(Yl),{promise:new Promise(t=>{at.add(e={c:n,f:t})}),abort(){at.delete(e)}}}function b(n,e){n.appendChild(e)}function Kl(n){if(!n)return document;const e=n.getRootNode?n.getRootNode():n.ownerDocument;return e&&e.host?e:n.ownerDocument}function li(n){const e=k("style");return oi(Kl(n),e),e.sheet}function oi(n,e){b(n.head||n,e)}function T(n,e,t){n.insertBefore(e,t||null)}function A(n){n.parentNode.removeChild(n)}function pt(n,e){for(let t=0;t<n.length;t+=1)n[t]&&n[t].d(e)}function k(n){return document.createElement(n)}function Ae(n){return document.createElementNS("http://www.w3.org/2000/svg",n)}function ee(n){return document.createTextNode(n)}function D(){return ee(" ")}function Ce(){return ee("")}function G(n,e,t,r){return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t,r)}function ht(n){return function(e){return e.preventDefault(),n.call(this,e)}}function qe(n){return function(e){return e.stopPropagation(),n.call(this,e)}}function ii(n){return function(e){e.target===this&&n.call(this,e)}}function m(n,e,t){t==null?n.removeAttribute(e):n.getAttribute(e)!==t&&n.setAttribute(e,t)}function qn(n,e){const t=Object.getOwnPropertyDescriptors(n.__proto__);for(const r in e)e[r]==null?n.removeAttribute(r):r==="style"?n.style.cssText=e[r]:r==="__value"?n.value=n[r]=e[r]:t[r]&&t[r].set?n[r]=e[r]:m(n,r,e[r])}function mt(n,e){for(const t in e)m(n,t,e[t])}function si(n){return Array.from(n.childNodes)}function ge(n,e){e=""+e,n.wholeText!==e&&(n.data=e)}function ke(n,e){n.value=e==null?"":e}function $(n,e,t,r){t===null?n.style.removeProperty(e):n.style.setProperty(e,t,r?"important":"")}function Hn(n,e){for(let t=0;t<n.options.length;t+=1){const r=n.options[t];if(r.__value===e){r.selected=!0;return}}n.selectedIndex=-1}function ai(n){const e=n.querySelector(":checked")||n.options[0];return e&&e.__value}function re(n,e,t){n.classList[t?"add":"remove"](e)}function Wl(n,e,{bubbles:t=!1,cancelable:r=!1}={}){const l=document.createEvent("CustomEvent");return l.initCustomEvent(n,t,r,e),l}class Mn{constructor(e=!1){this.is_svg=!1,this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,t,r=null){this.e||(this.is_svg?this.e=Ae(t.nodeName):this.e=k(t.nodeName),this.t=t,this.c(e)),this.i(r)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.childNodes)}i(e){for(let t=0;t<this.n.length;t+=1)T(this.t,this.n[t],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(A)}}const qt=new Map;let Ht=0;function ui(n){let e=5381,t=n.length;for(;t--;)e=(e<<5)-e^n.charCodeAt(t);return e>>>0}function fi(n,e){const t={stylesheet:li(e),rules:{}};return qt.set(n,t),t}function Ln(n,e,t,r,l,o,s,i=0){const a=16.666/r;let u=`{
`;for(let h=0;h<=1;h+=a){const v=e+(t-e)*o(h);u+=h*100+`%{${s(v,1-v)}}
`}const f=u+`100% {${s(t,1-t)}}
}`,c=`__svelte_${ui(f)}_${i}`,d=Kl(n),{stylesheet:p,rules:_}=qt.get(d)||fi(d,n);_[c]||(_[c]=!0,p.insertRule(`@keyframes ${c} ${f}`,p.cssRules.length));const g=n.style.animation||"";return n.style.animation=`${g?`${g}, `:""}${c} ${r}ms linear ${l}ms 1 both`,Ht+=1,c}function Vt(n,e){const t=(n.style.animation||"").split(", "),r=t.filter(e?o=>o.indexOf(e)<0:o=>o.indexOf("__svelte")===-1),l=t.length-r.length;l&&(n.style.animation=r.join(", "),Ht-=l,Ht||ci())}function ci(){Tn(()=>{Ht||(qt.forEach(n=>{const{stylesheet:e}=n;let t=e.cssRules.length;for(;t--;)e.deleteRule(t);n.rules={}}),qt.clear())})}function di(n,e,t,r){if(!e)return X;const l=n.getBoundingClientRect();if(e.left===l.left&&e.right===l.right&&e.top===l.top&&e.bottom===l.bottom)return X;const{delay:o=0,duration:s=300,easing:i=_t,start:a=dt()+o,end:u=a+s,tick:f=X,css:c}=t(n,{from:e,to:l},r);let d=!0,p=!1,_;function g(){c&&(_=Ln(n,0,1,s,o,i,c)),o||(p=!0)}function h(){c&&Vt(n,_),d=!1}return Mt(v=>{if(!p&&v>=a&&(p=!0),p&&v>=u&&(f(1,0),h()),!d)return!1;if(p){const L=v-a,N=0+1*i(L/s);f(N,1-N)}return!0}),g(),f(0,1),h}function mi(n){const e=getComputedStyle(n);if(e.position!=="absolute"&&e.position!=="fixed"){const{width:t,height:r}=e,l=n.getBoundingClientRect();n.style.position="absolute",n.style.width=t,n.style.height=r,Xl(n,l)}}function Xl(n,e){const t=n.getBoundingClientRect();if(e.left!==t.left||e.top!==t.top){const r=getComputedStyle(n),l=r.transform==="none"?"":r.transform;n.style.transform=`${l} translate(${e.left-t.left}px, ${e.top-t.top}px)`}}let Ct;function wt(n){Ct=n}function gt(){if(!Ct)throw new Error("Function called outside component initialization");return Ct}function En(n){gt().$$.on_mount.push(n)}function Ql(n){gt().$$.on_destroy.push(n)}function $t(){const n=gt();return(e,t,{cancelable:r=!1}={})=>{const l=n.$$.callbacks[e];if(l){const o=Wl(e,t,{cancelable:r});return l.slice().forEach(s=>{s.call(n,o)}),!o.defaultPrevented}return!0}}function _i(n,e){return gt().$$.context.set(n,e),e}function Rn(n){return gt().$$.context.get(n)}function pi(n){return gt().$$.context.has(n)}function Vn(n,e){const t=n.$$.callbacks[e.type];t&&t.slice().forEach(r=>r.call(this,e))}const vt=[],ye=[],Ut=[],an=[],Jl=Promise.resolve();let un=!1;function Zl(){un||(un=!0,Jl.then($l))}function hi(){return Zl(),Jl}function tt(n){Ut.push(n)}function He(n){an.push(n)}const tn=new Set;let Nt=0;function $l(){const n=Ct;do{for(;Nt<vt.length;){const e=vt[Nt];Nt++,wt(e),gi(e.$$)}for(wt(null),vt.length=0,Nt=0;ye.length;)ye.pop()();for(let e=0;e<Ut.length;e+=1){const t=Ut[e];tn.has(t)||(tn.add(t),t())}Ut.length=0}while(vt.length);for(;an.length;)an.pop()();un=!1,tn.clear(),wt(n)}function gi(n){if(n.fragment!==null){n.update(),de(n.before_update);const e=n.dirty;n.dirty=[-1],n.fragment&&n.fragment.p(n.ctx,e),n.after_update.forEach(tt)}}let yt;function xl(){return yt||(yt=Promise.resolve(),yt.then(()=>{yt=null})),yt}function Gt(n,e,t){n.dispatchEvent(Wl(`${e?"intro":"outro"}${t}`))}const Ft=new Set;let Xe;function te(){Xe={r:0,c:[],p:Xe}}function ne(){Xe.r||de(Xe.c),Xe=Xe.p}function O(n,e){n&&n.i&&(Ft.delete(n),n.i(e))}function C(n,e,t,r){if(n&&n.o){if(Ft.has(n))return;Ft.add(n),Xe.c.push(()=>{Ft.delete(n),r&&(t&&n.d(1),r())}),n.o(e)}else r&&r()}const eo={duration:0};function bi(n,e,t){let r=e(n,t),l=!1,o,s,i=0;function a(){o&&Vt(n,o)}function u(){const{delay:c=0,duration:d=300,easing:p=_t,tick:_=X,css:g}=r||eo;g&&(o=Ln(n,0,1,d,c,p,g,i++)),_(0,1);const h=dt()+c,v=h+d;s&&s.abort(),l=!0,tt(()=>Gt(n,!0,"start")),s=Mt(L=>{if(l){if(L>=v)return _(1,0),Gt(n,!0,"end"),a(),l=!1;if(L>=h){const N=p((L-h)/d);_(N,1-N)}}return l})}let f=!1;return{start(){f||(f=!0,Vt(n),lt(r)?(r=r(),xl().then(u)):u())},invalidate(){f=!1},end(){l&&(a(),l=!1)}}}function ki(n,e,t){let r=e(n,t),l=!0,o;const s=Xe;s.r+=1;function i(){const{delay:a=0,duration:u=300,easing:f=_t,tick:c=X,css:d}=r||eo;d&&(o=Ln(n,1,0,u,a,f,d));const p=dt()+a,_=p+u;tt(()=>Gt(n,!1,"start")),Mt(g=>{if(l){if(g>=_)return c(0,1),Gt(n,!1,"end"),--s.r||de(s.c),!1;if(g>=p){const h=f((g-p)/u);c(1-h,h)}}return l})}return lt(r)?xl().then(()=>{r=r(),i()}):i(),{end(a){a&&r.tick&&r.tick(1,0),l&&(o&&Vt(n,o),l=!1)}}}function Pn(n,e){C(n,1,1,()=>{e.delete(n.key)})}function yi(n,e){n.f(),Pn(n,e)}function Dn(n,e,t,r,l,o,s,i,a,u,f,c){let d=n.length,p=o.length,_=d;const g={};for(;_--;)g[n[_].key]=_;const h=[],v=new Map,L=new Map;for(_=p;_--;){const E=c(l,o,_),P=t(E);let V=s.get(P);V?r&&V.p(E,e):(V=u(P,E),V.c()),v.set(P,h[_]=V),P in g&&L.set(P,Math.abs(_-g[P]))}const N=new Set,S=new Set;function w(E){O(E,1),E.m(i,f),s.set(E.key,E),f=E.first,p--}for(;d&&p;){const E=h[p-1],P=n[d-1],V=E.key,U=P.key;E===P?(f=E.first,d--,p--):v.has(U)?!s.has(V)||N.has(V)?w(E):S.has(U)?d--:L.get(V)>L.get(U)?(S.add(V),w(E)):(N.add(U),d--):(a(P,s),d--)}for(;d--;){const E=n[d];v.has(E.key)||a(E,s)}for(;p;)w(h[p-1]);return h}function Lt(n,e){const t={},r={},l={$$scope:1};let o=n.length;for(;o--;){const s=n[o],i=e[o];if(i){for(const a in s)a in i||(r[a]=1);for(const a in i)l[a]||(t[a]=i[a],l[a]=1);n[o]=i}else for(const a in s)l[a]=1}for(const s in r)s in t||(t[s]=void 0);return t}function vi(n){return typeof n=="object"&&n!==null?n:{}}function Ve(n,e,t){const r=n.$$.props[e];r!==void 0&&(n.$$.bound[r]=t,t(n.$$.ctx[r]))}function W(n){n&&n.c()}function Y(n,e,t,r){const{fragment:l,on_mount:o,on_destroy:s,after_update:i}=n.$$;l&&l.m(e,t),r||tt(()=>{const a=o.map(ql).filter(lt);s?s.push(...a):de(a),n.$$.on_mount=[]}),i.forEach(tt)}function K(n,e){const t=n.$$;t.fragment!==null&&(de(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function wi(n,e){n.$$.dirty[0]===-1&&(vt.push(n),Zl(),n.$$.dirty.fill(0)),n.$$.dirty[e/31|0]|=1<<e%31}function fe(n,e,t,r,l,o,s,i=[-1]){const a=Ct;wt(n);const u=n.$$={fragment:null,ctx:null,props:o,update:X,not_equal:l,bound:Fn(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(a?a.$$.context:[])),callbacks:Fn(),dirty:i,skip_bound:!1,root:e.target||a.$$.root};s&&s(u.root);let f=!1;if(u.ctx=t?t(n,e.props||{},(c,d,...p)=>{const _=p.length?p[0]:d;return u.ctx&&l(u.ctx[c],u.ctx[c]=_)&&(!u.skip_bound&&u.bound[c]&&u.bound[c](_),f&&wi(n,c)),d}):[],u.update(),f=!0,de(u.before_update),u.fragment=r?r(u.ctx):!1,e.target){if(e.hydrate){const c=si(e.target);u.fragment&&u.fragment.l(c),c.forEach(A)}else u.fragment&&u.fragment.c();e.intro&&O(n.$$.fragment),Y(n,e.target,e.anchor,e.customElement),$l()}wt(a)}class ce{$destroy(){K(this,1),this.$destroy=X}$on(e,t){const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(t),()=>{const l=r.indexOf(t);l!==-1&&r.splice(l,1)}}$set(e){this.$$set&&!ri(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const it=[];function Oi(n,e){return{subscribe:Oe(n,e).subscribe}}function Oe(n,e=X){let t;const r=new Set;function l(i){if(ue(n,i)&&(n=i,t)){const a=!it.length;for(const u of r)u[1](),it.push(u,n);if(a){for(let u=0;u<it.length;u+=2)it[u][0](it[u+1]);it.length=0}}}function o(i){l(i(n))}function s(i,a=X){const u=[i,a];return r.add(u),r.size===1&&(t=e(l)||X),i(n),()=>{r.delete(u),r.size===0&&(t(),t=null)}}return{set:l,update:o,subscribe:s}}function to(n,e,t){const r=!Array.isArray(n),l=r?[n]:n,o=e.length<2;return Oi(t,s=>{let i=!1;const a=[];let u=0,f=X;const c=()=>{if(u)return;f();const p=e(r?a[0]:a,s);o?s(p):f=lt(p)?p:X},d=l.map((p,_)=>Hl(p,g=>{a[_]=g,u&=~(1<<_),i&&c()},()=>{u|=1<<_}));return i=!0,c(),function(){de(d),f()}})}function fn(n,e=!1){return n=n.slice(n.startsWith("/#")?2:0,n.endsWith("/*")?-2:void 0),n.startsWith("/")||(n="/"+n),n==="/"&&(n=""),e&&!n.endsWith("/")&&(n+="/"),n}function no(n,e){n=fn(n,!0),e=fn(e,!0);let t=[],r={},l=!0,o=n.split("/").map(i=>i.startsWith(":")?(t.push(i.slice(1)),"([^\\/]+)"):i).join("\\/"),s=e.match(new RegExp(`^${o}$`));return s||(l=!1,s=e.match(new RegExp(`^${o}`))),s?(t.forEach((i,a)=>r[i]=s[a+1]),{exact:l,params:r,part:s[0].slice(0,-1)}):null}function ro(n,e,t){if(t==="")return n;if(t[0]==="/")return t;let r=s=>s.split("/").filter(i=>i!==""),l=r(n),o=e?r(e):[];return"/"+o.map((s,i)=>l[i]).join("/")+"/"+t}function Ot(n,e,t,r){let l=[e,"data-"+e].reduce((o,s)=>{let i=n.getAttribute(s);return t&&n.removeAttribute(s),i===null?o:i},!1);return!r&&l===""?!0:l||r||!1}function Ci(n){let e=n.split("&").map(t=>t.split("=")).reduce((t,r)=>{let l=r[0];if(!l)return t;let o=r.length>1?r[r.length-1]:!0;return typeof o=="string"&&o.includes(",")&&(o=o.split(",")),t[l]===void 0?t[l]=[o]:t[l].push(o),t},{});return Object.entries(e).reduce((t,r)=>(t[r[0]]=r[1].length>1?r[1]:r[1][0],t),{})}function Si(n){return Object.entries(n).map(([e,t])=>t?t===!0?e:`${e}=${Array.isArray(t)?t.join(","):t}`:null).filter(e=>e).join("&")}function Gn(n,e){return n?e+n:""}function lo(n){throw new Error("[Tinro] "+n)}var ze={HISTORY:1,HASH:2,MEMORY:3,OFF:4,run(n,e,t,r){return n===this.HISTORY?e&&e():n===this.HASH?t&&t():r&&r()},getDefault(){return!window||window.location.pathname==="srcdoc"?this.MEMORY:this.HISTORY}},Nn,oo,io,Yt="",je=Ai();function Ai(){let n=ze.getDefault(),e,t=s=>window.onhashchange=window.onpopstate=Nn=null,r=s=>e&&e(nn(n)),l=s=>{s&&(n=s),t(),n!==ze.OFF&&ze.run(n,i=>window.onpopstate=r,i=>window.onhashchange=r)&&r()},o=s=>{let i=Object.assign(nn(n),s);return i.path+Gn(Si(i.query),"?")+Gn(i.hash,"#")};return{mode:l,get:s=>nn(n),go(s,i){Ti(n,s,i),r()},start(s){e=s,l()},stop(){e=null,l(ze.OFF)},set(s){this.go(o(s),!s.path)},methods(){return Mi(this)},base:s=>Yt=s}}function Ti(n,e,t){!t&&(oo=io);let r=l=>history[`${t?"replace":"push"}State`]({},"",l);ze.run(n,l=>r(Yt+e),l=>r(`#${e}`),l=>Nn=e)}function nn(n){let e=window.location,t=ze.run(n,l=>(Yt?e.pathname.replace(Yt,""):e.pathname)+e.search+e.hash,l=>String(e.hash.slice(1)||"/"),l=>Nn||"/"),r=t.match(/^([^?#]+)(?:\?([^#]+))?(?:\#(.+))?$/);return io=t,{url:t,from:oo,path:r[1]||"",query:Ci(r[2]||""),hash:r[3]||""}}function Mi(n){let e=()=>n.get().query,t=s=>n.set({query:s}),r=s=>t(s(e())),l=()=>n.get().hash,o=s=>n.set({hash:s});return{hash:{get:l,set:o,clear:()=>o("")},query:{replace:t,clear:()=>t(""),get(s){return s?e()[s]:e()},set(s,i){r(a=>(a[s]=i,a))},delete(s){r(i=>(i[s]&&delete i[s],i))}}}}var Ke=Li();function Li(){let{subscribe:n}=Oe(je.get(),e=>{je.start(e);let t=Ei(je.go);return()=>{je.stop(),t()}});return{subscribe:n,goto:je.go,params:Ri,meta:Ni,useHashNavigation:e=>je.mode(e?ze.HASH:ze.HISTORY),mode:{hash:()=>je.mode(ze.HASH),history:()=>je.mode(ze.HISTORY),memory:()=>je.mode(ze.MEMORY)},base:je.base,location:je.methods()}}function It(n){let e,t,r,l,o=()=>{e=Ot(n,"href").replace(/^\/#|[?#].*$|\/$/g,""),t=Ot(n,"exact",!0),r=Ot(n,"active-class",!0,"active")},s=()=>{let i=no(e,l);i&&(i.exact&&t||!t)?n.classList.add(r):n.classList.remove(r)};return o(),{destroy:Ke.subscribe(i=>{l=i.path,s()}),update:()=>{o(),s()}}}function Ei(n){let e=t=>{let r=t.target.closest("a[href]"),l=r&&Ot(r,"target",!1,"_self"),o=r&&Ot(r,"tinro-ignore"),s=t.ctrlKey||t.metaKey||t.altKey||t.shiftKey;if(l=="_self"&&!o&&!s&&r){let i=r.getAttribute("href").replace(/^\/#/,"");/^\/\/|^#|^[a-zA-Z]+:/.test(i)||(t.preventDefault(),n(i.startsWith("/")?i:r.href.replace(window.location.origin,"")))}};return addEventListener("click",e),()=>removeEventListener("click",e)}function Ri(){return Rn("tinro").meta.params}var Kt="tinro",Pi=so({pattern:"",matched:!0});function Di(n){let e=Rn(Kt)||Pi;(e.exact||e.fallback)&&lo(`${n.fallback?"<Route fallback>":`<Route path="${n.path}">`}  can't be inside ${e.fallback?"<Route fallback>":`<Route path="${e.path||"/"}"> with exact path`}`);let t=n.fallback?"fallbacks":"childs",r=Oe({}),l=so({fallback:n.fallback,parent:e,update(o){l.exact=!o.path.endsWith("/*"),l.pattern=fn(`${l.parent.pattern||""}${o.path}`),l.redirect=o.redirect,l.firstmatch=o.firstmatch,l.breadcrumb=o.breadcrumb,l.match()},register:()=>(l.parent[t].add(l),async()=>{l.parent[t].delete(l),l.parent.activeChilds.delete(l),l.router.un&&l.router.un(),l.parent.match()}),show:()=>{n.onShow(),!l.fallback&&l.parent.activeChilds.add(l)},hide:()=>{n.onHide(),l.parent.activeChilds.delete(l)},match:async()=>{l.matched=!1;let{path:o,url:s,from:i,query:a}=l.router.location,u=no(l.pattern,o);if(!l.fallback&&u&&l.redirect&&(!l.exact||l.exact&&u.exact)){let f=ro(o,l.parent.pattern,l.redirect);return Ke.goto(f,!0)}l.meta=u&&{from:i,url:s,query:a,match:u.part,pattern:l.pattern,breadcrumbs:l.parent.meta&&l.parent.meta.breadcrumbs.slice()||[],params:u.params,subscribe:r.subscribe},l.breadcrumb&&l.meta&&l.meta.breadcrumbs.push({name:l.breadcrumb,path:u.part}),r.set(l.meta),u&&!l.fallback&&(!l.exact||l.exact&&u.exact)&&(!l.parent.firstmatch||!l.parent.matched)?(n.onMeta(l.meta),l.parent.matched=!0,l.show()):l.hide(),u&&l.showFallbacks()}});return _i(Kt,l),En(()=>l.register()),l}function Ni(){return pi(Kt)?Rn(Kt).meta:lo("meta() function must be run inside any `<Route>` child component only")}function so(n){let e={router:{},exact:!1,pattern:null,meta:null,parent:null,fallback:!1,redirect:!1,firstmatch:!1,breadcrumb:null,matched:!1,childs:new Set,activeChilds:new Set,fallbacks:new Set,async showFallbacks(){if(!this.fallback&&(await hi(),this.childs.size>0&&this.activeChilds.size==0||this.childs.size==0&&this.fallbacks.size>0)){let t=this;for(;t.fallbacks.size==0;)if(t=t.parent,!t)return;t&&t.fallbacks.forEach(r=>{if(r.redirect){let l=ro("/",r.parent.pattern,r.redirect);Ke.goto(l,!0)}else r.show()})}},start(){this.router.un||(this.router.un=Ke.subscribe(t=>{this.router.location=t,this.pattern!==null&&this.match()}))},match(){this.showFallbacks()}};return Object.assign(e,n),e.start(),e}const Ii=n=>({params:n&2,meta:n&4}),Yn=n=>({params:n[1],meta:n[2]});function Kn(n){let e;const t=n[9].default,r=Me(t,n,n[8],Yn);return{c(){r&&r.c()},m(l,o){r&&r.m(l,o),e=!0},p(l,o){r&&r.p&&(!e||o&262)&&Ee(r,t,l,l[8],e?Le(t,l[8],o,Ii):Re(l[8]),Yn)},i(l){e||(O(r,l),e=!0)},o(l){C(r,l),e=!1},d(l){r&&r.d(l)}}}function ji(n){let e,t,r=n[0]&&Kn(n);return{c(){r&&r.c(),e=Ce()},m(l,o){r&&r.m(l,o),T(l,e,o),t=!0},p(l,[o]){l[0]?r?(r.p(l,o),o&1&&O(r,1)):(r=Kn(l),r.c(),O(r,1),r.m(e.parentNode,e)):r&&(te(),C(r,1,1,()=>{r=null}),ne())},i(l){t||(O(r),t=!0)},o(l){C(r),t=!1},d(l){r&&r.d(l),l&&A(e)}}}function zi(n,e,t){let{$$slots:r={},$$scope:l}=e,{path:o="/*"}=e,{fallback:s=!1}=e,{redirect:i=!1}=e,{firstmatch:a=!1}=e,{breadcrumb:u=null}=e,f=!1,c={},d={};const p=Di({fallback:s,onShow(){t(0,f=!0)},onHide(){t(0,f=!1)},onMeta(_){t(2,d=_),t(1,c=d.params)}});return n.$$set=_=>{"path"in _&&t(3,o=_.path),"fallback"in _&&t(4,s=_.fallback),"redirect"in _&&t(5,i=_.redirect),"firstmatch"in _&&t(6,a=_.firstmatch),"breadcrumb"in _&&t(7,u=_.breadcrumb),"$$scope"in _&&t(8,l=_.$$scope)},n.$$.update=()=>{n.$$.dirty&232&&p.update({path:o,redirect:i,firstmatch:a,breadcrumb:u})},[f,c,d,o,s,i,a,u,l,r]}class Qe extends ce{constructor(e){super(),fe(this,e,zi,ji,ue,{path:3,fallback:4,redirect:5,firstmatch:6,breadcrumb:7})}}function ao(n){const e=n-1;return e*e*e+1}function Bi(n,{delay:e=0,duration:t=400,easing:r=_t}={}){const l=+getComputedStyle(n).opacity;return{delay:e,duration:t,easing:r,css:o=>`opacity: ${o*l}`}}function Ui(n,{delay:e=0,duration:t=400,easing:r=ao,x:l=0,y:o=0,opacity:s=0}={}){const i=getComputedStyle(n),a=+i.opacity,u=i.transform==="none"?"":i.transform,f=a*(1-s);return{delay:e,duration:t,easing:r,css:(c,d)=>`
			transform: ${u} translate(${(1-c)*l}px, ${(1-c)*o}px);
			opacity: ${a-f*d}`}}function Fi(n,{from:e,to:t},r={}){const l=getComputedStyle(n),o=l.transform==="none"?"":l.transform,[s,i]=l.transformOrigin.split(" ").map(parseFloat),a=e.left+e.width*s/t.width-(t.left+s),u=e.top+e.height*i/t.height-(t.top+i),{delay:f=0,duration:c=p=>Math.sqrt(p)*120,easing:d=ao}=r;return{delay:f,duration:lt(c)?c(Math.sqrt(a*a+u*u)):c,easing:d,css:(p,_)=>{const g=_*a,h=_*u,v=p+_*e.width/t.width,L=p+_*e.height/t.height;return`transform: ${o} translate(${g}px, ${h}px) scale(${v}, ${L});`}}}const qi={duration:4e3,initial:1,next:0,pausable:!1,dismissable:!0,reversed:!1,intro:{x:256}},Hi=()=>{const{subscribe:n,update:e}=Oe([]);let t=0;const r={},l=u=>u instanceof Object;return{subscribe:n,push:(u,f={})=>{const c={target:"default",...l(u)?u:{...f,msg:u}},d=r[c.target]||{},p={...qi,...d,...c,theme:{...d.theme,...c.theme},classes:[...d.classes||[],...c.classes||[]],id:++t};return e(_=>p.reversed?[..._,p]:[p,..._]),t},pop:u=>{e(f=>{if(!f.length||u===0)return[];if(l(u))return f.filter(d=>u(d));const c=u||Math.max(...f.map(d=>d.id));return f.filter(d=>d.id!==c)})},set:(u,f={})=>{const c=l(u)?{...u}:{...f,id:u};e(d=>{const p=d.findIndex(_=>_.id===c.id);return p>-1&&(d[p]={...d[p],...c}),d})},_init:(u="default",f={})=>(r[u]=f,r)}},Ne=Hi();function Wt(n){return Object.prototype.toString.call(n)==="[object Date]"}function cn(n,e,t,r){if(typeof t=="number"||Wt(t)){const l=r-t,o=(t-e)/(n.dt||1/60),s=n.opts.stiffness*l,i=n.opts.damping*o,a=(s-i)*n.inv_mass,u=(o+a)*n.dt;return Math.abs(u)<n.opts.precision&&Math.abs(l)<n.opts.precision?r:(n.settled=!1,Wt(t)?new Date(t.getTime()+u):t+u)}else{if(Array.isArray(t))return t.map((l,o)=>cn(n,e[o],t[o],r[o]));if(typeof t=="object"){const l={};for(const o in t)l[o]=cn(n,e[o],t[o],r[o]);return l}else throw new Error(`Cannot spring ${typeof t} values`)}}function Vi(n,e={}){const t=Oe(n),{stiffness:r=.15,damping:l=.8,precision:o=.01}=e;let s,i,a,u=n,f=n,c=1,d=0,p=!1;function _(h,v={}){f=h;const L=a={};if(n==null||v.hard||g.stiffness>=1&&g.damping>=1)return p=!0,s=dt(),u=h,t.set(n=f),Promise.resolve();if(v.soft){const N=v.soft===!0?.5:+v.soft;d=1/(N*60),c=0}return i||(s=dt(),p=!1,i=Mt(N=>{if(p)return p=!1,i=null,!1;c=Math.min(c+d,1);const S={inv_mass:c,opts:g,settled:!0,dt:(N-s)*60/1e3},w=cn(S,u,n,f);return s=N,u=n,t.set(n=w),S.settled&&(i=null),!S.settled})),new Promise(N=>{i.promise.then(()=>{L===a&&N()})})}const g={set:_,update:(h,v)=>_(h(f,n),v),subscribe:t.subscribe,stiffness:r,damping:l,precision:o};return g}function dn(n,e){if(n===e||n!==n)return()=>n;const t=typeof n;if(t!==typeof e||Array.isArray(n)!==Array.isArray(e))throw new Error("Cannot interpolate values of different type");if(Array.isArray(n)){const r=e.map((l,o)=>dn(n[o],l));return l=>r.map(o=>o(l))}if(t==="object"){if(!n||!e)throw new Error("Object cannot be null");if(Wt(n)&&Wt(e)){n=n.getTime(),e=e.getTime();const o=e-n;return s=>new Date(n+s*o)}const r=Object.keys(e),l={};return r.forEach(o=>{l[o]=dn(n[o],e[o])}),o=>{const s={};return r.forEach(i=>{s[i]=l[i](o)}),s}}if(t==="number"){const r=e-n;return l=>n+l*r}throw new Error(`Cannot interpolate ${t} values`)}function Gi(n,e={}){const t=Oe(n);let r,l=n;function o(s,i){if(n==null)return t.set(n=s),Promise.resolve();l=s;let a=r,u=!1,{delay:f=0,duration:c=400,easing:d=_t,interpolate:p=dn}=Te(Te({},e),i);if(c===0)return a&&(a.abort(),a=null),t.set(n=l),Promise.resolve();const _=dt()+f;let g;return r=Mt(h=>{if(h<_)return!0;u||(g=p(n,s),typeof c=="function"&&(c=c(n,s)),u=!0),a&&(a.abort(),a=null);const v=h-_;return v>c?(t.set(n=s),!1):(t.set(n=g(d(v/c))),!0)}),r.promise}return{set:o,update:(s,i)=>o(s(l,n),i),subscribe:t.subscribe}}function Yi(n){let e,t=n[0].msg+"",r;return{c(){e=new Mn(!1),r=Ce(),e.a=r},m(l,o){e.m(t,l,o),T(l,r,o)},p(l,o){o&1&&t!==(t=l[0].msg+"")&&e.p(t)},i:X,o:X,d(l){l&&A(r),l&&e.d()}}}function Ki(n){let e,t,r;const l=[n[6]()];var o=n[0].component.src;function s(i){let a={};for(let u=0;u<l.length;u+=1)a=Te(a,l[u]);return{props:a}}return o&&(e=new o(s())),{c(){e&&W(e.$$.fragment),t=Ce()},m(i,a){e&&Y(e,i,a),T(i,t,a),r=!0},p(i,a){const u=a&64?Lt(l,[vi(i[6]())]):{};if(o!==(o=i[0].component.src)){if(e){te();const f=e;C(f.$$.fragment,1,0,()=>{K(f,1)}),ne()}o?(e=new o(s()),W(e.$$.fragment),O(e.$$.fragment,1),Y(e,t.parentNode,t)):e=null}else o&&e.$set(u)},i(i){r||(e&&O(e.$$.fragment,i),r=!0)},o(i){e&&C(e.$$.fragment,i),r=!1},d(i){i&&A(t),e&&K(e,i)}}}function Wn(n){let e,t,r;return{c(){e=k("div"),e.textContent="\u2715",m(e,"class","_toastBtn pe svelte-5er0t9"),m(e,"role","button"),m(e,"tabindex","-1")},m(l,o){T(l,e,o),t||(r=G(e,"click",n[3]),t=!0)},p:X,d(l){l&&A(e),t=!1,r()}}}function Wi(n){let e,t,r,l,o,s,i,a,u,f;const c=[Ki,Yi],d=[];function p(g,h){return g[0].component?0:1}r=p(n),l=d[r]=c[r](n);let _=n[0].dismissable&&Wn(n);return{c(){e=k("div"),t=k("div"),l.c(),o=D(),_&&_.c(),s=D(),i=k("progress"),m(t,"role","status"),m(t,"class","_toastMsg svelte-5er0t9"),re(t,"pe",n[0].component),m(i,"class","_toastBar svelte-5er0t9"),i.value=n[1],m(e,"class","_toastItem svelte-5er0t9"),re(e,"pe",n[0].pausable)},m(g,h){T(g,e,h),b(e,t),d[r].m(t,null),b(e,o),_&&_.m(e,null),b(e,s),b(e,i),a=!0,u||(f=[G(e,"mouseenter",n[4]),G(e,"mouseleave",n[5])],u=!0)},p(g,[h]){let v=r;r=p(g),r===v?d[r].p(g,h):(te(),C(d[v],1,1,()=>{d[v]=null}),ne(),l=d[r],l?l.p(g,h):(l=d[r]=c[r](g),l.c()),O(l,1),l.m(t,null)),h&1&&re(t,"pe",g[0].component),g[0].dismissable?_?_.p(g,h):(_=Wn(g),_.c(),_.m(e,s)):_&&(_.d(1),_=null),(!a||h&2)&&(i.value=g[1]),h&1&&re(e,"pe",g[0].pausable)},i(g){a||(O(l),a=!0)},o(g){C(l),a=!1},d(g){g&&A(e),d[r].d(),_&&_.d(),u=!1,de(f)}}}function Xi(n,e,t){let r,{item:l}=e;const o=Gi(l.initial,{duration:l.duration,easing:_t});oe(n,o,_=>t(1,r=_));const s=()=>Ne.pop(l.id),i=()=>{(r===1||r===0)&&s()};let a=l.initial,u=a,f=!1;const c=()=>{l.pausable&&!f&&r!==a&&(o.set(r,{duration:0}),f=!0)},d=()=>{if(f){const _=l.duration,g=_-_*((r-u)/(a-u));o.set(a,{duration:g}).then(i),f=!1}},p=()=>{const{props:_={},sendIdTo:g}=l.component;return g&&(_[g]=l.id),_};return Ql(()=>{typeof l.onpop=="function"&&l.onpop(l.id)}),n.$$set=_=>{"item"in _&&t(0,l=_.item)},n.$$.update=()=>{n.$$.dirty&1&&typeof l.progress<"u"&&t(0,l.next=l.progress,l),n.$$.dirty&131&&a!==l.next&&(t(7,a=l.next),u=r,f=!1,o.set(a).then(i))},[l,r,o,s,c,d,p,a]}class Qi extends ce{constructor(e){super(),fe(this,e,Xi,Wi,ue,{item:0})}}function Xn(n,e,t){const r=n.slice();return r[5]=e[t],r}function Qn(n,e){let t,r,l,o,s,i,a,u,f=X,c;return r=new Qi({props:{item:e[5]}}),{key:n,first:null,c(){t=k("li"),W(r.$$.fragment),l=D(),m(t,"class",o=ct(e[5].classes.join(" "))+" svelte-yh90az"),m(t,"style",s=e[1](e[5].theme)),this.first=t},m(d,p){T(d,t,p),Y(r,t,null),b(t,l),c=!0},p(d,p){e=d;const _={};p&1&&(_.item=e[5]),r.$set(_),(!c||p&1&&o!==(o=ct(e[5].classes.join(" "))+" svelte-yh90az"))&&m(t,"class",o),(!c||p&1&&s!==(s=e[1](e[5].theme)))&&m(t,"style",s)},r(){u=t.getBoundingClientRect()},f(){mi(t),f(),Xl(t,u)},a(){f(),f=di(t,u,Fi,{duration:200})},i(d){c||(O(r.$$.fragment,d),tt(()=>{a&&a.end(1),i=bi(t,Ui,e[5].intro),i.start()}),c=!0)},o(d){C(r.$$.fragment,d),i&&i.invalidate(),a=ki(t,Bi,{}),c=!1},d(d){d&&A(t),K(r),d&&a&&a.end()}}}function Ji(n){let e,t=[],r=new Map,l,o=n[0];const s=i=>i[5].id;for(let i=0;i<o.length;i+=1){let a=Xn(n,o,i),u=s(a);r.set(u,t[i]=Qn(u,a))}return{c(){e=k("ul");for(let i=0;i<t.length;i+=1)t[i].c();m(e,"class","_toastContainer svelte-yh90az")},m(i,a){T(i,e,a);for(let u=0;u<t.length;u+=1)t[u].m(e,null);l=!0},p(i,[a]){if(a&3){o=i[0],te();for(let u=0;u<t.length;u+=1)t[u].r();t=Dn(t,a,s,1,i,o,r,e,yi,Qn,null,Xn);for(let u=0;u<t.length;u+=1)t[u].a();ne()}},i(i){if(!l){for(let a=0;a<o.length;a+=1)O(t[a]);l=!0}},o(i){for(let a=0;a<t.length;a+=1)C(t[a]);l=!1},d(i){i&&A(e);for(let a=0;a<t.length;a+=1)t[a].d()}}}function Zi(n,e,t){let r;oe(n,Ne,a=>t(4,r=a));let{options:l={}}=e,{target:o="default"}=e,s;const i=a=>Object.keys(a).reduce((u,f)=>`${u}${f}:${a[f]};`,"");return n.$$set=a=>{"options"in a&&t(2,l=a.options),"target"in a&&t(3,o=a.target)},n.$$.update=()=>{n.$$.dirty&12&&Ne._init(o,l),n.$$.dirty&24&&t(0,s=r.filter(a=>a.target===o))},[s,i,l,o,r]}class $i extends ce{constructor(e){super(),fe(this,e,Zi,Ji,ue,{options:2,target:3})}}const xi=n=>({}),Jn=n=>({}),es=n=>({}),Zn=n=>({}),ts=n=>({}),$n=n=>({});function ns(n){let e,t,r,l,o,s,i,a,u,f,c,d,p,_,g,h;const v=n[5].header,L=Me(v,n,n[4],$n),N=n[5].body,S=Me(N,n,n[4],Zn),w=n[5].footer,E=Me(w,n,n[4],Jn);return{c(){e=k("dialog"),t=k("header"),r=k("div"),L&&L.c(),l=D(),o=k("button"),o.textContent="\u2716",i=D(),a=k("div"),S&&S.c(),f=D(),c=k("footer"),E&&E.c(),m(o,"class","icon-button"),m(r,"class","row"),$(r,"justify-content","space-between"),$(r,"padding-left","20px"),$(r,"padding-right","20px"),m(t,"style",s=n[0].header),m(a,"style",u=n[0].body),m(c,"style",d=n[0].footer),m(e,"style",p=n[0].dialog),m(e,"class","svelte-yqhhsc")},m(P,V){T(P,e,V),b(e,t),b(t,r),L&&L.m(r,null),b(r,l),b(r,o),b(e,i),b(e,a),S&&S.m(a,null),b(e,f),b(e,c),E&&E.m(c,null),n[7](e),_=!0,g||(h=[G(o,"click",n[6]),G(e,"click",n[2])],g=!0)},p(P,[V]){L&&L.p&&(!_||V&16)&&Ee(L,v,P,P[4],_?Le(v,P[4],V,ts):Re(P[4]),$n),(!_||V&1&&s!==(s=P[0].header))&&m(t,"style",s),S&&S.p&&(!_||V&16)&&Ee(S,N,P,P[4],_?Le(N,P[4],V,es):Re(P[4]),Zn),(!_||V&1&&u!==(u=P[0].body))&&m(a,"style",u),E&&E.p&&(!_||V&16)&&Ee(E,w,P,P[4],_?Le(w,P[4],V,xi):Re(P[4]),Jn),(!_||V&1&&d!==(d=P[0].footer))&&m(c,"style",d),(!_||V&1&&p!==(p=P[0].dialog))&&m(e,"style",p)},i(P){_||(O(L,P),O(S,P),O(E,P),_=!0)},o(P){C(L,P),C(S,P),C(E,P),_=!1},d(P){P&&A(e),L&&L.d(P),S&&S.d(P),E&&E.d(P),n[7](null),g=!1,de(h)}}}const Ie=Oe({});function rs(n,e,t){let r,l=X;oe(n,Ie,p=>t(8,r=p)),n.$$.on_destroy.push(()=>l());let{$$slots:o={},$$scope:s}=e,{key:i=""}=e,a;En(()=>Se(Ie,r[i]=a,r)),Ql(()=>delete r[i]);const u=p=>{if(p.currentTarget.tagName!=="DIALOG")return;const _=p.currentTarget.getBoundingClientRect();_.top<=p.clientY&&p.clientY<=_.top+_.height&&_.left<=p.clientX&&p.clientX<=_.left+_.width||a.close()};let{styles:f={}}=e;const c=()=>a.close();function d(p){ye[p?"unshift":"push"](()=>{a=p,t(1,a)})}return n.$$set=p=>{"key"in p&&t(3,i=p.key),"styles"in p&&t(0,f=p.styles),"$$scope"in p&&t(4,s=p.$$scope)},[f,a,u,i,s,o,c,d]}class bt extends ce{constructor(e){super(),fe(this,e,rs,ns,ue,{key:3,styles:0})}}function ls(n){let e,t=`${n[0]} transparent ${n[0]}
  ${n[0]}`;return{c(){e=k("div"),$(e,"--duration",n[1]),m(e,"class","svelte-66wdl1"),$(e,"border-color",t,!1),$(e,"width",n[2],!1),$(e,"height",n[2],!1)},m(r,l){T(r,e,l)},p(r,[l]){l&2&&$(e,"--duration",r[1]),l&1&&t!==(t=`${r[0]} transparent ${r[0]}
  ${r[0]}`)&&$(e,"border-color",t,!1),l&4&&$(e,"width",r[2],!1),l&4&&$(e,"height",r[2],!1)},i:X,o:X,d(r){r&&A(e)}}}function os(n,e,t){let{color:r="cornflowerblue"}=e,{duration:l="1.5s"}=e,{size:o="1em"}=e;return n.$$set=s=>{"color"in s&&t(0,r=s.color),"duration"in s&&t(1,l=s.duration),"size"in s&&t(2,o=s.size)},[r,l,o]}class is extends ce{constructor(e){super(),fe(this,e,os,ls,ue,{color:0,duration:1,size:2})}}function ss(n){let e,t,r=[n[0],{fill:"currentColor"},{viewBox:"0 0 16 16"}],l={};for(let o=0;o<r.length;o+=1)l=Te(l,r[o]);return{c(){e=Ae("svg"),t=Ae("path"),m(t,"d","M3.646 9.146a.5.5 0 0 1 .708 0L8 12.793l3.646-3.647a.5.5 0 0 1 .708.708l-4 4a.5.5 0 0 1-.708 0l-4-4a.5.5 0 0 1 0-.708zm0-2.292a.5.5 0 0 0 .708 0L8 3.207l3.646 3.647a.5.5 0 0 0 .708-.708l-4-4a.5.5 0 0 0-.708 0l-4 4a.5.5 0 0 0 0 .708z"),mt(e,l)},m(o,s){T(o,e,s),b(e,t)},p(o,[s]){mt(e,l=Lt(r,[s&1&&o[0],{fill:"currentColor"},{viewBox:"0 0 16 16"}]))},i:X,o:X,d(o){o&&A(e)}}}function as(n,e,t){return n.$$set=r=>{t(0,e=Te(Te({},e),ft(r)))},e=ft(e),[e]}class us extends ce{constructor(e){super(),fe(this,e,as,ss,ue,{})}}function fs(n){let e,t,r=[n[0],{viewBox:"0 0 20 20"},{fill:"currentColor"}],l={};for(let o=0;o<r.length;o+=1)l=Te(l,r[o]);return{c(){e=Ae("svg"),t=Ae("path"),m(t,"d","M10 1.6a8.4 8.4 0 100 16.8 8.4 8.4 0 000-16.8zm4.789 11.461L13.06 14.79 10 11.729l-3.061 3.06L5.21 13.06 8.272 10 5.211 6.939 6.94 5.211 10 8.271l3.061-3.061 1.729 1.729L11.728 10l3.061 3.061z"),mt(e,l)},m(o,s){T(o,e,s),b(e,t)},p(o,[s]){mt(e,l=Lt(r,[s&1&&o[0],{viewBox:"0 0 20 20"},{fill:"currentColor"}]))},i:X,o:X,d(o){o&&A(e)}}}function cs(n,e,t){return n.$$set=r=>{t(0,e=Te(Te({},e),ft(r)))},e=ft(e),[e]}class uo extends ce{constructor(e){super(),fe(this,e,cs,fs,ue,{})}}function ds(n){let e,t,r,l=[n[0],{viewBox:"0 0 24 24"},{fill:"currentColor"}],o={};for(let s=0;s<l.length;s+=1)o=Te(o,l[s]);return{c(){e=Ae("svg"),t=Ae("path"),r=Ae("path"),m(t,"fill","none"),m(t,"d","M0 0h24v24H0V0z"),m(r,"d","M14.48 11.95c.17.02.34.05.52.05 2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4c0 .18.03.35.05.52l3.43 3.43zm2.21 2.21L22.53 20H23v-2c0-2.14-3.56-3.5-6.31-3.84zM0 3.12l4 4V10H1v2h3v3h2v-3h2.88l2.51 2.51C9.19 15.11 7 16.3 7 18v2h9.88l4 4 1.41-1.41L1.41 1.71 0 3.12zM6.88 10H6v-.88l.88.88z"),mt(e,o)},m(s,i){T(s,e,i),b(e,t),b(e,r)},p(s,[i]){mt(e,o=Lt(l,[i&1&&s[0],{viewBox:"0 0 24 24"},{fill:"currentColor"}]))},i:X,o:X,d(s){s&&A(e)}}}function ms(n,e,t){return n.$$set=r=>{t(0,e=Te(Te({},e),ft(r)))},e=ft(e),[e]}class _s extends ce{constructor(e){super(),fe(this,e,ms,ds,ue,{})}}function ps(n){let e,t=`rotate(${n[0].angle}deg) scale(${n[0].scale}) translate(${n[0].dx}px,
  ${n[0].dy}px)`,r;const l=n[11].default,o=Me(l,n,n[10],null);return{c(){e=k("span"),o&&o.c(),$(e,"transform",t,!1)},m(s,i){T(s,e,i),o&&o.m(e,null),r=!0},p(s,[i]){o&&o.p&&(!r||i&1024)&&Ee(o,l,s,s[10],r?Le(l,s[10],i,null):Re(s[10]),null),i&1&&t!==(t=`rotate(${s[0].angle}deg) scale(${s[0].scale}) translate(${s[0].dx}px,
  ${s[0].dy}px)`)&&$(e,"transform",t,!1)},i(s){r||(O(o,s),r=!0)},o(s){C(o,s),r=!1},d(s){s&&A(e),o&&o.d(s)}}}function hs(n,e,t){let r,{$$slots:l={},$$scope:o}=e,{wiggle:s=!1}=e,{angle:i=0}=e,{scale:a=1}=e,{dx:u=0}=e,{dy:f=0}=e,{duration:c=200}=e,{stiffness:d=.05}=e,{damping:p=.1}=e,_={angle:0,scale:1,dx:0,dy:0},g=Vi(_,{stiffness:d,damping:p});return oe(n,g,h=>t(0,r=h)),n.$$set=h=>{"wiggle"in h&&t(2,s=h.wiggle),"angle"in h&&t(3,i=h.angle),"scale"in h&&t(4,a=h.scale),"dx"in h&&t(5,u=h.dx),"dy"in h&&t(6,f=h.dy),"duration"in h&&t(7,c=h.duration),"stiffness"in h&&t(8,d=h.stiffness),"damping"in h&&t(9,p=h.damping),"$$scope"in h&&t(10,o=h.$$scope)},n.$$.update=()=>{n.$$.dirty&132&&s&&setTimeout(()=>t(2,s=!1),c),n.$$.dirty&124&&g.set(s?{scale:a,angle:i,dx:u,dy:f}:_)},[r,g,s,i,a,u,f,c,d,p,o,l]}class gs extends ce{constructor(e){super(),fe(this,e,hs,ps,ue,{wiggle:2,angle:3,scale:4,dx:5,dy:6,duration:7,stiffness:8,damping:9})}}function xn(n,e,t){const r=n.slice();r[75]=e[t],r[81]=t;const l=r[75]instanceof Object?r[75]:{label:r[75]};r[76]=l.label,r[32]=l.disabled!==void 0?l.disabled:null,r[77]=l.title!==void 0?l.title:null,r[78]=l.selectedTitle!==void 0?l.selectedTitle:null,r[33]=l.disabledTitle!==void 0?l.disabledTitle:r[25];const o=r[5]&&be(r[5])===r[76];return r[79]=o,r}const bs=n=>({option:n[0]&4}),er=n=>({option:n[75],idx:n[81]}),ks=n=>({}),tr=n=>({}),ys=n=>({}),nr=n=>({}),vs=n=>({}),rr=n=>({});function lr(n,e,t){const r=n.slice();return r[75]=e[t],r[81]=t,r}const ws=n=>({}),or=n=>({}),Os=n=>({option:n[0]&8}),ir=n=>({option:n[75],idx:n[81]});function Cs(n){let e=be(n[75])+"",t;return{c(){t=ee(e)},m(r,l){T(r,t,l)},p(r,l){l[0]&8&&e!==(e=be(r[75])+"")&&ge(t,e)},d(r){r&&A(t)}}}function Ss(n){let e,t=be(n[75])+"",r;return{c(){e=new Mn(!1),r=Ce(),e.a=r},m(l,o){e.m(t,l,o),T(l,r,o)},p(l,o){o[0]&8&&t!==(t=be(l[75])+"")&&e.p(t)},d(l){l&&A(r),l&&e.d()}}}function As(n){let e;function t(o,s){return o[27]?Ss:Cs}let r=t(n),l=r(n);return{c(){l.c(),e=Ce()},m(o,s){l.m(o,s),T(o,e,s)},p(o,s){r===(r=t(o))&&l?l.p(o,s):(l.d(1),l=r(o),l&&(l.c(),l.m(e.parentNode,e)))},d(o){l.d(o),o&&A(e)}}}function sr(n){let e,t,r,l,o;const s=n[48]["remove-icon"],i=Me(s,n,n[73],or),a=i||Ts();function u(){return n[54](n[75])}function f(){return n[55](n[75])}return{c(){e=k("button"),a&&a.c(),m(e,"type","button"),m(e,"title",t=n[23]+" "+be(n[75])),m(e,"class","svelte-1w91bdr")},m(c,d){T(c,e,d),a&&a.m(e,null),r=!0,l||(o=[G(e,"mouseup",qe(u)),G(e,"keydown",function(){lt(n[43](f))&&n[43](f).apply(this,arguments)})],l=!0)},p(c,d){n=c,i&&i.p&&(!r||d[2]&2048)&&Ee(i,s,n,n[73],r?Le(s,n[73],d,ws):Re(n[73]),or),(!r||d[0]&8388616&&t!==(t=n[23]+" "+be(n[75])))&&m(e,"title",t)},i(c){r||(O(a,c),r=!0)},o(c){C(a,c),r=!1},d(c){c&&A(e),a&&a.d(c),l=!1,de(o)}}}function Ts(n){let e,t;return e=new uo({props:{width:"15px"}}),{c(){W(e.$$.fragment)},m(r,l){Y(e,r,l),t=!0},p:X,i(r){t||(O(e.$$.fragment,r),t=!0)},o(r){C(e.$$.fragment,r),t=!1},d(r){K(e,r)}}}function ar(n){let e,t,r,l;const o=n[48].selected,s=Me(o,n,n[73],ir),i=s||As(n);let a=!n[32]&&sr(n);return{c(){e=k("li"),i&&i.c(),t=D(),a&&a.c(),m(e,"class",r=ct(n[18])+" svelte-1w91bdr"),m(e,"aria-selected","true")},m(u,f){T(u,e,f),i&&i.m(e,null),b(e,t),a&&a.m(e,null),l=!0},p(u,f){s?s.p&&(!l||f[0]&8|f[2]&2048)&&Ee(s,o,u,u[73],l?Le(o,u[73],f,Os):Re(u[73]),ir):i&&i.p&&(!l||f[0]&134217736)&&i.p(u,l?f:[-1,-1,-1]),u[32]?a&&(te(),C(a,1,1,()=>{a=null}),ne()):a?(a.p(u,f),f[1]&2&&O(a,1)):(a=sr(u),a.c(),O(a,1),a.m(e,null)),(!l||f[0]&262144&&r!==(r=ct(u[18])+" svelte-1w91bdr"))&&m(e,"class",r)},i(u){l||(O(i,u),O(a),l=!0)},o(u){C(i,u),C(a),l=!1},d(u){u&&A(e),i&&i.d(u),a&&a.d()}}}function ur(n){let e;const t=n[48].spinner,r=Me(t,n,n[73],rr),l=r||Ms();return{c(){l&&l.c()},m(o,s){l&&l.m(o,s),e=!0},p(o,s){r&&r.p&&(!e||s[2]&2048)&&Ee(r,t,o,o[73],e?Le(t,o[73],s,vs):Re(o[73]),rr)},i(o){e||(O(l,o),e=!0)},o(o){C(l,o),e=!1},d(o){l&&l.d(o)}}}function Ms(n){let e,t;return e=new is({}),{c(){W(e.$$.fragment)},m(r,l){Y(e,r,l),t=!0},i(r){t||(O(e.$$.fragment,r),t=!0)},o(r){C(e.$$.fragment,r),t=!1},d(r){K(e,r)}}}function Ls(n){let e,t,r,l=n[10]&&(n[10]>1||n[11])&&fr(n),o=n[10]!==1&&n[3].length>1&&cr(n);return{c(){l&&l.c(),e=D(),o&&o.c(),t=Ce()},m(s,i){l&&l.m(s,i),T(s,e,i),o&&o.m(s,i),T(s,t,i),r=!0},p(s,i){s[10]&&(s[10]>1||s[11])?l?(l.p(s,i),i[0]&3072&&O(l,1)):(l=fr(s),l.c(),O(l,1),l.m(e.parentNode,e)):l&&(te(),C(l,1,1,()=>{l=null}),ne()),s[10]!==1&&s[3].length>1?o?(o.p(s,i),i[0]&1032&&O(o,1)):(o=cr(s),o.c(),O(o,1),o.m(t.parentNode,t)):o&&(te(),C(o,1,1,()=>{o=null}),ne())},i(s){r||(O(l),O(o),r=!0)},o(s){C(l),C(o),r=!1},d(s){l&&l.d(s),s&&A(e),o&&o.d(s),s&&A(t)}}}function Es(n){let e;const t=n[48]["disabled-icon"],r=Me(t,n,n[73],nr),l=r||Ds();return{c(){l&&l.c()},m(o,s){l&&l.m(o,s),e=!0},p(o,s){r&&r.p&&(!e||s[2]&2048)&&Ee(r,t,o,o[73],e?Le(t,o[73],s,ys):Re(o[73]),nr)},i(o){e||(O(l,o),e=!0)},o(o){C(l,o),e=!1},d(o){l&&l.d(o)}}}function fr(n){let e,t,r;function l(s){n[60](s)}let o={angle:20,$$slots:{default:[Rs]},$$scope:{ctx:n}};return n[36]!==void 0&&(o.wiggle=n[36]),e=new gs({props:o}),ye.push(()=>Ve(e,"wiggle",l)),{c(){W(e.$$.fragment)},m(s,i){Y(e,s,i),r=!0},p(s,i){const a={};i[0]&3080|i[2]&2048&&(a.$$scope={dirty:i,ctx:s}),!t&&i[1]&32&&(t=!0,a.wiggle=s[36],He(()=>t=!1)),e.$set(a)},i(s){r||(O(e.$$.fragment,s),r=!0)},o(s){C(e.$$.fragment,s),r=!1},d(s){K(e,s)}}}function Rs(n){var l,o;let e,t=((o=(l=n[11])==null?void 0:l.call(n,n[3].length,n[10]))!=null?o:n[10]>1?`${n[3].length}/${n[10]}`:"")+"",r;return{c(){e=k("span"),r=ee(t),$(e,"padding","0 3pt"),m(e,"class","svelte-1w91bdr")},m(s,i){T(s,e,i),b(e,r)},p(s,i){var a,u;i[0]&3080&&t!==(t=((u=(a=s[11])==null?void 0:a.call(s,s[3].length,s[10]))!=null?u:s[10]>1?`${s[3].length}/${s[10]}`:"")+"")&&ge(r,t)},d(s){s&&A(e)}}}function cr(n){let e,t,r,l;const o=n[48]["remove-icon"],s=Me(o,n,n[73],tr),i=s||Ps();return{c(){e=k("button"),i&&i.c(),m(e,"type","button"),m(e,"class","remove-all svelte-1w91bdr"),m(e,"title",n[24])},m(a,u){T(a,e,u),i&&i.m(e,null),t=!0,r||(l=[G(e,"mouseup",qe(n[42])),G(e,"keydown",n[43](n[42]))],r=!0)},p(a,u){s&&s.p&&(!t||u[2]&2048)&&Ee(s,o,a,a[73],t?Le(o,a[73],u,ks):Re(a[73]),tr),(!t||u[0]&16777216)&&m(e,"title",a[24])},i(a){t||(O(i,a),t=!0)},o(a){C(i,a),t=!1},d(a){a&&A(e),i&&i.d(a),r=!1,de(l)}}}function Ps(n){let e,t;return e=new uo({props:{width:"15px"}}),{c(){W(e.$$.fragment)},m(r,l){Y(e,r,l),t=!0},p:X,i(r){t||(O(e.$$.fragment,r),t=!0)},o(r){C(e.$$.fragment,r),t=!1},d(r){K(e,r)}}}function Ds(n){let e,t;return e=new _s({props:{width:"15px"}}),{c(){W(e.$$.fragment)},m(r,l){Y(e,r,l),t=!0},p:X,i(r){t||(O(e.$$.fragment,r),t=!0)},o(r){C(e.$$.fragment,r),t=!1},d(r){K(e,r)}}}function dr(n){let e,t,r,l=n[2],o=[];for(let a=0;a<l.length;a+=1)o[a]=_r(xn(n,l,a));const s=a=>C(o[a],1,1,()=>{o[a]=null});let i=null;return l.length||(i=mr(n)),{c(){e=k("ul");for(let a=0;a<o.length;a+=1)o[a].c();i&&i.c(),m(e,"class",t="options "+n[19]+" svelte-1w91bdr"),re(e,"hidden",!n[6])},m(a,u){T(a,e,u);for(let f=0;f<o.length;f+=1)o[f].m(e,null);i&&i.m(e,null),r=!0},p(a,u){if(u[0]&472940581|u[1]&464|u[2]&2048){l=a[2];let f;for(f=0;f<l.length;f+=1){const c=xn(a,l,f);o[f]?(o[f].p(c,u),O(o[f],1)):(o[f]=_r(c),o[f].c(),O(o[f],1),o[f].m(e,null))}for(te(),f=l.length;f<o.length;f+=1)s(f);ne(),!l.length&&i?i.p(a,u):l.length?i&&(i.d(1),i=null):(i=mr(a),i.c(),i.m(e,null))}(!r||u[0]&524288&&t!==(t="options "+a[19]+" svelte-1w91bdr"))&&m(e,"class",t),u[0]&524352&&re(e,"hidden",!a[6])},i(a){if(!r){for(let u=0;u<l.length;u+=1)O(o[u]);r=!0}},o(a){o=o.filter(Boolean);for(let u=0;u<o.length;u+=1)C(o[u]);r=!1},d(a){a&&A(e),pt(o,a),i&&i.d()}}}function mr(n){let e;function t(o,s){return o[26]&&o[0]?Is:Ns}let r=t(n),l=r(n);return{c(){l.c(),e=Ce()},m(o,s){l.m(o,s),T(o,e,s)},p(o,s){r===(r=t(o))&&l?l.p(o,s):(l.d(1),l=r(o),l&&(l.c(),l.m(e.parentNode,e)))},d(o){l.d(o),o&&A(e)}}}function Ns(n){let e,t;return{c(){e=k("span"),t=ee(n[15]),m(e,"class","svelte-1w91bdr")},m(r,l){T(r,e,l),b(e,t)},p(r,l){l[0]&32768&&ge(t,r[15])},d(r){r&&A(e)}}}function Is(n){let e,t,r,l,o;return{c(){e=k("li"),t=ee(n[28]),r=D(),m(e,"title",n[28]),m(e,"aria-selected","false"),m(e,"class","svelte-1w91bdr"),re(e,"active",n[35])},m(s,i){T(s,e,i),b(e,t),b(e,r),l||(o=[G(e,"mousedown",qe(n[50])),G(e,"mouseup",qe(n[66])),G(e,"mouseover",n[67]),G(e,"focus",n[68]),G(e,"mouseout",n[69]),G(e,"blur",n[70])],l=!0)},p(s,i){i[0]&268435456&&ge(t,s[28]),i[0]&268435456&&m(e,"title",s[28]),i[1]&16&&re(e,"active",s[35])},d(s){s&&A(e),l=!1,de(o)}}}function js(n){let e=be(n[75])+"",t;return{c(){t=ee(e)},m(r,l){T(r,t,l)},p(r,l){l[0]&4&&e!==(e=be(r[75])+"")&&ge(t,e)},d(r){r&&A(t)}}}function zs(n){let e,t=be(n[75])+"",r;return{c(){e=new Mn(!1),r=Ce(),e.a=r},m(l,o){e.m(t,l,o),T(l,r,o)},p(l,o){o[0]&4&&t!==(t=be(l[75])+"")&&e.p(t)},d(l){l&&A(r),l&&e.d()}}}function Bs(n){let e;function t(o,s){return o[27]?zs:js}let r=t(n),l=r(n);return{c(){l.c(),e=Ce()},m(o,s){l.m(o,s),T(o,e,s)},p(o,s){r===(r=t(o))&&l?l.p(o,s):(l.d(1),l=r(o),l&&(l.c(),l.m(e.parentNode,e)))},d(o){l.d(o),o&&A(e)}}}function _r(n){let e,t,r,l,o,s,i;const a=n[48].option,u=Me(a,n,n[73],er),f=u||Bs(n);function c(){return n[61](n[32],n[76])}function d(){return n[62](n[32],n[75])}function p(){return n[63](n[32],n[75])}return{c(){e=k("li"),f&&f.c(),t=D(),m(e,"title",r=n[32]?n[33]:n[37](n[76])&&n[78]||n[77]),m(e,"class",l=n[20]+" "+(n[79]?n[21]:"")+" svelte-1w91bdr"),m(e,"aria-selected","false"),re(e,"selected",n[37](n[76])),re(e,"active",n[79]),re(e,"disabled",n[32])},m(_,g){T(_,e,g),f&&f.m(e,null),b(e,t),o=!0,s||(i=[G(e,"mousedown",qe(n[49])),G(e,"mouseup",qe(c)),G(e,"mouseover",d),G(e,"focus",p),G(e,"mouseout",n[64]),G(e,"blur",n[65])],s=!0)},p(_,g){n=_,u?u.p&&(!o||g[0]&4|g[2]&2048)&&Ee(u,a,n,n[73],o?Le(a,n[73],g,bs):Re(n[73]),er):f&&f.p&&(!o||g[0]&134217732)&&f.p(n,o?g:[-1,-1,-1]),(!o||g[0]&4|g[1]&64&&r!==(r=n[32]?n[33]:n[37](n[76])&&n[78]||n[77]))&&m(e,"title",r),(!o||g[0]&3145764&&l!==(l=n[20]+" "+(n[79]?n[21]:"")+" svelte-1w91bdr"))&&m(e,"class",l),g[0]&3145764|g[1]&64&&re(e,"selected",n[37](n[76])),g[0]&3145764&&re(e,"active",n[79]),g[0]&3145764&&re(e,"disabled",n[32])},i(_){o||(O(f,_),o=!0)},o(_){C(f,_),o=!1},d(_){_&&A(e),f&&f.d(_),s=!1,de(i)}}}function Us(n){var Q;let e,t,r,l,o,s,i,a,u,f,c,d,p,_,g,h,v,L,N,S,w,E,P,V,U;l=new us({props:{width:"15px",style:"min-width: 1em; padding: 0 1pt;"}});let y=n[3],B=[];for(let H=0;H<y.length;H+=1)B[H]=ar(lr(n,y,H));const F=H=>C(B[H],1,1,()=>{B[H]=null});let z=n[29]&&ur(n);const J=[Es,Ls],q=[];function I(H,Z){return H[32]?0:H[3].length>0?1:-1}~(h=I(n))&&(v=q[h]=J[h](n));let R=(n[0]||((Q=n[1])==null?void 0:Q.length)>0)&&dr(n);return{c(){e=k("div"),t=k("input"),r=D(),W(l.$$.fragment),o=D(),s=k("ul");for(let H=0;H<B.length;H+=1)B[H].c();i=D(),a=k("li"),u=k("input"),_=D(),z&&z.c(),g=D(),v&&v.c(),L=D(),R&&R.c(),t.required=n[30],m(t,"tabindex","-1"),m(t,"aria-hidden","true"),m(t,"aria-label","ignore this, used only to prevent form submission if select is required but empty"),m(t,"class","form-control svelte-1w91bdr"),m(u,"class",f=ct(n[22])+" svelte-1w91bdr"),m(u,"autocomplete",n[31]),m(u,"id",n[13]),m(u,"name",n[14]),u.disabled=n[32],m(u,"placeholder",c=n[4].length?"":n[12]),m(u,"aria-invalid",d=n[9]?"true":null),$(a,"display","contents"),m(a,"class","svelte-1w91bdr"),m(s,"class",p="selected "+n[17]+" svelte-1w91bdr"),m(e,"aria-expanded",n[6]),m(e,"aria-multiselectable",N=n[10]===null||n[10]>1),m(e,"class",S="multiselect "+n[16]+" svelte-1w91bdr"),m(e,"title",w=n[32]?n[33]:null),m(e,"aria-disabled",E=n[32]?"true":null),re(e,"disabled",n[32]),re(e,"single",n[10]===1),re(e,"open",n[6]),re(e,"invalid",n[9])},m(H,Z){T(H,e,Z),b(e,t),ke(t,n[34]),b(e,r),Y(l,e,null),b(e,o),b(e,s);for(let me=0;me<B.length;me+=1)B[me].m(s,null);b(s,i),b(s,a),b(a,u),n[56](u),ke(u,n[0]),b(e,_),z&&z.m(e,null),b(e,g),~h&&q[h].m(e,null),b(e,L),R&&R.m(e,null),n[71](e),P=!0,V||(U=[G(window,"click",n[51]),G(t,"input",n[52]),G(t,"invalid",n[53]),G(u,"input",n[57]),G(u,"mouseup",ii(qe(n[58]))),G(u,"keydown",n[41]),G(u,"focus",n[59]),G(e,"mouseup",qe(n[72]))],V=!0)},p(H,Z){var ve;if((!P||Z[0]&1073741824)&&(t.required=H[30]),Z[1]&8&&t.value!==H[34]&&ke(t,H[34]),Z[0]&142868488|Z[1]&4354|Z[2]&2048){y=H[3];let _e;for(_e=0;_e<y.length;_e+=1){const De=lr(H,y,_e);B[_e]?(B[_e].p(De,Z),O(B[_e],1)):(B[_e]=ar(De),B[_e].c(),O(B[_e],1),B[_e].m(s,i))}for(te(),_e=y.length;_e<B.length;_e+=1)F(_e);ne()}(!P||Z[0]&4194304&&f!==(f=ct(H[22])+" svelte-1w91bdr"))&&m(u,"class",f),(!P||Z[1]&1)&&m(u,"autocomplete",H[31]),(!P||Z[0]&8192)&&m(u,"id",H[13]),(!P||Z[0]&16384)&&m(u,"name",H[14]),(!P||Z[1]&2)&&(u.disabled=H[32]),(!P||Z[0]&4112&&c!==(c=H[4].length?"":H[12]))&&m(u,"placeholder",c),(!P||Z[0]&512&&d!==(d=H[9]?"true":null))&&m(u,"aria-invalid",d),Z[0]&1&&u.value!==H[0]&&ke(u,H[0]),(!P||Z[0]&131072&&p!==(p="selected "+H[17]+" svelte-1w91bdr"))&&m(s,"class",p),H[29]?z?(z.p(H,Z),Z[0]&536870912&&O(z,1)):(z=ur(H),z.c(),O(z,1),z.m(e,g)):z&&(te(),C(z,1,1,()=>{z=null}),ne());let me=h;h=I(H),h===me?~h&&q[h].p(H,Z):(v&&(te(),C(q[me],1,1,()=>{q[me]=null}),ne()),~h?(v=q[h],v?v.p(H,Z):(v=q[h]=J[h](H),v.c()),O(v,1),v.m(e,L)):v=null),H[0]||((ve=H[1])==null?void 0:ve.length)>0?R?(R.p(H,Z),Z[0]&3&&O(R,1)):(R=dr(H),R.c(),O(R,1),R.m(e,null)):R&&(te(),C(R,1,1,()=>{R=null}),ne()),(!P||Z[0]&64)&&m(e,"aria-expanded",H[6]),(!P||Z[0]&1024&&N!==(N=H[10]===null||H[10]>1))&&m(e,"aria-multiselectable",N),(!P||Z[0]&65536&&S!==(S="multiselect "+H[16]+" svelte-1w91bdr"))&&m(e,"class",S),(!P||Z[1]&6&&w!==(w=H[32]?H[33]:null))&&m(e,"title",w),(!P||Z[1]&2&&E!==(E=H[32]?"true":null))&&m(e,"aria-disabled",E),Z[0]&65536|Z[1]&2&&re(e,"disabled",H[32]),Z[0]&66560&&re(e,"single",H[10]===1),Z[0]&65600&&re(e,"open",H[6]),Z[0]&66048&&re(e,"invalid",H[9])},i(H){if(!P){O(l.$$.fragment,H);for(let Z=0;Z<y.length;Z+=1)O(B[Z]);O(z),O(v),O(R),P=!0}},o(H){C(l.$$.fragment,H),B=B.filter(Boolean);for(let Z=0;Z<B.length;Z+=1)C(B[Z]);C(z),C(v),C(R),P=!1},d(H){H&&A(e),K(l),pt(B,H),n[56](null),z&&z.d(),~h&&q[h].d(),R&&R.d(),n[71](null),V=!1,de(U)}}}function Fs(n,e,t){let r,l,{$$slots:o={},$$scope:s}=e,{searchText:i=""}=e,{showOptions:a=!1}=e,{maxSelect:u=null}=e,{maxSelectMsg:f=null}=e,{disabled:c=!1}=e,{disabledTitle:d="This field is disabled"}=e,{options:p}=e,{matchingOptions:_=[]}=e,{selected:g=[]}=e,{selectedLabels:h=[]}=e,{selectedValues:v=[]}=e,{input:L=null}=e,{outerDiv:N=null}=e,{placeholder:S=void 0}=e,{id:w=void 0}=e,{name:E=w}=e,{noOptionsMsg:P="No matching options"}=e,{activeOption:V=null}=e,{filterFunc:U=(j,ae)=>ae?`${be(j)}`.toLowerCase().includes(ae.toLowerCase()):!0}=e,{outerDivClass:y=""}=e,{ulSelectedClass:B=""}=e,{liSelectedClass:F=""}=e,{ulOptionsClass:z=""}=e,{liOptionClass:J=""}=e,{liActiveOptionClass:q=""}=e,{inputClass:I=""}=e,{removeBtnTitle:R="Remove"}=e,{removeAllTitle:Q="Remove all"}=e,{defaultDisabledTitle:H="This option is disabled"}=e,{allowUserOptions:Z=!1}=e,{parseLabelsAsHtml:me=!1}=e,{addOptionMsg:ve="Create this option..."}=e,{autoScroll:_e=!0}=e,{loading:De=!1}=e,{required:Ge=!1}=e,{autocomplete:ie="off"}=e,{invalid:se=!1}=e,{sortSelected:x=!1}=e;(p==null?void 0:p.length)>0||(Z?p=[]:console.error("MultiSelect received no options")),me&&Z&&console.warn("Don't combine parseLabelsAsHtml and allowUserOptions. It's susceptible to XSS attacks!"),u!==null&&u<1&&console.error(`maxSelect must be null or positive integer, got ${u}`),Array.isArray(g)||console.error(`selected prop must be an array, got ${g}`);const he=$t();let $e=!1,Et=!1;function kt(j){if(u&&u>1&&g.length>=u&&t(36,Et=!0),u===null||u===1||g.length<u){let ae=p.find(Ue=>be(Ue)===j);if(!ae&&[!0,"append"].includes(Z)&&i.length>0&&(typeof p[0]=="object"?ae={label:i,value:i}:["number","undefined"].includes(typeof p[0])&&!isNaN(Number(i))?ae=Number(i):ae=i,Z==="append"&&t(1,p=[...p,ae])),t(0,i=""),!ae){console.error(`MultiSelect: option with label ${j} not found`);return}u===1?t(3,g=[ae]):(t(3,g=[...g,ae]),x===!0?t(3,g=g.sort((Ue,xe)=>{const[Rt,ni]=[be(Ue),be(xe)];return`${Rt}`.localeCompare(`${ni}`)})):typeof x=="function"&&t(3,g=g.sort(x))),g.length===u?We(!1):L==null||L.focus(),he("add",{option:ae}),he("change",{option:ae,type:"add"})}}function ot(j){var Ue;if(g.length===0)return;g.splice(h.lastIndexOf(j),1),t(3,g);const ae=(Ue=p.find(xe=>be(xe)===j))!=null?Ue:Z&&{label:j,value:j};if(!ae)return console.error(`MultiSelect: option with label ${j} not found`);he("remove",{option:ae}),he("change",{option:ae,type:"remove"})}function We(j){c||(t(6,a=j),j?(L==null||L.focus(),he("focus")):(L==null||L.blur(),t(5,V=null),he("blur")))}async function Lo(j){if(j.key==="Escape"||j.key==="Tab")We(!1),t(0,i="");else if(j.key==="Enter")if(j.preventDefault(),V){const ae=be(V);h.includes(ae)?ot(ae):kt(ae),t(0,i="")}else Z&&i.length>0?kt(i):We(!0);else if(["ArrowDown","ArrowUp"].includes(j.key)){if(V===null&&_.length>0){t(5,V=_[0]);return}else if(Z&&i.length>0){t(35,$e=!$e);return}else if(V===null)return;const ae=j.key==="ArrowUp"?-1:1,Ue=_.indexOf(V)+ae;Ue<0?t(5,V=_[_.length-1]):Ue===_.length?t(5,V=_[0]):t(5,V=_[Ue]),_e&&setTimeout(()=>{var Rt;const xe=document.querySelector("ul.options > li.active");xe&&((Rt=xe.parentNode)==null||Rt.scrollIntoView({block:"center"}),xe.scrollIntoViewIfNeeded())},10)}else j.key==="Backspace"&&h.length>0&&!i&&ot(h.at(-1))}function Eo(){he("removeAll",{options:g}),he("change",{options:g,type:"removeAll"}),t(3,g=[]),t(0,i="")}const Ro=j=>ae=>{["Enter","Space"].includes(ae.code)&&(ae.preventDefault(),j())};function Po(j){Vn.call(this,n,j)}function Do(j){Vn.call(this,n,j)}const No=j=>{N&&!N.contains(j.target)&&We(!1)};function Io(){r=this.value,t(34,r),t(44,v),t(3,g)}const jo=()=>t(9,se=!0),zo=j=>ot(be(j)),Bo=j=>ot(be(j));function Uo(j){ye[j?"unshift":"push"](()=>{L=j,t(7,L)})}function Fo(){i=this.value,t(0,i)}const qo=()=>We(!0),Ho=()=>We(!0);function Vo(j){Et=j,t(36,Et)}const Go=(j,ae)=>{j||(l(ae)?ot(ae):kt(ae))},Yo=(j,ae)=>{j||t(5,V=ae)},Ko=(j,ae)=>{j||t(5,V=ae)},Wo=()=>t(5,V=null),Xo=()=>t(5,V=null),Qo=()=>kt(i),Jo=()=>t(35,$e=!0),Zo=()=>t(35,$e=!0),$o=()=>t(35,$e=!1),xo=()=>t(35,$e=!1);function ei(j){ye[j?"unshift":"push"](()=>{N=j,t(8,N)})}const ti=()=>We(!0);return n.$$set=j=>{"searchText"in j&&t(0,i=j.searchText),"showOptions"in j&&t(6,a=j.showOptions),"maxSelect"in j&&t(10,u=j.maxSelect),"maxSelectMsg"in j&&t(11,f=j.maxSelectMsg),"disabled"in j&&t(32,c=j.disabled),"disabledTitle"in j&&t(33,d=j.disabledTitle),"options"in j&&t(1,p=j.options),"matchingOptions"in j&&t(2,_=j.matchingOptions),"selected"in j&&t(3,g=j.selected),"selectedLabels"in j&&t(4,h=j.selectedLabels),"selectedValues"in j&&t(44,v=j.selectedValues),"input"in j&&t(7,L=j.input),"outerDiv"in j&&t(8,N=j.outerDiv),"placeholder"in j&&t(12,S=j.placeholder),"id"in j&&t(13,w=j.id),"name"in j&&t(14,E=j.name),"noOptionsMsg"in j&&t(15,P=j.noOptionsMsg),"activeOption"in j&&t(5,V=j.activeOption),"filterFunc"in j&&t(45,U=j.filterFunc),"outerDivClass"in j&&t(16,y=j.outerDivClass),"ulSelectedClass"in j&&t(17,B=j.ulSelectedClass),"liSelectedClass"in j&&t(18,F=j.liSelectedClass),"ulOptionsClass"in j&&t(19,z=j.ulOptionsClass),"liOptionClass"in j&&t(20,J=j.liOptionClass),"liActiveOptionClass"in j&&t(21,q=j.liActiveOptionClass),"inputClass"in j&&t(22,I=j.inputClass),"removeBtnTitle"in j&&t(23,R=j.removeBtnTitle),"removeAllTitle"in j&&t(24,Q=j.removeAllTitle),"defaultDisabledTitle"in j&&t(25,H=j.defaultDisabledTitle),"allowUserOptions"in j&&t(26,Z=j.allowUserOptions),"parseLabelsAsHtml"in j&&t(27,me=j.parseLabelsAsHtml),"addOptionMsg"in j&&t(28,ve=j.addOptionMsg),"autoScroll"in j&&t(46,_e=j.autoScroll),"loading"in j&&t(29,De=j.loading),"required"in j&&t(30,Ge=j.required),"autocomplete"in j&&t(31,ie=j.autocomplete),"invalid"in j&&t(9,se=j.invalid),"sortSelected"in j&&t(47,x=j.sortSelected),"$$scope"in j&&t(73,s=j.$$scope)},n.$$.update=()=>{n.$$.dirty[0]&8&&t(4,h=g.map(be)),n.$$.dirty[0]&8&&t(44,v=g.map(qs)),n.$$.dirty[1]&8192&&t(34,r=v.join(",")),n.$$.dirty[1]&8&&r&&t(9,se=!1),n.$$.dirty[0]&19|n.$$.dirty[1]&16384&&t(2,_=p.filter(j=>U(j,i)&&!(j instanceof Object&&j.disabled)&&!h.includes(be(j)))),n.$$.dirty[0]&36&&V&&!_.includes(V)&&t(5,V=null),n.$$.dirty[0]&16&&t(37,l=j=>h.includes(j))},[i,p,_,g,h,V,a,L,N,se,u,f,S,w,E,P,y,B,F,z,J,q,I,R,Q,H,Z,me,ve,De,Ge,ie,c,d,r,$e,Et,l,kt,ot,We,Lo,Eo,Ro,v,U,_e,x,o,Po,Do,No,Io,jo,zo,Bo,Uo,Fo,qo,Ho,Vo,Go,Yo,Ko,Wo,Xo,Qo,Jo,Zo,$o,xo,ei,ti,s]}class Je extends ce{constructor(e){super(),fe(this,e,Fs,Us,ue,{searchText:0,showOptions:6,maxSelect:10,maxSelectMsg:11,disabled:32,disabledTitle:33,options:1,matchingOptions:2,selected:3,selectedLabels:4,selectedValues:44,input:7,outerDiv:8,placeholder:12,id:13,name:14,noOptionsMsg:15,activeOption:5,filterFunc:45,outerDivClass:16,ulSelectedClass:17,liSelectedClass:18,ulOptionsClass:19,liOptionClass:20,liActiveOptionClass:21,inputClass:22,removeBtnTitle:23,removeAllTitle:24,defaultDisabledTitle:25,allowUserOptions:26,parseLabelsAsHtml:27,addOptionMsg:28,autoScroll:46,loading:29,required:30,autocomplete:31,invalid:9,sortSelected:47},null,[-1,-1,-1])}}const be=n=>n instanceof Object?n.label:n,qs=n=>{var e;return n instanceof Object?(e=n.value)!=null?e:n.label:n};var Fl;typeof Element<"u"&&!((Fl=Element.prototype)!=null&&Fl.scrollIntoViewIfNeeded)&&(Element.prototype.scrollIntoViewIfNeeded=function(n=!0){const e=this;new IntersectionObserver(function([t]){const r=t.intersectionRatio;if(r<1){const l=r<=0&&n?"center":"nearest";e.scrollIntoView({block:l,inline:l})}this.disconnect()}).observe(this)});const Hs="http://localhost:8080";async function pe(n,e="GET",t=null){const r={method:e,body:t?t instanceof FormData?t:JSON.stringify(t):null};t instanceof FormData||(r.headers={...r.headers,"Content-Type":"application/json"}),n!=="/auth/login"&&(r.headers={...r.headers,Authorization:"Bearer "+localStorage.getItem("AUTH_TOKEN")});const l=await fetch(Hs+"/api"+n,r);if(!l.ok){const o=new Error;throw o.cause=(await l.json()).cause,o}return await l.json()}const Xt=Oe({sortBy:"date",order:"asc",folder:"",tags:[],search:"",page:0}),In=Oe({page:0,total:0,moreLeft:!1}),Vs=to(Xt,n=>{const e=[];if(n.sortBy&&n.order){const t=`sort_by=${n.sortBy}&order=${n.order}`;e.push(t)}if(n.folder){const t=`folder=${n.folder}`;e.push(t)}if(n.search){const t=`search=${n.search}`;e.push(t)}if(n.tags.length>0){const r=n.tags.map(l=>`tags[]=${l}`).join("&");e.push(r)}return e.push(`page=${n.page}`),"?"+e.join("&")}),Gs=()=>{const n=Oe([]),{set:e,subscribe:t,update:r}=n;return{set:e,subscribe:t,update:r,init:async()=>{try{const l=await pe("/bookmarks");e(l.data),In.set({total:l.total,moreLeft:l.total>20,page:l.page})}catch{e([])}},add:(...l)=>{r(o=>[...o,...l])},delete:(...l)=>{r(o=>o.filter(({id:s})=>!l.includes(s)))},updateOne:(l,o)=>{r(s=>s.map(i=>i.id===l?{...i,...o}:i))}}},Ys=()=>{const n=Oe([]),{set:e,subscribe:t,update:r}=n;return{subscribe:t,init:async()=>{try{const l=await pe("/tags");e(l)}catch{e([])}},add:(...l)=>{r(o=>[...o,...l])},delete:(...l)=>{r(o=>o.filter(({id:s})=>!l.includes(s)))},updateOne:(l,o)=>{r(s=>s.map(i=>i.id===l?{...i,...o}:i))}}},Ks=()=>{const n=Oe([]),e=to(n,(o,s)=>{const i=[],a=(u,f="")=>{u.forEach(({children:c,id:d,name:p})=>{var g;const _=f+p+"/";i.push({label:_,id:d}),((g=c==null?void 0:c.length)!=null?g:0)>0&&a(c,_)})};a(o),s(i)}),{set:t,subscribe:r,update:l}=n;return{subscribe:r,init:async()=>{try{const o=await pe("/folders/tree");t(o)}catch{t([])}},flattened:e}},Ws=()=>{const{set:n,subscribe:e}=Oe({loggedIn:!!window.localStorage.getItem("AUTH_TOKEN"),token:""});return{subscribe:e,login:t=>{window.localStorage.setItem("AUTH_TOKEN",t),n({loggedIn:!0,token:t})},logout:()=>{window.localStorage.removeItem("AUTH_TOKEN"),n({loggedIn:!1,token:""})}}},nt=Gs(),Xs=Ys(),jn=Ws(),Qs=Ks(),Pe=Object.freeze(Object.defineProperty({__proto__:null,queryParams:Xt,stats:In,queryStr:Vs,bookmarks:nt,tags:Xs,auth:jn,folders:Qs},Symbol.toStringTag,{value:"Module"})),St="NAME_ALREADY_PRESENT";/*!
 * Font Awesome Free 6.1.2 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2022 Fonticons, Inc.
 */var Js={prefix:"fas",iconName:"arrow-left",icon:[448,512,[8592],"f060","M447.1 256C447.1 273.7 433.7 288 416 288H109.3l105.4 105.4c12.5 12.5 12.5 32.75 0 45.25C208.4 444.9 200.2 448 192 448s-16.38-3.125-22.62-9.375l-160-160c-12.5-12.5-12.5-32.75 0-45.25l160-160c12.5-12.5 32.75-12.5 45.25 0s12.5 32.75 0 45.25L109.3 224H416C433.7 224 447.1 238.3 447.1 256z"]},xt={prefix:"fas",iconName:"check",icon:[448,512,[10004,10003],"f00c","M438.6 105.4C451.1 117.9 451.1 138.1 438.6 150.6L182.6 406.6C170.1 419.1 149.9 419.1 137.4 406.6L9.372 278.6C-3.124 266.1-3.124 245.9 9.372 233.4C21.87 220.9 42.13 220.9 54.63 233.4L159.1 338.7L393.4 105.4C405.9 92.88 426.1 92.88 438.6 105.4H438.6z"]},Zs={prefix:"fas",iconName:"chevron-right",icon:[320,512,[9002],"f054","M96 480c-8.188 0-16.38-3.125-22.62-9.375c-12.5-12.5-12.5-32.75 0-45.25L242.8 256L73.38 86.63c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0l192 192c12.5 12.5 12.5 32.75 0 45.25l-192 192C112.4 476.9 104.2 480 96 480z"]},$s={prefix:"fas",iconName:"circle-info",icon:[512,512,["info-circle"],"f05a","M256 0C114.6 0 0 114.6 0 256s114.6 256 256 256s256-114.6 256-256S397.4 0 256 0zM256 128c17.67 0 32 14.33 32 32c0 17.67-14.33 32-32 32S224 177.7 224 160C224 142.3 238.3 128 256 128zM296 384h-80C202.8 384 192 373.3 192 360s10.75-24 24-24h16v-64H224c-13.25 0-24-10.75-24-24S210.8 224 224 224h32c13.25 0 24 10.75 24 24v88h16c13.25 0 24 10.75 24 24S309.3 384 296 384z"]},xs=$s,ea={prefix:"fas",iconName:"clock-rotate-left",icon:[512,512,["history"],"f1da","M256 0C397.4 0 512 114.6 512 256C512 397.4 397.4 512 256 512C201.7 512 151.2 495 109.7 466.1C95.2 455.1 91.64 436 101.8 421.5C111.9 407 131.8 403.5 146.3 413.6C177.4 435.3 215.2 448 256 448C362 448 448 362 448 256C448 149.1 362 64 256 64C202.1 64 155 85.46 120.2 120.2L151 151C166.1 166.1 155.4 192 134.1 192H24C10.75 192 0 181.3 0 168V57.94C0 36.56 25.85 25.85 40.97 40.97L74.98 74.98C121.3 28.69 185.3 0 255.1 0L256 0zM256 128C269.3 128 280 138.7 280 152V246.1L344.1 311C354.3 320.4 354.3 335.6 344.1 344.1C335.6 354.3 320.4 354.3 311 344.1L239 272.1C234.5 268.5 232 262.4 232 256V152C232 138.7 242.7 128 256 128V128z"]},ta={prefix:"fas",iconName:"folder-plus",icon:[512,512,[],"f65e","M464 96h-192l-64-64h-160C21.5 32 0 53.5 0 80v352C0 458.5 21.5 480 48 480h416c26.5 0 48-21.5 48-48v-288C512 117.5 490.5 96 464 96zM336 311.1h-56v56C279.1 381.3 269.3 392 256 392c-13.27 0-23.1-10.74-23.1-23.1V311.1H175.1C162.7 311.1 152 301.3 152 288c0-13.26 10.74-23.1 23.1-23.1h56V207.1C232 194.7 242.7 184 256 184s23.1 10.74 23.1 23.1V264h56C349.3 264 360 274.7 360 288S349.3 311.1 336 311.1z"]},na={prefix:"fas",iconName:"gear",icon:[512,512,[9881,"cog"],"f013","M495.9 166.6C499.2 175.2 496.4 184.9 489.6 191.2L446.3 230.6C447.4 238.9 448 247.4 448 256C448 264.6 447.4 273.1 446.3 281.4L489.6 320.8C496.4 327.1 499.2 336.8 495.9 345.4C491.5 357.3 486.2 368.8 480.2 379.7L475.5 387.8C468.9 398.8 461.5 409.2 453.4 419.1C447.4 426.2 437.7 428.7 428.9 425.9L373.2 408.1C359.8 418.4 344.1 427 329.2 433.6L316.7 490.7C314.7 499.7 307.7 506.1 298.5 508.5C284.7 510.8 270.5 512 255.1 512C241.5 512 227.3 510.8 213.5 508.5C204.3 506.1 197.3 499.7 195.3 490.7L182.8 433.6C167 427 152.2 418.4 138.8 408.1L83.14 425.9C74.3 428.7 64.55 426.2 58.63 419.1C50.52 409.2 43.12 398.8 36.52 387.8L31.84 379.7C25.77 368.8 20.49 357.3 16.06 345.4C12.82 336.8 15.55 327.1 22.41 320.8L65.67 281.4C64.57 273.1 64 264.6 64 256C64 247.4 64.57 238.9 65.67 230.6L22.41 191.2C15.55 184.9 12.82 175.3 16.06 166.6C20.49 154.7 25.78 143.2 31.84 132.3L36.51 124.2C43.12 113.2 50.52 102.8 58.63 92.95C64.55 85.8 74.3 83.32 83.14 86.14L138.8 103.9C152.2 93.56 167 84.96 182.8 78.43L195.3 21.33C197.3 12.25 204.3 5.04 213.5 3.51C227.3 1.201 241.5 0 256 0C270.5 0 284.7 1.201 298.5 3.51C307.7 5.04 314.7 12.25 316.7 21.33L329.2 78.43C344.1 84.96 359.8 93.56 373.2 103.9L428.9 86.14C437.7 83.32 447.4 85.8 453.4 92.95C461.5 102.8 468.9 113.2 475.5 124.2L480.2 132.3C486.2 143.2 491.5 154.7 495.9 166.6V166.6zM256 336C300.2 336 336 300.2 336 255.1C336 211.8 300.2 175.1 256 175.1C211.8 175.1 176 211.8 176 255.1C176 300.2 211.8 336 256 336z"]},ra={prefix:"fas",iconName:"ghost",icon:[384,512,[128123],"f6e2","M186.1 .1032c-105.1 3.126-186.1 94.75-186.1 199.9v264c0 14.25 17.3 21.38 27.3 11.25l24.95-18.5c6.625-5.001 16-4.001 21.5 2.25l43 48.31c6.25 6.251 16.37 6.251 22.62 0l40.62-45.81c6.375-7.251 17.62-7.251 24 0l40.63 45.81c6.25 6.251 16.38 6.251 22.62 0l43-48.31c5.5-6.251 14.88-7.251 21.5-2.25l24.95 18.5c10 10.13 27.3 3.002 27.3-11.25V192C384 83.98 294.9-3.147 186.1 .1032zM128 224c-17.62 0-31.1-14.38-31.1-32.01s14.38-32.01 31.1-32.01s32 14.38 32 32.01S145.6 224 128 224zM256 224c-17.62 0-32-14.38-32-32.01s14.38-32.01 32-32.01c17.62 0 32 14.38 32 32.01S273.6 224 256 224z"]},la={prefix:"fas",iconName:"key",icon:[512,512,[128273],"f084","M282.3 343.7L248.1 376.1C244.5 381.5 238.4 384 232 384H192V424C192 437.3 181.3 448 168 448H128V488C128 501.3 117.3 512 104 512H24C10.75 512 0 501.3 0 488V408C0 401.6 2.529 395.5 7.029 391L168.3 229.7C162.9 212.8 160 194.7 160 176C160 78.8 238.8 0 336 0C433.2 0 512 78.8 512 176C512 273.2 433.2 352 336 352C317.3 352 299.2 349.1 282.3 343.7zM376 176C398.1 176 416 158.1 416 136C416 113.9 398.1 96 376 96C353.9 96 336 113.9 336 136C336 158.1 353.9 176 376 176z"]},oa={prefix:"fas",iconName:"pen-to-square",icon:[512,512,["edit"],"f044","M490.3 40.4C512.2 62.27 512.2 97.73 490.3 119.6L460.3 149.7L362.3 51.72L392.4 21.66C414.3-.2135 449.7-.2135 471.6 21.66L490.3 40.4zM172.4 241.7L339.7 74.34L437.7 172.3L270.3 339.6C264.2 345.8 256.7 350.4 248.4 353.2L159.6 382.8C150.1 385.6 141.5 383.4 135 376.1C128.6 370.5 126.4 361 129.2 352.4L158.8 263.6C161.6 255.3 166.2 247.8 172.4 241.7V241.7zM192 63.1C209.7 63.1 224 78.33 224 95.1C224 113.7 209.7 127.1 192 127.1H96C78.33 127.1 64 142.3 64 159.1V416C64 433.7 78.33 448 96 448H352C369.7 448 384 433.7 384 416V319.1C384 302.3 398.3 287.1 416 287.1C433.7 287.1 448 302.3 448 319.1V416C448 469 405 512 352 512H96C42.98 512 0 469 0 416V159.1C0 106.1 42.98 63.1 96 63.1H192z"]},ia=oa,fo={prefix:"fas",iconName:"pencil",icon:[512,512,[61504,9999,"pencil-alt"],"f303","M421.7 220.3L188.5 453.4L154.6 419.5L158.1 416H112C103.2 416 96 408.8 96 400V353.9L92.51 357.4C87.78 362.2 84.31 368 82.42 374.4L59.44 452.6L137.6 429.6C143.1 427.7 149.8 424.2 154.6 419.5L188.5 453.4C178.1 463.8 165.2 471.5 151.1 475.6L30.77 511C22.35 513.5 13.24 511.2 7.03 504.1C.8198 498.8-1.502 489.7 .976 481.2L36.37 360.9C40.53 346.8 48.16 333.9 58.57 323.5L291.7 90.34L421.7 220.3zM492.7 58.75C517.7 83.74 517.7 124.3 492.7 149.3L444.3 197.7L314.3 67.72L362.7 19.32C387.7-5.678 428.3-5.678 453.3 19.32L492.7 58.75z"]},sa={prefix:"fas",iconName:"plus",icon:[448,512,[10133,61543,"add"],"2b","M432 256c0 17.69-14.33 32.01-32 32.01H256v144c0 17.69-14.33 31.99-32 31.99s-32-14.3-32-31.99v-144H48c-17.67 0-32-14.32-32-32.01s14.33-31.99 32-31.99H192v-144c0-17.69 14.33-32.01 32-32.01s32 14.32 32 32.01v144h144C417.7 224 432 238.3 432 256z"]},aa=sa,ua={prefix:"fas",iconName:"power-off",icon:[512,512,[9211],"f011","M288 256C288 273.7 273.7 288 256 288C238.3 288 224 273.7 224 256V32C224 14.33 238.3 0 256 0C273.7 0 288 14.33 288 32V256zM80 256C80 353.2 158.8 432 256 432C353.2 432 432 353.2 432 256C432 201.6 407.3 152.9 368.5 120.6C354.9 109.3 353 89.13 364.3 75.54C375.6 61.95 395.8 60.1 409.4 71.4C462.2 115.4 496 181.8 496 255.1C496 388.5 388.5 496 256 496C123.5 496 16 388.5 16 255.1C16 181.8 49.75 115.4 102.6 71.4C116.2 60.1 136.4 61.95 147.7 75.54C158.1 89.13 157.1 109.3 143.5 120.6C104.7 152.9 80 201.6 80 256z"]},we={prefix:"fas",iconName:"spinner",icon:[512,512,[],"f110","M304 48C304 74.51 282.5 96 256 96C229.5 96 208 74.51 208 48C208 21.49 229.5 0 256 0C282.5 0 304 21.49 304 48zM304 464C304 490.5 282.5 512 256 512C229.5 512 208 490.5 208 464C208 437.5 229.5 416 256 416C282.5 416 304 437.5 304 464zM0 256C0 229.5 21.49 208 48 208C74.51 208 96 229.5 96 256C96 282.5 74.51 304 48 304C21.49 304 0 282.5 0 256zM512 256C512 282.5 490.5 304 464 304C437.5 304 416 282.5 416 256C416 229.5 437.5 208 464 208C490.5 208 512 229.5 512 256zM74.98 437C56.23 418.3 56.23 387.9 74.98 369.1C93.73 350.4 124.1 350.4 142.9 369.1C161.6 387.9 161.6 418.3 142.9 437C124.1 455.8 93.73 455.8 74.98 437V437zM142.9 142.9C124.1 161.6 93.73 161.6 74.98 142.9C56.24 124.1 56.24 93.73 74.98 74.98C93.73 56.23 124.1 56.23 142.9 74.98C161.6 93.73 161.6 124.1 142.9 142.9zM369.1 369.1C387.9 350.4 418.3 350.4 437 369.1C455.8 387.9 455.8 418.3 437 437C418.3 455.8 387.9 455.8 369.1 437C350.4 418.3 350.4 387.9 369.1 369.1V369.1z"]},fa={prefix:"fas",iconName:"tags",icon:[512,512,[],"f02c","M472.8 168.4C525.1 221.4 525.1 306.6 472.8 359.6L360.8 472.9C351.5 482.3 336.3 482.4 326.9 473.1C317.4 463.8 317.4 448.6 326.7 439.1L438.6 325.9C472.5 291.6 472.5 236.4 438.6 202.1L310.9 72.87C301.5 63.44 301.6 48.25 311.1 38.93C320.5 29.61 335.7 29.7 344.1 39.13L472.8 168.4zM.0003 229.5V80C.0003 53.49 21.49 32 48 32H197.5C214.5 32 230.7 38.74 242.7 50.75L410.7 218.7C435.7 243.7 435.7 284.3 410.7 309.3L277.3 442.7C252.3 467.7 211.7 467.7 186.7 442.7L18.75 274.7C6.743 262.7 0 246.5 0 229.5L.0003 229.5zM112 112C94.33 112 80 126.3 80 144C80 161.7 94.33 176 112 176C129.7 176 144 161.7 144 144C144 126.3 129.7 112 112 112z"]},en={prefix:"fas",iconName:"trash",icon:[448,512,[],"f1f8","M135.2 17.69C140.6 6.848 151.7 0 163.8 0H284.2C296.3 0 307.4 6.848 312.8 17.69L320 32H416C433.7 32 448 46.33 448 64C448 81.67 433.7 96 416 96H32C14.33 96 0 81.67 0 64C0 46.33 14.33 32 32 32H128L135.2 17.69zM394.8 466.1C393.2 492.3 372.3 512 346.9 512H101.1C75.75 512 54.77 492.3 53.19 466.1L31.1 128H416L394.8 466.1z"]},ca={prefix:"fas",iconName:"user-large",icon:[512,512,["user-alt"],"f406","M256 288c79.53 0 144-64.47 144-144s-64.47-144-144-144c-79.52 0-144 64.47-144 144S176.5 288 256 288zM351.1 320H160c-88.36 0-160 71.63-160 160c0 17.67 14.33 32 31.1 32H480c17.67 0 31.1-14.33 31.1-32C512 391.6 440.4 320 351.1 320z"]},da=ca,ma={prefix:"fas",iconName:"xmark",icon:[320,512,[128473,10005,10006,10060,215,"close","multiply","remove","times"],"f00d","M310.6 361.4c12.5 12.5 12.5 32.75 0 45.25C304.4 412.9 296.2 416 288 416s-16.38-3.125-22.62-9.375L160 301.3L54.63 406.6C48.38 412.9 40.19 416 32 416S15.63 412.9 9.375 406.6c-12.5-12.5-12.5-32.75 0-45.25l105.4-105.4L9.375 150.6c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0L160 210.8l105.4-105.4c12.5-12.5 32.75-12.5 45.25 0s12.5 32.75 0 45.25l-105.4 105.4L310.6 361.4z"]},zn=ma;const jt=parseFloat;function mn(n,e=";"){let t;if(Array.isArray(n))t=n.filter(r=>r);else{t=[];for(const r in n)n[r]&&t.push(`${r}:${n[r]}`)}return t.join(e)}function _a(n,e,t,r){let l,o;const s="1em";let i,a,u,f="-.125em";const c="visible";return r&&(u="center",o="1.25em"),t&&(l=t),e&&(e=="lg"?(a="1.33333em",i=".75em",f="-.225em"):e=="xs"?a=".75em":e=="sm"?a=".875em":a=e.replace("x","em")),mn([mn({float:l,width:o,height:s,"line-height":i,"font-size":a,"text-align":u,"vertical-align":f,"transform-origin":"center",overflow:c}),n])}function pa(n,e,t,r,l,o=1,s="",i=""){let a=1,u=1;return l&&(l=="horizontal"?a=-1:l=="vertical"?u=-1:a=u=-1),mn([`translate(${jt(e)*o}${s},${jt(t)*o}${s})`,`scale(${a*jt(n)},${u*jt(n)})`,r&&`rotate(${r}${i})`]," ")}function pr(n){let e,t,r,l,o,s,i,a;function u(d,p){return typeof d[10][4]=="string"?ga:ha}let f=u(n),c=f(n);return{c(){e=Ae("svg"),t=Ae("g"),r=Ae("g"),c.c(),m(r,"transform",n[12]),m(t,"transform",l="translate("+n[10][0]/2+" "+n[10][1]/2+")"),m(t,"transform-origin",o=n[10][0]/4+" 0"),m(e,"id",s=n[1]||void 0),m(e,"class",i="svelte-fa "+n[0]+" svelte-1cj2gr0"),m(e,"style",n[11]),m(e,"viewBox",a="0 0 "+n[10][0]+" "+n[10][1]),m(e,"aria-hidden","true"),m(e,"role","img"),m(e,"xmlns","http://www.w3.org/2000/svg"),re(e,"pulse",n[4]),re(e,"spin",n[3])},m(d,p){T(d,e,p),b(e,t),b(t,r),c.m(r,null)},p(d,p){f===(f=u(d))&&c?c.p(d,p):(c.d(1),c=f(d),c&&(c.c(),c.m(r,null))),p&4096&&m(r,"transform",d[12]),p&1024&&l!==(l="translate("+d[10][0]/2+" "+d[10][1]/2+")")&&m(t,"transform",l),p&1024&&o!==(o=d[10][0]/4+" 0")&&m(t,"transform-origin",o),p&2&&s!==(s=d[1]||void 0)&&m(e,"id",s),p&1&&i!==(i="svelte-fa "+d[0]+" svelte-1cj2gr0")&&m(e,"class",i),p&2048&&m(e,"style",d[11]),p&1024&&a!==(a="0 0 "+d[10][0]+" "+d[10][1])&&m(e,"viewBox",a),p&17&&re(e,"pulse",d[4]),p&9&&re(e,"spin",d[3])},d(d){d&&A(e),c.d()}}}function ha(n){let e,t,r,l,o,s,i,a,u,f;return{c(){e=Ae("path"),s=Ae("path"),m(e,"d",t=n[10][4][0]),m(e,"fill",r=n[6]||n[2]||"currentColor"),m(e,"fill-opacity",l=n[9]!=!1?n[7]:n[8]),m(e,"transform",o="translate("+n[10][0]/-2+" "+n[10][1]/-2+")"),m(s,"d",i=n[10][4][1]),m(s,"fill",a=n[5]||n[2]||"currentColor"),m(s,"fill-opacity",u=n[9]!=!1?n[8]:n[7]),m(s,"transform",f="translate("+n[10][0]/-2+" "+n[10][1]/-2+")")},m(c,d){T(c,e,d),T(c,s,d)},p(c,d){d&1024&&t!==(t=c[10][4][0])&&m(e,"d",t),d&68&&r!==(r=c[6]||c[2]||"currentColor")&&m(e,"fill",r),d&896&&l!==(l=c[9]!=!1?c[7]:c[8])&&m(e,"fill-opacity",l),d&1024&&o!==(o="translate("+c[10][0]/-2+" "+c[10][1]/-2+")")&&m(e,"transform",o),d&1024&&i!==(i=c[10][4][1])&&m(s,"d",i),d&36&&a!==(a=c[5]||c[2]||"currentColor")&&m(s,"fill",a),d&896&&u!==(u=c[9]!=!1?c[8]:c[7])&&m(s,"fill-opacity",u),d&1024&&f!==(f="translate("+c[10][0]/-2+" "+c[10][1]/-2+")")&&m(s,"transform",f)},d(c){c&&A(e),c&&A(s)}}}function ga(n){let e,t,r,l;return{c(){e=Ae("path"),m(e,"d",t=n[10][4]),m(e,"fill",r=n[2]||n[5]||"currentColor"),m(e,"transform",l="translate("+n[10][0]/-2+" "+n[10][1]/-2+")")},m(o,s){T(o,e,s)},p(o,s){s&1024&&t!==(t=o[10][4])&&m(e,"d",t),s&36&&r!==(r=o[2]||o[5]||"currentColor")&&m(e,"fill",r),s&1024&&l!==(l="translate("+o[10][0]/-2+" "+o[10][1]/-2+")")&&m(e,"transform",l)},d(o){o&&A(e)}}}function ba(n){let e,t=n[10][4]&&pr(n);return{c(){t&&t.c(),e=Ce()},m(r,l){t&&t.m(r,l),T(r,e,l)},p(r,[l]){r[10][4]?t?t.p(r,l):(t=pr(r),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:X,o:X,d(r){t&&t.d(r),r&&A(e)}}}function ka(n,e,t){let{class:r=""}=e,{id:l=""}=e,{style:o=""}=e,{icon:s}=e,{size:i=""}=e,{color:a=""}=e,{fw:u=!1}=e,{pull:f=""}=e,{scale:c=1}=e,{translateX:d=0}=e,{translateY:p=0}=e,{rotate:_=""}=e,{flip:g=!1}=e,{spin:h=!1}=e,{pulse:v=!1}=e,{primaryColor:L=""}=e,{secondaryColor:N=""}=e,{primaryOpacity:S=1}=e,{secondaryOpacity:w=.4}=e,{swapOpacity:E=!1}=e,P,V,U;return n.$$set=y=>{"class"in y&&t(0,r=y.class),"id"in y&&t(1,l=y.id),"style"in y&&t(13,o=y.style),"icon"in y&&t(14,s=y.icon),"size"in y&&t(15,i=y.size),"color"in y&&t(2,a=y.color),"fw"in y&&t(16,u=y.fw),"pull"in y&&t(17,f=y.pull),"scale"in y&&t(18,c=y.scale),"translateX"in y&&t(19,d=y.translateX),"translateY"in y&&t(20,p=y.translateY),"rotate"in y&&t(21,_=y.rotate),"flip"in y&&t(22,g=y.flip),"spin"in y&&t(3,h=y.spin),"pulse"in y&&t(4,v=y.pulse),"primaryColor"in y&&t(5,L=y.primaryColor),"secondaryColor"in y&&t(6,N=y.secondaryColor),"primaryOpacity"in y&&t(7,S=y.primaryOpacity),"secondaryOpacity"in y&&t(8,w=y.secondaryOpacity),"swapOpacity"in y&&t(9,E=y.swapOpacity)},n.$$.update=()=>{n.$$.dirty&16384&&t(10,P=s&&s.icon||[0,0,"",[],""]),n.$$.dirty&237568&&t(11,V=_a(o,i,f,u)),n.$$.dirty&8126464&&t(12,U=pa(c,d,p,_,g,512))},[r,l,a,h,v,L,N,S,w,E,P,V,U,o,s,i,u,f,c,d,p,_,g]}class le extends ce{constructor(e){super(),fe(this,e,ka,ba,ue,{class:0,id:1,style:13,icon:14,size:15,color:2,fw:16,pull:17,scale:18,translateX:19,translateY:20,rotate:21,flip:22,spin:3,pulse:4,primaryColor:5,secondaryColor:6,primaryOpacity:7,secondaryOpacity:8,swapOpacity:9})}}function ya(n){let e;return{c(){e=k("h2"),e.textContent="Add new bookmark",m(e,"slot","header")},m(t,r){T(t,e,r)},p:X,d(t){t&&A(e)}}}function hr(n){let e,t;return{c(){e=k("span"),t=ee(n[1]),m(e,"class","m-b-1 red")},m(r,l){T(r,e,l),b(e,t)},p(r,l){l&2&&ge(t,r[1])},d(r){r&&A(e)}}}function va(n){let e,t,r,l,o,s,i,a,u,f,c,d,p,_,g,h,v,L,N,S,w;function E(B){n[12](B)}let P={inputClass:"input-like",outerDivClass:"color-fix",allowUserOptions:!0,addOptionMsg:"+ Create new tag",options:n[5].map(gr)};n[3]!==void 0&&(P.selected=n[3]),f=new Je({props:P}),ye.push(()=>Ve(f,"selected",E));function V(B){n[13](B)}let U={inputClass:"input-like",outerDivClass:"color-fix",maxSelect:1,options:n[6].map(br)};n[4]!==void 0&&(U.selected=n[4]),h=new Je({props:U}),ye.push(()=>Ve(h,"selected",V));let y=n[0]==="ERROR"&&hr(n);return{c(){e=k("div"),t=k("div"),r=k("label"),r.innerHTML='<strong>URL</strong><span class="red">*</span>',l=D(),o=k("input"),s=D(),i=k("div"),a=k("label"),a.innerHTML="<strong>Tags</strong>",u=D(),W(f.$$.fragment),d=D(),p=k("div"),_=k("label"),_.innerHTML="<strong>Folder</strong>",g=D(),W(h.$$.fragment),L=D(),y&&y.c(),m(r,"for","url"),o.autofocus=!0,m(o,"type","url"),m(o,"placeholder","Add new URL"),m(o,"name","url"),m(o,"id","url"),o.required=!0,m(t,"class","col m-b-1"),m(a,"for","tags"),m(i,"class","col m-b-1"),m(_,"for","folders"),m(p,"class","col m-b-1"),m(e,"class","col"),m(e,"slot","body")},m(B,F){T(B,e,F),b(e,t),b(t,r),b(t,l),b(t,o),ke(o,n[2]),b(e,s),b(e,i),b(i,a),b(i,u),Y(f,i,null),b(e,d),b(e,p),b(p,_),b(p,g),Y(h,p,null),b(e,L),y&&y.m(e,null),N=!0,o.focus(),S||(w=G(o,"input",n[11]),S=!0)},p(B,F){F&4&&ke(o,B[2]);const z={};F&32&&(z.options=B[5].map(gr)),!c&&F&8&&(c=!0,z.selected=B[3],He(()=>c=!1)),f.$set(z);const J={};F&64&&(J.options=B[6].map(br)),!v&&F&16&&(v=!0,J.selected=B[4],He(()=>v=!1)),h.$set(J),B[0]==="ERROR"?y?y.p(B,F):(y=hr(B),y.c(),y.m(e,null)):y&&(y.d(1),y=null)},i(B){N||(O(f.$$.fragment,B),O(h.$$.fragment,B),N=!0)},o(B){C(f.$$.fragment,B),C(h.$$.fragment,B),N=!1},d(B){B&&A(e),K(f),K(h),y&&y.d(),S=!1,w()}}}function wa(n){let e;return{c(){e=ee("Add")},m(t,r){T(t,e,r)},p:X,i:X,o:X,d(t){t&&A(e)}}}function Oa(n){let e,t;return e=new le({props:{icon:we,size:"lg",spin:!0}}),{c(){W(e.$$.fragment)},m(r,l){Y(e,r,l),t=!0},p:X,i(r){t||(O(e.$$.fragment,r),t=!0)},o(r){C(e.$$.fragment,r),t=!1},d(r){K(e,r)}}}function Ca(n){let e,t,r,l,o,s,i;const a=[Oa,wa],u=[];function f(c,d){return c[0]==="SUBMITTING"?0:1}return t=f(n),r=u[t]=a[t](n),{c(){e=k("button"),r.c(),m(e,"slot","footer"),m(e,"class","w-full"),e.disabled=l=n[0]==="SUBMITTING",$(e,"margin","1em 0")},m(c,d){T(c,e,d),u[t].m(e,null),o=!0,s||(i=[G(e,"click",n[9]),G(e,"keydown",n[10])],s=!0)},p(c,d){let p=t;t=f(c),t===p?u[t].p(c,d):(te(),C(u[p],1,1,()=>{u[p]=null}),ne(),r=u[t],r?r.p(c,d):(r=u[t]=a[t](c),r.c()),O(r,1),r.m(e,null)),(!o||d&1&&l!==(l=c[0]==="SUBMITTING"))&&(e.disabled=l)},i(c){o||(O(r),o=!0)},o(c){C(r),o=!1},d(c){c&&A(e),u[t].d(),s=!1,de(i)}}}function Sa(n){let e,t;return e=new bt({props:{key:"add-bookmark",styles:{dialog:"width: 600px;"},$$slots:{footer:[Ca],body:[va],header:[ya]},$$scope:{ctx:n}}}),{c(){W(e.$$.fragment)},m(r,l){Y(e,r,l),t=!0},p(r,[l]){const o={};l&131199&&(o.$$scope={dirty:l,ctx:r}),e.$set(o)},i(r){t||(O(e.$$.fragment,r),t=!0)},o(r){C(e.$$.fragment,r),t=!1},d(r){K(e,r)}}}const gr=({id:n,name:e})=>({label:e,value:n}),br=({id:n,label:e})=>({label:e,value:n});function Aa(n,e,t){let r,l,o;oe(n,Ie,S=>t(14,r=S));const{tags:s,folders:i}=Pe;oe(n,s,S=>t(5,l=S));const{flattened:a}=i;oe(n,a,S=>t(6,o=S));let u,f,c,d=[],p=[];const _=S=>S.label==S.value&&typeof S.value=="string",g=async()=>{t(0,u="SUBMITTING"),t(3,d=d.map(E=>typeof E=="string"?{label:E,value:E}:E));const S=d.filter(_);if(S.length>0)try{const E=await pe("/tags/bulk","POST",{names:S.map(({value:P})=>P)});s.add(...E),t(3,d=[...d.filter(P=>!_(P)),...E.map(({id:P,name:V})=>({label:V,value:P}))])}catch(E){t(0,u="ERROR"),E.cause===St&&t(1,f="A tag with the same name is already present.");return}const w={url:c,tags:d.map(({value:E})=>E),folders:p.map(({value:E})=>E)};try{const E=await pe("/bookmarks","POST",w);t(0,u="SUCCESS"),nt.add(E),In.update(P=>({...P,total:P.total+1})),r["add-bookmark"].close()}catch(E){t(0,u="ERROR"),E.cause===St&&t(1,f="The same URL is already present.")}},h=S=>{(S.key===" "||S.key==="Enter")&&(S.preventDefault(),S.stopPropagation(),g())};function v(){c=this.value,t(2,c)}function L(S){d=S,t(3,d)}function N(S){p=S,t(4,p)}return[u,f,c,d,p,l,o,s,a,g,h,v,L,N]}class Ta extends ce{constructor(e){super(),fe(this,e,Aa,Sa,ue,{})}}const Ma=(n=1e3)=>new Promise(e=>setTimeout(e,n));function La(n){let e,t,r,l,o,s;t=new le({props:{icon:n[5]===n[0]?we:n[2],spin:n[5]===n[0]}});let i=[{disabled:r=n[5]!==""},{title:n[3]},n[1]],a={};for(let u=0;u<i.length;u+=1)a=Te(a,i[u]);return{c(){e=k("button"),W(t.$$.fragment),qn(e,a)},m(u,f){T(u,e,f),Y(t,e,null),e.autofocus&&e.focus(),l=!0,o||(s=G(e,"click",n[6]),o=!0)},p(u,[f]){const c={};f&37&&(c.icon=u[5]===u[0]?we:u[2]),f&33&&(c.spin=u[5]===u[0]),t.$set(c),qn(e,a=Lt(i,[(!l||f&32&&r!==(r=u[5]!==""))&&{disabled:r},(!l||f&8)&&{title:u[3]},f&2&&u[1]]))},i(u){l||(O(t.$$.fragment,u),l=!0)},o(u){C(t.$$.fragment,u),l=!1},d(u){u&&A(e),K(t),o=!1,s()}}}const rn=Oe("");function Ea(n,e,t){let r,l=X;oe(n,rn,c=>t(5,r=c)),n.$$.on_destroy.push(()=>l());let{action:o}=e,{props:s={}}=e,{icon:i}=e,{title:a}=e,{handler:u=Ma}=e;const f=async()=>{var c;try{Se(rn,r=o,r),await u()}catch(d){Ne.push((c=d.message)!=null?c:"Error")}finally{Se(rn,r="",r)}};return n.$$set=c=>{"action"in c&&t(0,o=c.action),"props"in c&&t(1,s=c.props),"icon"in c&&t(2,i=c.icon),"title"in c&&t(3,a=c.title),"handler"in c&&t(4,u=c.handler)},[o,s,i,a,u,r,f]}class ln extends ce{constructor(e){super(),fe(this,e,Ea,La,ue,{action:0,props:1,icon:2,title:3,handler:4})}}function Ra(n){let e;return{c(){e=k("h2"),e.textContent="Add tags",m(e,"slot","header")},m(t,r){T(t,e,r)},p:X,d(t){t&&A(e)}}}function Pa(n){let e,t,r,l,o,s,i;function a(f){n[8](f)}let u={inputClass:"input-like",outerDivClass:"color-fix",allowUserOptions:!0,addOptionMsg:"+ Create new tag",options:n[3].map(yr)};return n[2]!==void 0&&(u.selected=n[2]),o=new Je({props:u}),ye.push(()=>Ve(o,"selected",a)),{c(){e=k("div"),t=k("div"),r=k("label"),r.innerHTML="<strong>Tags</strong>",l=D(),W(o.$$.fragment),m(r,"for","tags"),m(t,"class","col m-b-1"),m(e,"slot","body")},m(f,c){T(f,e,c),b(e,t),b(t,r),b(t,l),Y(o,t,null),i=!0},p(f,c){const d={};c&8&&(d.options=f[3].map(yr)),!s&&c&4&&(s=!0,d.selected=f[2],He(()=>s=!1)),o.$set(d)},i(f){i||(O(o.$$.fragment,f),i=!0)},o(f){C(o.$$.fragment,f),i=!1},d(f){f&&A(e),K(o)}}}function kr(n){let e,t;return{c(){e=k("span"),t=ee(n[1]),m(e,"class","m-b-1 red")},m(r,l){T(r,e,l),b(e,t)},p(r,l){l&2&&ge(t,r[1])},d(r){r&&A(e)}}}function Da(n){let e;return{c(){e=ee("Add")},m(t,r){T(t,e,r)},p:X,i:X,o:X,d(t){t&&A(e)}}}function Na(n){let e,t;return e=new le({props:{icon:we,size:"lg",spin:!0}}),{c(){W(e.$$.fragment)},m(r,l){Y(e,r,l),t=!0},p:X,i(r){t||(O(e.$$.fragment,r),t=!0)},o(r){C(e.$$.fragment,r),t=!1},d(r){K(e,r)}}}function Ia(n){let e,t,r,l,o,s,i,a,u,f=n[0]==="ERROR"&&kr(n);const c=[Na,Da],d=[];function p(_,g){return _[0]==="SUBMITTING"?0:1}return l=p(n),o=d[l]=c[l](n),{c(){e=k("div"),f&&f.c(),t=D(),r=k("button"),o.c(),m(r,"class","w-full"),r.disabled=s=n[0]==="SUBMITTING",$(r,"margin","1em 0"),m(e,"slot","footer"),$(e,"margin-top","auto")},m(_,g){T(_,e,g),f&&f.m(e,null),b(e,t),b(e,r),d[l].m(r,null),i=!0,a||(u=[G(r,"click",n[5]),G(r,"keydown",qe(ht(n[7])))],a=!0)},p(_,g){_[0]==="ERROR"?f?f.p(_,g):(f=kr(_),f.c(),f.m(e,t)):f&&(f.d(1),f=null);let h=l;l=p(_),l===h?d[l].p(_,g):(te(),C(d[h],1,1,()=>{d[h]=null}),ne(),o=d[l],o?o.p(_,g):(o=d[l]=c[l](_),o.c()),O(o,1),o.m(r,null)),(!i||g&1&&s!==(s=_[0]==="SUBMITTING"))&&(r.disabled=s)},i(_){i||(O(o),i=!0)},o(_){C(o),i=!1},d(_){_&&A(e),f&&f.d(),d[l].d(),a=!1,de(u)}}}function ja(n){let e,t;return e=new bt({props:{key:"add-tags",styles:{dialog:"width: 600px; height: 400px;"},$$slots:{footer:[Ia],body:[Pa],header:[Ra]},$$scope:{ctx:n}}}),{c(){W(e.$$.fragment)},m(r,l){Y(e,r,l),t=!0},p(r,[l]){const o={};l&2063&&(o.$$scope={dirty:l,ctx:r}),e.$set(o)},i(r){t||(O(e.$$.fragment,r),t=!0)},o(r){C(e.$$.fragment,r),t=!1},d(r){K(e,r)}}}const yr=({id:n,name:e})=>({label:e,value:n});function za(n,e,t){let r,l;oe(n,Ie,_=>t(9,r=_));const{tags:o}=Pe;oe(n,o,_=>t(3,l=_));let s,i,a=[],{markedBookmarks:u=[]}=e;const f=_=>_.label==_.value&&typeof _.value=="string",c=async()=>{t(0,s="SUBMITTING");const _=a.filter(f);if(_.length>0)try{const v=await pe("/tags/bulk","POST",{names:_.map(({value:L})=>L)});o.add(...v),t(2,a=[...a.filter(L=>!f(L)),...v.map(({id:L,name:N})=>({label:N,value:L}))])}catch(v){t(0,s="ERROR"),v.cause===St&&t(1,i="A tag with the same name is already present.");return}const g=a.map(({value:v})=>v),h={link_ids:u,tag_ids:g};try{await pe("/bookmarks/tags","PUT",h),t(0,s="SUCCESS"),nt.update(v=>v.map(L=>u.includes(L.id)?{...L,tags:l.filter(N=>g.includes(N.id)||L.tags.find(({id:S})=>S===N.id))}:L)),t(0,s=""),t(1,i=""),t(2,a=[]),r["add-tags"].close()}catch{t(0,s="ERROR")}},d=_=>{(_.key===" "||_.key==="Enter")&&c()};function p(_){a=_,t(2,a)}return n.$$set=_=>{"markedBookmarks"in _&&t(6,u=_.markedBookmarks)},[s,i,a,l,o,c,u,d,p]}class Ba extends ce{constructor(e){super(),fe(this,e,za,ja,ue,{markedBookmarks:6})}}function Ua(n){let e;return{c(){e=k("h2"),e.textContent="Edit bookmark",m(e,"slot","header")},m(t,r){T(t,e,r)},p:X,d(t){t&&A(e)}}}function vr(n){let e,t;return{c(){e=k("span"),t=ee(n[1]),m(e,"class","m-b-1 red")},m(r,l){T(r,e,l),b(e,t)},p(r,l){l&2&&ge(t,r[1])},d(r){r&&A(e)}}}function Fa(n){let e,t,r,l,o,s,i,a,u,f,c,d,p,_,g,h,v,L,N,S,w,E,P,V,U,y;function B(I){n[15](I)}let F={inputClass:"input-like",outerDivClass:"color-fix",allowUserOptions:!0,addOptionMsg:"+ Create new tag",options:n[5].map(wr)};n[2]!==void 0&&(F.selected=n[2]),g=new Je({props:F}),ye.push(()=>Ve(g,"selected",B));function z(I){n[16](I)}let J={inputClass:"input-like",outerDivClass:"color-fix",maxSelect:1,options:n[6].map(Or)};n[3]!==void 0&&(J.selected=n[3]),w=new Je({props:J}),ye.push(()=>Ve(w,"selected",z));let q=n[0]==="ERROR"&&vr(n);return{c(){e=k("div"),t=k("div"),r=k("label"),r.innerHTML="<strong>Title</strong>",l=D(),o=k("input"),s=D(),i=k("div"),a=k("label"),a.innerHTML="<strong>Description</strong>",u=D(),f=k("textarea"),c=D(),d=k("div"),p=k("label"),p.innerHTML="<strong>Tags</strong>",_=D(),W(g.$$.fragment),v=D(),L=k("div"),N=k("label"),N.innerHTML="<strong>Folder</strong>",S=D(),W(w.$$.fragment),P=D(),q&&q.c(),m(r,"for","title"),o.autofocus=!0,m(o,"type","text"),m(o,"placeholder","Title"),m(o,"name","title"),m(o,"id","title"),o.required=!0,m(t,"class","col m-b-1"),m(a,"for","description"),m(f,"placeholder","Description"),m(f,"name","description"),m(f,"id","description"),f.required=!0,m(i,"class","col m-b-1"),m(p,"for","tags"),m(d,"class","col m-b-1"),m(N,"for","folders"),m(L,"class","col m-b-1"),m(e,"class","col"),m(e,"slot","body")},m(I,R){T(I,e,R),b(e,t),b(t,r),b(t,l),b(t,o),ke(o,n[4].title),b(e,s),b(e,i),b(i,a),b(i,u),b(i,f),ke(f,n[4].description),b(e,c),b(e,d),b(d,p),b(d,_),Y(g,d,null),b(e,v),b(e,L),b(L,N),b(L,S),Y(w,L,null),b(e,P),q&&q.m(e,null),V=!0,o.focus(),U||(y=[G(o,"input",n[13]),G(f,"input",n[14])],U=!0)},p(I,R){R&16&&o.value!==I[4].title&&ke(o,I[4].title),R&16&&ke(f,I[4].description);const Q={};R&32&&(Q.options=I[5].map(wr)),!h&&R&4&&(h=!0,Q.selected=I[2],He(()=>h=!1)),g.$set(Q);const H={};R&64&&(H.options=I[6].map(Or)),!E&&R&8&&(E=!0,H.selected=I[3],He(()=>E=!1)),w.$set(H),I[0]==="ERROR"?q?q.p(I,R):(q=vr(I),q.c(),q.m(e,null)):q&&(q.d(1),q=null)},i(I){V||(O(g.$$.fragment,I),O(w.$$.fragment,I),V=!0)},o(I){C(g.$$.fragment,I),C(w.$$.fragment,I),V=!1},d(I){I&&A(e),K(g),K(w),q&&q.d(),U=!1,de(y)}}}function qa(n){let e;return{c(){e=ee("Save")},m(t,r){T(t,e,r)},p:X,i:X,o:X,d(t){t&&A(e)}}}function Ha(n){let e,t;return e=new le({props:{icon:we,size:"lg",spin:!0}}),{c(){W(e.$$.fragment)},m(r,l){Y(e,r,l),t=!0},p:X,i(r){t||(O(e.$$.fragment,r),t=!0)},o(r){C(e.$$.fragment,r),t=!1},d(r){K(e,r)}}}function Va(n){let e,t,r,l,o,s,i;const a=[Ha,qa],u=[];function f(c,d){return c[0]==="SUBMITTING"?0:1}return t=f(n),r=u[t]=a[t](n),{c(){e=k("button"),r.c(),m(e,"slot","footer"),m(e,"class","w-full"),e.disabled=l=n[0]==="SUBMITTING",$(e,"margin","1em 0")},m(c,d){T(c,e,d),u[t].m(e,null),o=!0,s||(i=[G(e,"click",n[10]),G(e,"keydown",n[12])],s=!0)},p(c,d){let p=t;t=f(c),t===p?u[t].p(c,d):(te(),C(u[p],1,1,()=>{u[p]=null}),ne(),r=u[t],r?r.p(c,d):(r=u[t]=a[t](c),r.c()),O(r,1),r.m(e,null)),(!o||d&1&&l!==(l=c[0]==="SUBMITTING"))&&(e.disabled=l)},i(c){o||(O(r),o=!0)},o(c){C(r),o=!1},d(c){c&&A(e),u[t].d(),s=!1,de(i)}}}function Ga(n){let e,t;return e=new bt({props:{key:"edit-bookmark",styles:{dialog:"width: 600px;"},$$slots:{footer:[Va],body:[Fa],header:[Ua]},$$scope:{ctx:n}}}),{c(){W(e.$$.fragment)},m(r,l){Y(e,r,l),t=!0},p(r,[l]){const o={};l&8388735&&(o.$$scope={dirty:l,ctx:r}),e.$set(o)},i(r){t||(O(e.$$.fragment,r),t=!0)},o(r){C(e.$$.fragment,r),t=!1},d(r){K(e,r)}}}const wr=({id:n,name:e})=>({label:e,value:n}),Or=({id:n,label:e})=>({label:e,value:n});function Ya(n,e,t){let r,l,o,s;oe(n,Ie,y=>t(18,r=y));const{tags:i,bookmarks:a,folders:u}=Pe;oe(n,i,y=>t(5,l=y)),oe(n,a,y=>t(19,s=y));const{flattened:f}=u;oe(n,f,y=>t(6,o=y));let c,d,p=[],_=[],{activeBookmarkId:g}=e,h,v={title:"",description:"",tag_ids:[],folder_ids:[]};const L=()=>{h=s.find(({id:y})=>y===g),t(2,p=h==null?void 0:h.tags.map(({id:y,name:B})=>({label:B,value:y}))),t(3,_=h==null?void 0:h.folders.map(y=>{var B;return{label:((B=o.find(({id:F})=>y===F))==null?void 0:B.label)||"",value:y}})),t(4,v={title:h.meta.title,description:h.meta.description,tag_ids:h.tags.map(({id:y})=>y),folder_ids:h.folders})},N=y=>y.label==y.value&&typeof y.value=="string",S=async()=>{t(0,c="SUBMITTING");const y=p.filter(N);if(y.length>0)try{const F=await pe("/tags/bulk","POST",{names:y.map(({value:z})=>z)});i.add(...F),t(2,p=[...p.filter(z=>!N(z)),...F.map(({id:z,name:J})=>({label:J,value:z}))])}catch(F){t(0,c="ERROR"),F.cause===St&&t(1,d="A tag with the same name is already present."),t(0,c="");return}const B={title:v.title,description:v.description,tag_ids:p.map(({value:F})=>F),folder_ids:_.map(({value:F})=>F)};try{const F=await pe("/bookmarks/"+h.id,"PATCH",B);t(0,c="SUCCESS"),nt.updateOne(h.id,{...h,meta:{...h.meta,title:F.title,description:F.description},last_updated:F.last_updated,tags:l.filter(({id:z})=>F.tag_ids.includes(z))}),r["edit-bookmark"].close()}catch(F){t(0,c="ERROR"),F.cause===St&&t(1,d="The same URL is already present.")}},w=y=>{(y.key===" "||y.key==="Enter")&&(y.preventDefault(),y.stopPropagation(),S())};function E(){v.title=this.value,t(4,v)}function P(){v.description=this.value,t(4,v)}function V(y){p=y,t(2,p)}function U(y){_=y,t(3,_)}return n.$$set=y=>{"activeBookmarkId"in y&&t(11,g=y.activeBookmarkId)},n.$$.update=()=>{n.$$.dirty&2048&&g&&L()},[c,d,p,_,v,l,o,i,a,f,S,g,w,E,P,V,U]}class Ka extends ce{constructor(e){super(),fe(this,e,Ya,Ga,ue,{activeBookmarkId:11})}}function Wa(n){let e;return{c(){e=k("h2"),e.textContent="Assign to folders",m(e,"slot","header")},m(t,r){T(t,e,r)},p:X,d(t){t&&A(e)}}}function Xa(n){let e,t,r,l,o,s,i;function a(f){n[8](f)}let u={inputClass:"input-like",outerDivClass:"color-fix",maxSelect:1,options:n[3].map(Sr)};return n[2]!==void 0&&(u.selected=n[2]),o=new Je({props:u}),ye.push(()=>Ve(o,"selected",a)),{c(){e=k("div"),t=k("div"),r=k("label"),r.innerHTML="<strong>Folders</strong>",l=D(),W(o.$$.fragment),m(r,"for","tags"),m(t,"class","col m-b-1"),m(e,"slot","body")},m(f,c){T(f,e,c),b(e,t),b(t,r),b(t,l),Y(o,t,null),i=!0},p(f,c){const d={};c&8&&(d.options=f[3].map(Sr)),!s&&c&4&&(s=!0,d.selected=f[2],He(()=>s=!1)),o.$set(d)},i(f){i||(O(o.$$.fragment,f),i=!0)},o(f){C(o.$$.fragment,f),i=!1},d(f){f&&A(e),K(o)}}}function Cr(n){let e,t;return{c(){e=k("span"),t=ee(n[1]),m(e,"class","m-b-1 red")},m(r,l){T(r,e,l),b(e,t)},p(r,l){l&2&&ge(t,r[1])},d(r){r&&A(e)}}}function Qa(n){let e;return{c(){e=ee("Add")},m(t,r){T(t,e,r)},p:X,i:X,o:X,d(t){t&&A(e)}}}function Ja(n){let e,t;return e=new le({props:{icon:we,size:"lg",spin:!0}}),{c(){W(e.$$.fragment)},m(r,l){Y(e,r,l),t=!0},p:X,i(r){t||(O(e.$$.fragment,r),t=!0)},o(r){C(e.$$.fragment,r),t=!1},d(r){K(e,r)}}}function Za(n){let e,t,r,l,o,s,i,a,u,f=n[0]==="ERROR"&&Cr(n);const c=[Ja,Qa],d=[];function p(_,g){return _[0]==="SUBMITTING"?0:1}return l=p(n),o=d[l]=c[l](n),{c(){e=k("div"),f&&f.c(),t=D(),r=k("button"),o.c(),m(r,"class","w-full"),r.disabled=s=n[0]==="SUBMITTING",$(r,"margin","1em 0"),m(e,"slot","footer"),$(e,"margin-top","auto")},m(_,g){T(_,e,g),f&&f.m(e,null),b(e,t),b(e,r),d[l].m(r,null),i=!0,a||(u=[G(r,"click",n[5]),G(r,"keydown",qe(ht(n[7])))],a=!0)},p(_,g){_[0]==="ERROR"?f?f.p(_,g):(f=Cr(_),f.c(),f.m(e,t)):f&&(f.d(1),f=null);let h=l;l=p(_),l===h?d[l].p(_,g):(te(),C(d[h],1,1,()=>{d[h]=null}),ne(),o=d[l],o?o.p(_,g):(o=d[l]=c[l](_),o.c()),O(o,1),o.m(r,null)),(!i||g&1&&s!==(s=_[0]==="SUBMITTING"))&&(r.disabled=s)},i(_){i||(O(o),i=!0)},o(_){C(o),i=!1},d(_){_&&A(e),f&&f.d(),d[l].d(),a=!1,de(u)}}}function $a(n){let e,t;return e=new bt({props:{key:"add-folders",styles:{dialog:"width: 600px; height: 400px;"},$$slots:{footer:[Za],body:[Xa],header:[Wa]},$$scope:{ctx:n}}}),{c(){W(e.$$.fragment)},m(r,l){Y(e,r,l),t=!0},p(r,[l]){const o={};l&2063&&(o.$$scope={dirty:l,ctx:r}),e.$set(o)},i(r){t||(O(e.$$.fragment,r),t=!0)},o(r){C(e.$$.fragment,r),t=!1},d(r){K(e,r)}}}const Sr=({id:n,label:e})=>({label:e,value:n});function xa(n,e,t){let r,l;oe(n,Ie,_=>t(9,r=_));const{folders:o}=Pe,{flattened:s}=o;oe(n,s,_=>t(3,l=_));let i,a,u=[],{markedBookmarks:f=[]}=e;const c=async()=>{t(0,i="SUBMITTING");const _={link_ids:f,folder_ids:u.map(({value:g})=>g)};try{await pe("/bookmarks/folders","PUT",_),t(0,i="SUCCESS"),nt.update(g=>g.map(h=>f.includes(h.id)?{...h,folders:_.folder_ids}:h)),t(0,i=""),t(1,a=""),t(2,u=[]),r["add-folders"].close()}catch{t(0,i="ERROR")}},d=_=>{(_.key===" "||_.key==="Enter")&&c()};function p(_){u=_,t(2,u)}return n.$$set=_=>{"markedBookmarks"in _&&t(6,f=_.markedBookmarks)},[i,a,u,l,s,c,f,d,p]}class eu extends ce{constructor(e){super(),fe(this,e,xa,$a,ue,{markedBookmarks:6})}}function Ar(n,e,t){const r=n.slice();return r[23]=e[t],r}function Tr(n){let e,t,r,l,o=n[3].length+"",s,i,a=n[6].total+"",u,f,c=n[6].total>1?"s":"",d,p,_=n[4].folder!==""&&Mr();return{c(){e=k("hr"),t=D(),r=k("span"),l=ee("Showing "),s=ee(o),i=ee(" of "),u=ee(a),f=ee(" bookmark"),d=ee(c),p=D(),_&&_.c()},m(g,h){T(g,e,h),T(g,t,h),T(g,r,h),b(r,l),b(r,s),b(r,i),b(r,u),b(r,f),b(r,d),b(r,p),_&&_.m(r,null)},p(g,h){h&8&&o!==(o=g[3].length+"")&&ge(s,o),h&64&&a!==(a=g[6].total+"")&&ge(u,a),h&64&&c!==(c=g[6].total>1?"s":"")&&ge(d,c),g[4].folder!==""?_||(_=Mr(),_.c(),_.m(r,null)):_&&(_.d(1),_=null)},d(g){g&&A(e),g&&A(t),g&&A(r),_&&_.d()}}}function Mr(n){let e;return{c(){e=ee("from folder")},m(t,r){T(t,e,r)},d(t){t&&A(e)}}}function Lr(n){let e,t,r,l,o,s,i,a,u,f,c=n[1].length+"",d,p,_=n[1].length>1?"s":"",g,h,v,L,N,S,w,E,P,V;return e=new ln({props:{action:"DELETE",title:"Delete",icon:en,handler:n[14]}}),r=new ln({props:{action:"TAGS",title:"Add Tags",icon:fa,handler:n[15]}}),o=new ln({props:{action:"FOLDER",title:"Move to Folder",icon:ta,handler:n[16]}}),{c(){W(e.$$.fragment),t=D(),W(r.$$.fragment),l=D(),W(o.$$.fragment),s=D(),i=k("hr"),a=D(),u=k("div"),f=k("div"),d=ee(c),p=ee(" bookmark"),g=ee(_),h=ee(" selected"),v=D(),L=k("div"),N=k("input"),N.indeterminate=S=n[1].length>0&&n[1].length<n[3].length,N.checked=w=n[1].length===n[3].length,m(N,"type","checkbox"),m(N,"name","Select All"),m(N,"class","bookmark-checkbox"),$(u,"display","flex"),$(u,"justify-content","space-between")},m(U,y){Y(e,U,y),T(U,t,y),Y(r,U,y),T(U,l,y),Y(o,U,y),T(U,s,y),T(U,i,y),T(U,a,y),T(U,u,y),b(u,f),b(f,d),b(f,p),b(f,g),b(f,h),b(u,v),b(u,L),b(L,N),E=!0,P||(V=G(N,"change",n[17]),P=!0)},p(U,y){const B={};y&66&&(B.handler=U[14]),e.$set(B);const F={};y&32&&(F.handler=U[15]),r.$set(F);const z={};y&32&&(z.handler=U[16]),o.$set(z),(!E||y&2)&&c!==(c=U[1].length+"")&&ge(d,c),(!E||y&2)&&_!==(_=U[1].length>1?"s":"")&&ge(g,_),(!E||y&10&&S!==(S=U[1].length>0&&U[1].length<U[3].length))&&(N.indeterminate=S),(!E||y&10&&w!==(w=U[1].length===U[3].length))&&(N.checked=w)},i(U){E||(O(e.$$.fragment,U),O(r.$$.fragment,U),O(o.$$.fragment,U),E=!0)},o(U){C(e.$$.fragment,U),C(r.$$.fragment,U),C(o.$$.fragment,U),E=!1},d(U){K(e,U),U&&A(t),K(r,U),U&&A(l),K(o,U),U&&A(s),U&&A(i),U&&A(a),U&&A(u),P=!1,V()}}}function tu(n){let e,t,r,l,o,s,i;return t=new le({props:{icon:ra,size:"3x",class:"bounce"}}),{c(){e=k("div"),W(t.$$.fragment),r=D(),l=k("div"),o=D(),s=k("span"),s.textContent="No bookmarks found",m(l,"id","shadow"),m(l,"class","svelte-17t764z"),m(s,"class","message svelte-17t764z"),m(e,"id","not-found"),m(e,"class","svelte-17t764z")},m(a,u){T(a,e,u),Y(t,e,null),b(e,r),b(e,l),b(e,o),b(e,s),i=!0},p:X,i(a){i||(O(t.$$.fragment,a),i=!0)},o(a){C(t.$$.fragment,a),i=!1},d(a){a&&A(e),K(t)}}}function nu(n){let e=[],t=new Map,r,l,o=n[3];const s=i=>i[23].id;for(let i=0;i<o.length;i+=1){let a=Ar(n,o,i),u=s(a);t.set(u,e[i]=Er(u,a))}return{c(){for(let i=0;i<e.length;i+=1)e[i].c();r=Ce()},m(i,a){for(let u=0;u<e.length;u+=1)e[u].m(i,a);T(i,r,a),l=!0},p(i,a){a&2062&&(o=i[3],te(),e=Dn(e,a,s,1,i,o,t,r.parentNode,Pn,Er,r,Ar),ne())},i(i){if(!l){for(let a=0;a<o.length;a+=1)O(e[a]);l=!0}},o(i){for(let a=0;a<e.length;a+=1)C(e[a]);l=!1},d(i){for(let a=0;a<e.length;a+=1)e[a].d(i);i&&A(r)}}}function ru(n){let e;return{c(){e=ee("Error")},m(t,r){T(t,e,r)},p:X,i:X,o:X,d(t){t&&A(e)}}}function lu(n){let e,t;return e=new To({}),{c(){W(e.$$.fragment)},m(r,l){Y(e,r,l),t=!0},p:X,i(r){t||(O(e.$$.fragment,r),t=!0)},o(r){C(e.$$.fragment,r),t=!1},d(r){K(e,r)}}}function Er(n,e){let t,r,l,o,s;function i(u){e[18](u)}let a={bookmark:e[23],toggleMark:e[11],checked:e[1].includes(e[23].id)};return e[2]!==void 0&&(a.activeBookmark=e[2]),r=new Gf({props:a}),ye.push(()=>Ve(r,"activeBookmark",i)),{key:n,first:null,c(){t=Ce(),W(r.$$.fragment),o=D(),this.first=t},m(u,f){T(u,t,f),Y(r,u,f),T(u,o,f),s=!0},p(u,f){e=u;const c={};f&8&&(c.bookmark=e[23]),f&10&&(c.checked=e[1].includes(e[23].id)),!l&&f&4&&(l=!0,c.activeBookmark=e[2],He(()=>l=!1)),r.$set(c)},i(u){s||(O(r.$$.fragment,u),s=!0)},o(u){C(r.$$.fragment,u),s=!1},d(u){u&&A(t),K(r,u),u&&A(o)}}}function ou(n){let e;return{c(){e=k("div"),e.innerHTML=`<hr/> 
    <span style="font-weight: bold;">End of list</span>`,$(e,"text-align","center"),$(e,"opacity","0.5")},m(t,r){T(t,e,r)},p:X,d(t){t&&A(e)}}}function iu(n){let e,t,r;return{c(){e=k("div"),e.innerHTML="<button>Load More</button>",$(e,"text-align","center")},m(l,o){T(l,e,o),t||(r=G(e,"click",n[19]),t=!0)},p:X,d(l){l&&A(e),t=!1,r()}}}function su(n){let e,t,r,l,o,s,i,a,u,f,c,d,p,_,g,h,v,L,N,S,w,E,P,V,U=n[3].length>0&&Tr(n),y=n[1].length>0&&Lr(n);const B=[lu,ru,nu,tu],F=[];function z(R,Q){return R[0]==="LOADING"?0:R[0]==="ERROR"?1:R[3].length>0?2:3}c=z(n),d=F[c]=B[c](n);function J(R,Q){if(R[6].moreLeft)return iu;if(R[3].length>0)return ou}let q=J(n),I=q&&q(n);return v=new Ba({props:{markedBookmarks:n[1]}}),N=new eu({props:{markedBookmarks:n[1]}}),w=new Ka({props:{activeBookmarkId:n[2]}}),{c(){e=k("div"),t=k("div"),r=k("div"),l=k("button"),l.textContent="+ Add Bookmark",o=D(),U&&U.c(),s=D(),i=k("div"),y&&y.c(),a=D(),u=k("hr"),f=D(),d.c(),p=D(),I&&I.c(),_=D(),g=k("div"),h=D(),W(v.$$.fragment),L=D(),W(N.$$.fragment),S=D(),W(w.$$.fragment),m(l,"class","w-full"),m(i,"class","m-l-auto"),m(t,"class","row"),m(e,"class","sticky"),$(g,"padding-bottom","10rem")},m(R,Q){T(R,e,Q),b(e,t),b(t,r),b(r,l),b(r,o),U&&U.m(r,null),b(t,s),b(t,i),y&&y.m(i,null),b(e,a),b(e,u),T(R,f,Q),F[c].m(R,Q),T(R,p,Q),I&&I.m(R,Q),T(R,_,Q),T(R,g,Q),T(R,h,Q),Y(v,R,Q),T(R,L,Q),Y(N,R,Q),T(R,S,Q),Y(w,R,Q),E=!0,P||(V=G(l,"click",n[13]),P=!0)},p(R,[Q]){R[3].length>0?U?U.p(R,Q):(U=Tr(R),U.c(),U.m(r,null)):U&&(U.d(1),U=null),R[1].length>0?y?(y.p(R,Q),Q&2&&O(y,1)):(y=Lr(R),y.c(),O(y,1),y.m(i,null)):y&&(te(),C(y,1,1,()=>{y=null}),ne());let H=c;c=z(R),c===H?F[c].p(R,Q):(te(),C(F[H],1,1,()=>{F[H]=null}),ne(),d=F[c],d?d.p(R,Q):(d=F[c]=B[c](R),d.c()),O(d,1),d.m(p.parentNode,p)),q===(q=J(R))&&I?I.p(R,Q):(I&&I.d(1),I=q&&q(R),I&&(I.c(),I.m(_.parentNode,_)));const Z={};Q&2&&(Z.markedBookmarks=R[1]),v.$set(Z);const me={};Q&2&&(me.markedBookmarks=R[1]),N.$set(me);const ve={};Q&4&&(ve.activeBookmarkId=R[2]),w.$set(ve)},i(R){E||(O(y),O(d),O(v.$$.fragment,R),O(N.$$.fragment,R),O(w.$$.fragment,R),E=!0)},o(R){C(y),C(d),C(v.$$.fragment,R),C(N.$$.fragment,R),C(w.$$.fragment,R),E=!1},d(R){R&&A(e),U&&U.d(),y&&y.d(),R&&A(f),F[c].d(R),R&&A(p),I&&I.d(R),R&&A(_),R&&A(g),R&&A(h),K(v,R),R&&A(L),K(N,R),R&&A(S),K(w,R),P=!1,V()}}}function au(n,e,t){let r,l,o,s,i;oe(n,Ie,y=>t(5,s=y));const{bookmarks:a,queryParams:u,queryStr:f,stats:c}=Pe;oe(n,a,y=>t(3,r=y)),oe(n,u,y=>t(4,l=y)),oe(n,f,y=>t(21,o=y)),oe(n,c,y=>t(6,i=y));let d="LOADING";const p=async()=>{try{t(0,d="LOADING");const y=await pe("/bookmarks"+o);return t(0,d="DONE"),y}catch{t(0,d="ERROR")}};let _=0;f.subscribe(()=>{l.page!==_&&l.page!==0?(_=l.page,p().then(y=>{a.add(...y.data),c.set({total:y.total,moreLeft:r.length<y.total,page:y.page})})):(Se(u,l.page=0,l),p().then(y=>{a.set(y.data),c.set({total:y.total,moreLeft:y.total>20,page:y.page})}))});let g=[],h;const v=y=>{const B=g.indexOf(y);B===-1?g.push(y):g.splice(B,1),t(1,g)},L=()=>{t(1,g=r.map(({id:y})=>y))},N=()=>s["add-bookmark"].showModal(),S=async()=>{const y=await pe("/bookmarks","DELETE",{ids:g});a.delete(...g),t(1,g=[]),Se(c,i.total-=y.deleted,i),c.set(i),Ne.push(`Deleted ${y.deleted} bookmarks`)},w=async()=>{s["add-tags"].showModal()},E=async()=>{s["add-folders"].showModal()},P=y=>{y.currentTarget.checked?y.currentTarget.indeterminate?t(1,g=[]):L():t(1,g=[])};function V(y){h=y,t(2,h)}return[d,g,h,r,l,s,i,a,u,f,c,v,L,N,S,w,E,P,V,()=>Se(u,l.page++,l)]}class uu extends ce{constructor(e){super(),fe(this,e,au,su,ue,{})}}const fu={locale:"en",long:{year:{previous:"last year",current:"this year",next:"next year",past:{one:"{0} year ago",other:"{0} years ago"},future:{one:"in {0} year",other:"in {0} years"}},quarter:{previous:"last quarter",current:"this quarter",next:"next quarter",past:{one:"{0} quarter ago",other:"{0} quarters ago"},future:{one:"in {0} quarter",other:"in {0} quarters"}},month:{previous:"last month",current:"this month",next:"next month",past:{one:"{0} month ago",other:"{0} months ago"},future:{one:"in {0} month",other:"in {0} months"}},week:{previous:"last week",current:"this week",next:"next week",past:{one:"{0} week ago",other:"{0} weeks ago"},future:{one:"in {0} week",other:"in {0} weeks"}},day:{previous:"yesterday",current:"today",next:"tomorrow",past:{one:"{0} day ago",other:"{0} days ago"},future:{one:"in {0} day",other:"in {0} days"}},hour:{current:"this hour",past:{one:"{0} hour ago",other:"{0} hours ago"},future:{one:"in {0} hour",other:"in {0} hours"}},minute:{current:"this minute",past:{one:"{0} minute ago",other:"{0} minutes ago"},future:{one:"in {0} minute",other:"in {0} minutes"}},second:{current:"now",past:{one:"{0} second ago",other:"{0} seconds ago"},future:{one:"in {0} second",other:"in {0} seconds"}}},short:{year:{previous:"last yr.",current:"this yr.",next:"next yr.",past:"{0} yr. ago",future:"in {0} yr."},quarter:{previous:"last qtr.",current:"this qtr.",next:"next qtr.",past:{one:"{0} qtr. ago",other:"{0} qtrs. ago"},future:{one:"in {0} qtr.",other:"in {0} qtrs."}},month:{previous:"last mo.",current:"this mo.",next:"next mo.",past:"{0} mo. ago",future:"in {0} mo."},week:{previous:"last wk.",current:"this wk.",next:"next wk.",past:"{0} wk. ago",future:"in {0} wk."},day:{previous:"yesterday",current:"today",next:"tomorrow",past:{one:"{0} day ago",other:"{0} days ago"},future:{one:"in {0} day",other:"in {0} days"}},hour:{current:"this hour",past:"{0} hr. ago",future:"in {0} hr."},minute:{current:"this minute",past:"{0} min. ago",future:"in {0} min."},second:{current:"now",past:"{0} sec. ago",future:"in {0} sec."}},narrow:{year:{previous:"last yr.",current:"this yr.",next:"next yr.",past:"{0} yr. ago",future:"in {0} yr."},quarter:{previous:"last qtr.",current:"this qtr.",next:"next qtr.",past:{one:"{0} qtr. ago",other:"{0} qtrs. ago"},future:{one:"in {0} qtr.",other:"in {0} qtrs."}},month:{previous:"last mo.",current:"this mo.",next:"next mo.",past:"{0} mo. ago",future:"in {0} mo."},week:{previous:"last wk.",current:"this wk.",next:"next wk.",past:"{0} wk. ago",future:"in {0} wk."},day:{previous:"yesterday",current:"today",next:"tomorrow",past:{one:"{0} day ago",other:"{0} days ago"},future:{one:"in {0} day",other:"in {0} days"}},hour:{current:"this hour",past:"{0} hr. ago",future:"in {0} hr."},minute:{current:"this minute",past:"{0} min. ago",future:"in {0} min."},second:{current:"now",past:"{0} sec. ago",future:"in {0} sec."}},now:{now:{current:"now",future:"in a moment",past:"just now"}},mini:{year:"{0}yr",month:"{0}mo",week:"{0}wk",day:"{0}d",hour:"{0}h",minute:"{0}m",second:"{0}s",now:"now"},"short-time":{year:"{0} yr.",month:"{0} mo.",week:"{0} wk.",day:{one:"{0} day",other:"{0} days"},hour:"{0} hr.",minute:"{0} min.",second:"{0} sec."},"long-time":{year:{one:"{0} year",other:"{0} years"},month:{one:"{0} month",other:"{0} months"},week:{one:"{0} week",other:"{0} weeks"},day:{one:"{0} day",other:"{0} days"},hour:{one:"{0} hour",other:"{0} hours"},minute:{one:"{0} minute",other:"{0} minutes"},second:{one:"{0} second",other:"{0} seconds"}}};var co="en",Bn={},_n={};function mo(){return co}function cu(n){co=n}function du(n){return Bn[n]}function mu(n){if(!n)throw new Error("No locale data passed");Bn[n.locale]=n,_n[n.locale.toLowerCase()]=n.locale}function Rr(n){if(Bn[n])return n;if(_n[n.toLowerCase()])return _n[n.toLowerCase()]}function _o(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=e.localeMatcher||"lookup";switch(t){case"lookup":return Pr(n);case"best fit":return Pr(n);default:throw new RangeError('Invalid "localeMatcher" option: '.concat(t))}}function Pr(n){var e=Rr(n);if(e)return e;for(var t=n.split("-");n.length>1;){t.pop(),n=t.join("-");var r=Rr(n);if(r)return r}}var M={af:function(e){return e==1?"one":"other"},am:function(e){return e>=0&&e<=1?"one":"other"},ar:function(e){var t=String(e).split("."),r=Number(t[0])==e,l=r&&t[0].slice(-2);return e==0?"zero":e==1?"one":e==2?"two":l>=3&&l<=10?"few":l>=11&&l<=99?"many":"other"},ast:function(e){var t=String(e).split("."),r=!t[1];return e==1&&r?"one":"other"},be:function(e){var t=String(e).split("."),r=Number(t[0])==e,l=r&&t[0].slice(-1),o=r&&t[0].slice(-2);return l==1&&o!=11?"one":l>=2&&l<=4&&(o<12||o>14)?"few":r&&l==0||l>=5&&l<=9||o>=11&&o<=14?"many":"other"},br:function(e){var t=String(e).split("."),r=Number(t[0])==e,l=r&&t[0].slice(-1),o=r&&t[0].slice(-2),s=r&&t[0].slice(-6);return l==1&&o!=11&&o!=71&&o!=91?"one":l==2&&o!=12&&o!=72&&o!=92?"two":(l==3||l==4||l==9)&&(o<10||o>19)&&(o<70||o>79)&&(o<90||o>99)?"few":e!=0&&r&&s==0?"many":"other"},bs:function(e){var t=String(e).split("."),r=t[0],l=t[1]||"",o=!t[1],s=r.slice(-1),i=r.slice(-2),a=l.slice(-1),u=l.slice(-2);return o&&s==1&&i!=11||a==1&&u!=11?"one":o&&s>=2&&s<=4&&(i<12||i>14)||a>=2&&a<=4&&(u<12||u>14)?"few":"other"},ceb:function(e){var t=String(e).split("."),r=t[0],l=t[1]||"",o=!t[1],s=r.slice(-1),i=l.slice(-1);return o&&(r==1||r==2||r==3)||o&&s!=4&&s!=6&&s!=9||!o&&i!=4&&i!=6&&i!=9?"one":"other"},cs:function(e){var t=String(e).split("."),r=t[0],l=!t[1];return e==1&&l?"one":r>=2&&r<=4&&l?"few":l?"other":"many"},cy:function(e){return e==0?"zero":e==1?"one":e==2?"two":e==3?"few":e==6?"many":"other"},da:function(e){var t=String(e).split("."),r=t[0],l=Number(t[0])==e;return e==1||!l&&(r==0||r==1)?"one":"other"},dsb:function(e){var t=String(e).split("."),r=t[0],l=t[1]||"",o=!t[1],s=r.slice(-2),i=l.slice(-2);return o&&s==1||i==1?"one":o&&s==2||i==2?"two":o&&(s==3||s==4)||i==3||i==4?"few":"other"},dz:function(e){return"other"},es:function(e){var t=String(e).split("."),r=t[0],l=!t[1],o=r.slice(-6);return e==1?"one":r!=0&&o==0&&l?"many":"other"},ff:function(e){return e>=0&&e<2?"one":"other"},fr:function(e){var t=String(e).split("."),r=t[0],l=!t[1],o=r.slice(-6);return e>=0&&e<2?"one":r!=0&&o==0&&l?"many":"other"},ga:function(e){var t=String(e).split("."),r=Number(t[0])==e;return e==1?"one":e==2?"two":r&&e>=3&&e<=6?"few":r&&e>=7&&e<=10?"many":"other"},gd:function(e){var t=String(e).split("."),r=Number(t[0])==e;return e==1||e==11?"one":e==2||e==12?"two":r&&e>=3&&e<=10||r&&e>=13&&e<=19?"few":"other"},he:function(e){var t=String(e).split("."),r=t[0],l=!t[1],o=Number(t[0])==e,s=o&&t[0].slice(-1);return e==1&&l?"one":r==2&&l?"two":l&&(e<0||e>10)&&o&&s==0?"many":"other"},is:function(e){var t=String(e).split("."),r=t[0],l=Number(t[0])==e,o=r.slice(-1),s=r.slice(-2);return l&&o==1&&s!=11||!l?"one":"other"},it:function(e){var t=String(e).split("."),r=t[0],l=!t[1],o=r.slice(-6);return e==1&&l?"one":r!=0&&o==0&&l?"many":"other"},ksh:function(e){return e==0?"zero":e==1?"one":"other"},lt:function(e){var t=String(e).split("."),r=t[1]||"",l=Number(t[0])==e,o=l&&t[0].slice(-1),s=l&&t[0].slice(-2);return o==1&&(s<11||s>19)?"one":o>=2&&o<=9&&(s<11||s>19)?"few":r!=0?"many":"other"},lv:function(e){var t=String(e).split("."),r=t[1]||"",l=r.length,o=Number(t[0])==e,s=o&&t[0].slice(-1),i=o&&t[0].slice(-2),a=r.slice(-2),u=r.slice(-1);return o&&s==0||i>=11&&i<=19||l==2&&a>=11&&a<=19?"zero":s==1&&i!=11||l==2&&u==1&&a!=11||l!=2&&u==1?"one":"other"},mk:function(e){var t=String(e).split("."),r=t[0],l=t[1]||"",o=!t[1],s=r.slice(-1),i=r.slice(-2),a=l.slice(-1),u=l.slice(-2);return o&&s==1&&i!=11||a==1&&u!=11?"one":"other"},mt:function(e){var t=String(e).split("."),r=Number(t[0])==e,l=r&&t[0].slice(-2);return e==1?"one":e==0||l>=2&&l<=10?"few":l>=11&&l<=19?"many":"other"},pa:function(e){return e==0||e==1?"one":"other"},pl:function(e){var t=String(e).split("."),r=t[0],l=!t[1],o=r.slice(-1),s=r.slice(-2);return e==1&&l?"one":l&&o>=2&&o<=4&&(s<12||s>14)?"few":l&&r!=1&&(o==0||o==1)||l&&o>=5&&o<=9||l&&s>=12&&s<=14?"many":"other"},pt:function(e){var t=String(e).split("."),r=t[0],l=!t[1],o=r.slice(-6);return r==0||r==1?"one":r!=0&&o==0&&l?"many":"other"},ro:function(e){var t=String(e).split("."),r=!t[1],l=Number(t[0])==e,o=l&&t[0].slice(-2);return e==1&&r?"one":!r||e==0||o>=2&&o<=19?"few":"other"},ru:function(e){var t=String(e).split("."),r=t[0],l=!t[1],o=r.slice(-1),s=r.slice(-2);return l&&o==1&&s!=11?"one":l&&o>=2&&o<=4&&(s<12||s>14)?"few":l&&o==0||l&&o>=5&&o<=9||l&&s>=11&&s<=14?"many":"other"},se:function(e){return e==1?"one":e==2?"two":"other"},si:function(e){var t=String(e).split("."),r=t[0],l=t[1]||"";return e==0||e==1||r==0&&l==1?"one":"other"},sl:function(e){var t=String(e).split("."),r=t[0],l=!t[1],o=r.slice(-2);return l&&o==1?"one":l&&o==2?"two":l&&(o==3||o==4)||!l?"few":"other"}};M.as=M.am;M.az=M.af;M.bg=M.af;M.bn=M.am;M.brx=M.af;M.ca=M.ast;M.ce=M.af;M.chr=M.af;M.de=M.ast;M.ee=M.af;M.el=M.af;M.en=M.ast;M.et=M.ast;M.eu=M.af;M.fa=M.am;M.fi=M.ast;M.fil=M.ceb;M.fo=M.af;M.fur=M.af;M.fy=M.ast;M.gl=M.ast;M.gu=M.am;M.ha=M.af;M.hi=M.am;M.hr=M.bs;M.hsb=M.dsb;M.hu=M.af;M.hy=M.ff;M.ia=M.ast;M.id=M.dz;M.ig=M.dz;M.ja=M.dz;M.jgo=M.af;M.jv=M.dz;M.ka=M.af;M.kea=M.dz;M.kk=M.af;M.kl=M.af;M.km=M.dz;M.kn=M.am;M.ko=M.dz;M.ku=M.af;M.ky=M.af;M.lb=M.af;M.lkt=M.dz;M.lo=M.dz;M.ml=M.af;M.mn=M.af;M.mr=M.af;M.ms=M.dz;M.my=M.dz;M.nb=M.af;M.ne=M.af;M.nl=M.ast;M.nn=M.af;M.no=M.af;M.or=M.af;M.pcm=M.am;M.ps=M.af;M.rm=M.af;M.sah=M.dz;M.sc=M.ast;M.sd=M.af;M.sk=M.cs;M.so=M.af;M.sq=M.af;M.sr=M.bs;M.su=M.dz;M.sv=M.ast;M.sw=M.ast;M.ta=M.af;M.te=M.af;M.th=M.dz;M.ti=M.pa;M.tk=M.af;M.to=M.dz;M.tr=M.af;M.ug=M.af;M.uk=M.ru;M.ur=M.ast;M.uz=M.af;M.vi=M.dz;M.wae=M.af;M.wo=M.dz;M.yi=M.ast;M.yo=M.dz;M.yue=M.dz;M.zh=M.dz;M.zu=M.am;const Dr=M;function Nr(n){return n==="pt-PT"?n:pu(n)}var _u=/^([a-z0-9]+)/i;function pu(n){var e=n.match(_u);if(!e)throw new TypeError("Invalid locale: ".concat(n));return e[1]}function hu(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Ir(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function gu(n,e,t){return e&&Ir(n.prototype,e),t&&Ir(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}var pn=function(){function n(e,t){hu(this,n);var r=n.supportedLocalesOf(e);if(r.length===0)throw new RangeError("Unsupported locale: "+e);if(t&&t.type!=="cardinal")throw new RangeError('Only "cardinal" "type" is supported');this.$=Dr[Nr(r[0])]}return gu(n,[{key:"select",value:function(t){return this.$(t)}}],[{key:"supportedLocalesOf",value:function(t){return typeof t=="string"&&(t=[t]),t.filter(function(r){return Dr[Nr(r)]})}}]),n}();function hn(n){return hn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hn(n)}function jr(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(n,l).enumerable})),t.push.apply(t,r)}return t}function zr(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?jr(Object(t),!0).forEach(function(r){bu(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):jr(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function bu(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Br(n,e){return wu(n)||vu(n,e)||yu(n,e)||ku()}function ku(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yu(n,e){if(!!n){if(typeof n=="string")return Ur(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Ur(n,e)}}function Ur(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function vu(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r=[],l=!0,o=!1,s,i;try{for(t=t.call(n);!(l=(s=t.next()).done)&&(r.push(s.value),!(e&&r.length===e));l=!0);}catch(a){o=!0,i=a}finally{try{!l&&t.return!=null&&t.return()}finally{if(o)throw i}}return r}}function wu(n){if(Array.isArray(n))return n}function Ou(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Fr(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function Cu(n,e,t){return e&&Fr(n.prototype,e),t&&Fr(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}var Su=["second","minute","hour","day","week","month","quarter","year"],Au=["auto","always"],Tu=["long","short","narrow"],Mu=["lookup","best fit"],Ze=function(){function n(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Ou(this,n);var r=t.numeric,l=t.style,o=t.localeMatcher;if(this.numeric="always",this.style="long",this.localeMatcher="lookup",r!==void 0){if(Au.indexOf(r)<0)throw new RangeError('Invalid "numeric" option: '.concat(r));this.numeric=r}if(l!==void 0){if(Tu.indexOf(l)<0)throw new RangeError('Invalid "style" option: '.concat(l));this.style=l}if(o!==void 0){if(Mu.indexOf(o)<0)throw new RangeError('Invalid "localeMatcher" option: '.concat(o));this.localeMatcher=o}if(typeof e=="string"&&(e=[e]),e.push(mo()),this.locale=n.supportedLocalesOf(e,{localeMatcher:this.localeMatcher})[0],!this.locale)throw new Error("No supported locale was found");pn.supportedLocalesOf(this.locale).length>0?this.pluralRules=new pn(this.locale):console.warn('"'.concat(this.locale,'" locale is not supported')),typeof Intl<"u"&&Intl.NumberFormat?(this.numberFormat=new Intl.NumberFormat(this.locale),this.numberingSystem=this.numberFormat.resolvedOptions().numberingSystem):this.numberingSystem="latn",this.locale=_o(this.locale,{localeMatcher:this.localeMatcher})}return Cu(n,[{key:"format",value:function(){var t=qr(arguments),r=Br(t,2),l=r[0],o=r[1];return this.getRule(l,o).replace("{0}",this.formatNumber(Math.abs(l)))}},{key:"formatToParts",value:function(){var t=qr(arguments),r=Br(t,2),l=r[0],o=r[1],s=this.getRule(l,o),i=s.indexOf("{0}");if(i<0)return[{type:"literal",value:s}];var a=[];return i>0&&a.push({type:"literal",value:s.slice(0,i)}),a=a.concat(this.formatNumberToParts(Math.abs(l)).map(function(u){return zr(zr({},u),{},{unit:o})})),i+3<s.length-1&&a.push({type:"literal",value:s.slice(i+3)}),a}},{key:"getRule",value:function(t,r){var l=du(this.locale)[this.style][r];if(typeof l=="string")return l;if(this.numeric==="auto"){if(t===-2||t===-1){var o=l["previous".concat(t===-1?"":"-"+Math.abs(t))];if(o)return o}else if(t===1||t===2){var s=l["next".concat(t===1?"":"-"+Math.abs(t))];if(s)return s}else if(t===0&&l.current)return l.current}var i=l[Du(t)?"past":"future"];if(typeof i=="string")return i;var a=this.pluralRules&&this.pluralRules.select(Math.abs(t))||"other";return i[a]||i.other}},{key:"formatNumber",value:function(t){return this.numberFormat?this.numberFormat.format(t):String(t)}},{key:"formatNumberToParts",value:function(t){return this.numberFormat&&this.numberFormat.formatToParts?this.numberFormat.formatToParts(t):[{type:"integer",value:this.formatNumber(t)}]}},{key:"resolvedOptions",value:function(){return{locale:this.locale,style:this.style,numeric:this.numeric,numberingSystem:this.numberingSystem}}}]),n}();Ze.supportedLocalesOf=function(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(typeof n=="string")n=[n];else if(!Array.isArray(n))throw new TypeError('Invalid "locales" argument');return n.filter(function(t){return _o(t,e)})};Ze.addLocale=mu;Ze.setDefaultLocale=cu;Ze.getDefaultLocale=mo;Ze.PluralRules=pn;var on='Invalid "unit" argument';function Lu(n){if(hn(n)==="symbol")throw new TypeError(on);if(typeof n!="string")throw new RangeError("".concat(on,": ").concat(n));if(n[n.length-1]==="s"&&(n=n.slice(0,n.length-1)),Su.indexOf(n)<0)throw new RangeError("".concat(on,": ").concat(n));return n}var Eu='Invalid "number" argument';function Ru(n){if(n=Number(n),Number.isFinite&&!Number.isFinite(n))throw new RangeError("".concat(Eu,": ").concat(n));return n}function Pu(n){return 1/n===-1/0}function Du(n){return n<0||n===0&&Pu(n)}function qr(n){if(n.length<2)throw new TypeError('"unit" argument is required');return[Ru(n[0]),Lu(n[1])]}function Qt(n){return Qt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qt(n)}function Nu(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Hr(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function Iu(n,e,t){return e&&Hr(n.prototype,e),t&&Hr(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}var Vr=function(){function n(){Nu(this,n),this.cache={}}return Iu(n,[{key:"get",value:function(){for(var t=this.cache,r=arguments.length,l=new Array(r),o=0;o<r;o++)l[o]=arguments[o];for(var s=0,i=l;s<i.length;s++){var a=i[s];if(Qt(t)!=="object")return;t=t[a]}return t}},{key:"put",value:function(){for(var t=arguments.length,r=new Array(t),l=0;l<t;l++)r[l]=arguments[l];for(var o=r.pop(),s=r.pop(),i=this.cache,a=0,u=r;a<u.length;a++){var f=u[a];Qt(i[f])!=="object"&&(i[f]={}),i=i[f]}return i[s]=o}}]),n}();function gn(n){return gn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gn(n)}function ju(n,e){var t=typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t)return(t=t.call(n)).next.bind(t);if(Array.isArray(n)||(t=zu(n))||e&&n&&typeof n.length=="number"){t&&(n=t);var r=0;return function(){return r>=n.length?{done:!0}:{done:!1,value:n[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zu(n,e){if(!!n){if(typeof n=="string")return Gr(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Gr(n,e)}}function Gr(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function Bu(n,e){for(var t=ju(n),r;!(r=t()).done;){var l=r.value;if(e(l))return l;for(var o=l.split("-");o.length>1;)if(o.pop(),l=o.join("-"),e(l))return l}throw new Error("No locale data has been registered for any of the locales: ".concat(n.join(", ")))}function Uu(){var n=(typeof Intl>"u"?"undefined":gn(Intl))==="object";return n&&typeof Intl.DateTimeFormat=="function"}function bn(n){return bn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bn(n)}function Fu(n){return Hu(n)&&(Array.isArray(n.steps)||Array.isArray(n.gradation)||Array.isArray(n.flavour)||typeof n.flavour=="string"||Array.isArray(n.labels)||typeof n.labels=="string"||Array.isArray(n.units)||typeof n.custom=="function")}var qu={}.constructor;function Hu(n){return bn(n)!==void 0&&n!==null&&n.constructor===qu}var Ye=60,Jt=60*Ye,et=24*Jt,kn=7*et,yn=30.44*et,po=146097/400*et;function ut(n){switch(n){case"second":return 1;case"minute":return Ye;case"hour":return Jt;case"day":return et;case"week":return kn;case"month":return yn;case"year":return po}}function ho(n){return n.factor!==void 0?n.factor:ut(n.unit||n.formatAs)||1}function At(n){switch(n){case"floor":return Math.floor;default:return Math.round}}function Un(n){switch(n){case"floor":return 1;default:return .5}}function vn(n){return vn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vn(n)}function go(n,e){var t=e.prevStep,r=e.timestamp,l=e.now,o=e.future,s=e.round,i;return t&&(t.id||t.unit)&&(i=n["threshold_for_".concat(t.id||t.unit)]),i===void 0&&n.threshold!==void 0&&(i=n.threshold,typeof i=="function"&&(i=i(l,o))),i===void 0&&(i=n.minTime),vn(i)==="object"&&(t&&t.id&&i[t.id]!==void 0?i=i[t.id]:i=i.default),typeof i=="function"&&(i=i(r,{future:o,getMinTimeForUnit:function(u,f){return Yr(u,f||t&&t.formatAs,{round:s})}})),i===void 0&&n.test&&(n.test(r,{now:l,future:o})?i=0:i=9007199254740991),i===void 0&&(t?n.formatAs&&t.formatAs&&(i=Yr(n.formatAs,t.formatAs,{round:s})):i=0),i===void 0&&console.warn("[javascript-time-ago] A step should specify `minTime`:\n"+JSON.stringify(n,null,2)),i}function Yr(n,e,t){var r=t.round,l=ut(n),o;if(e==="now"?o=ut(n):o=ut(e),l!==void 0&&o!==void 0)return l-o*(1-Un(r))}function Kr(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(n,l).enumerable})),t.push.apply(t,r)}return t}function Vu(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Kr(Object(t),!0).forEach(function(r){Gu(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Kr(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Gu(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Yu(n,e,t){var r=t.now,l=t.future,o=t.round,s=t.units,i=t.getNextStep;n=Wu(n,s);var a=Ku(n,e,{now:r,future:l,round:o});if(i){if(a){var u=n[n.indexOf(a)-1],f=n[n.indexOf(a)+1];return[u,a,f]}return[void 0,void 0,n[0]]}return a}function Ku(n,e,t){var r=t.now,l=t.future,o=t.round;if(n.length!==0){var s=bo(n,e,{now:r,future:l||e<0,round:o});if(s!==-1){var i=n[s];if(i.granularity){var a=At(o)(Math.abs(e)/ho(i)/i.granularity)*i.granularity;if(a===0&&s>0)return n[s-1]}return i}}}function bo(n,e,t){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,l=go(n[r],Vu({prevStep:n[r-1],timestamp:t.now-e*1e3},t));return l===void 0||Math.abs(e)<l?r-1:r===n.length-1?r:bo(n,e,t,r+1)}function Wu(n,e){return n.filter(function(t){var r=t.unit,l=t.formatAs;return r=r||l,r?e.indexOf(r)>=0:!0})}function Xu(n,e,t){var r=t.now,l=t.round;if(!!ut(n)){var o=ut(n)*1e3,s=e>r,i=Math.abs(e-r),a=At(l)(i/o)*o;return s?a>0?i-a+Ju(l,o):i-a+1:-(i-a)+Qu(l,o)}}function Qu(n,e){return Un(n)*e}function Ju(n,e){return(1-Un(n))*e+1}var Zu=365*24*60*60*1e3,ko=1e3*Zu;function $u(n,e,t){var r=t.prevStep,l=t.nextStep,o=t.now,s=t.future,i=t.round,a=n.getTime?n.getTime():n,u=function(_){return Xu(_,a,{now:o,round:i})},f=ef(s?e:l,a,{future:s,now:o,round:i,prevStep:s?r:e});if(f!==void 0){var c;if(e&&(e.getTimeToNextUpdate&&(c=e.getTimeToNextUpdate(a,{getTimeToNextUpdateForUnit:u,getRoundFunction:At,now:o,future:s,round:i})),c===void 0)){var d=e.unit||e.formatAs;d&&(c=u(d))}return c===void 0?f:Math.min(c,f)}}function xu(n,e,t){var r=t.now,l=t.future,o=t.round,s=t.prevStep,i=go(n,{timestamp:e,now:r,future:l,round:o,prevStep:s});if(i!==void 0)return l?e-i*1e3+1:i===0&&e===r?ko:e+i*1e3}function ef(n,e,t){var r=t.now,l=t.future,o=t.round,s=t.prevStep;if(n){var i=xu(n,e,{now:r,future:l,round:o,prevStep:s});return i===void 0?void 0:i-r}else return l?e-r+1:ko}var yo={};function st(n){return yo[n]}function vo(n){if(!n)throw new Error("[javascript-time-ago] No locale data passed.");yo[n.locale]=n}const tf=[{formatAs:"now"},{formatAs:"second"},{formatAs:"minute"},{formatAs:"hour"},{formatAs:"day"},{formatAs:"week"},{formatAs:"month"},{formatAs:"year"}],wn={steps:tf,labels:"long"};function Wr(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(n,l).enumerable})),t.push.apply(t,r)}return t}function Xr(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Wr(Object(t),!0).forEach(function(r){nf(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Wr(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function nf(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}const On=Xr(Xr({},wn),{},{steps:wn.steps.filter(function(n){return n.formatAs!=="second"})}),wo=[{factor:1,unit:"now"},{threshold:1,threshold_for_now:45.5,factor:1,unit:"second"},{threshold:45.5,factor:Ye,unit:"minute"},{threshold:2.5*Ye,granularity:5,factor:Ye,unit:"minute"},{threshold:22.5*Ye,factor:.5*Jt,unit:"half-hour"},{threshold:42.5*Ye,threshold_for_minute:52.5*Ye,factor:Jt,unit:"hour"},{threshold:20.5/24*et,factor:et,unit:"day"},{threshold:5.5*et,factor:kn,unit:"week"},{threshold:3.5*kn,factor:yn,unit:"month"},{threshold:10.5*yn,factor:po,unit:"year"}],Qr={gradation:wo,flavour:"long",units:["now","minute","hour","day","week","month","year"]},rf={gradation:wo,flavour:"long-time",units:["now","minute","hour","day","week","month","year"]};function Oo(n){return n instanceof Date?n:new Date(n)}var Cn=[{formatAs:"second"},{formatAs:"minute"},{formatAs:"hour"}],Fe={},lf={minTime:function(e,t){t.future;var r=t.getMinTimeForUnit;return r("day")},format:function(e,t){return Fe[t]||(Fe[t]={}),Fe[t].dayMonth||(Fe[t].dayMonth=new Intl.DateTimeFormat(t,{month:"short",day:"numeric"})),Fe[t].dayMonth.format(Oo(e))}},of={minTime:function(e,t){var r=t.future;if(r){var l=new Date(new Date(e).getFullYear(),0).getTime()-1;return(e-l)/1e3}else{var o=new Date(new Date(e).getFullYear()+1,0).getTime();return(o-e)/1e3}},format:function(e,t){return Fe[t]||(Fe[t]={}),Fe[t].dayMonthYear||(Fe[t].dayMonthYear=new Intl.DateTimeFormat(t,{year:"numeric",month:"short",day:"numeric"})),Fe[t].dayMonthYear.format(Oo(e))}};Uu()?Cn.push(lf,of):Cn.push({formatAs:"day"},{formatAs:"week"},{formatAs:"month"},{formatAs:"year"});const rt={steps:Cn,labels:["mini","short-time","narrow","short"]};function Jr(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(n,l).enumerable})),t.push.apply(t,r)}return t}function Zr(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Jr(Object(t),!0).forEach(function(r){sf(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Jr(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function sf(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}const af=Zr(Zr({},rt),{},{steps:[{formatAs:"now"}].concat(rt.steps)});function $r(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(n,l).enumerable})),t.push.apply(t,r)}return t}function xr(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?$r(Object(t),!0).forEach(function(r){uf(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):$r(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function uf(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}const Sn=xr(xr({},rt),{},{steps:rt.steps.filter(function(n){return n.formatAs!=="second"})});function el(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(n,l).enumerable})),t.push.apply(t,r)}return t}function tl(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?el(Object(t),!0).forEach(function(r){ff(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):el(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function ff(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}const cf=tl(tl({},Sn),{},{steps:[{formatAs:"now"}].concat(Sn.steps)});function nl(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(n,l).enumerable})),t.push.apply(t,r)}return t}function zt(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?nl(Object(t),!0).forEach(function(r){df(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):nl(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function df(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}const mf=zt(zt({},rt),{},{steps:rt.steps.filter(function(n){return n.formatAs!=="second"}).map(function(n){return n.formatAs==="minute"?zt(zt({},n),{},{minTime:Ye}):n})}),Tt={steps:[{formatAs:"second"},{formatAs:"minute"},{formatAs:"hour"},{formatAs:"day"},{formatAs:"month"},{formatAs:"year"}],labels:["mini","short-time","narrow","short"]};function rl(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(n,l).enumerable})),t.push.apply(t,r)}return t}function ll(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?rl(Object(t),!0).forEach(function(r){_f(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):rl(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function _f(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}const pf=ll(ll({},Tt),{},{steps:[{formatAs:"now"}].concat(Tt.steps)});function ol(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(n,l).enumerable})),t.push.apply(t,r)}return t}function il(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?ol(Object(t),!0).forEach(function(r){hf(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):ol(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function hf(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}const An=il(il({},Tt),{},{steps:Tt.steps.filter(function(n){return n.formatAs!=="second"})});function sl(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(n,l).enumerable})),t.push.apply(t,r)}return t}function al(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?sl(Object(t),!0).forEach(function(r){gf(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):sl(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function gf(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}const bf=al(al({},An),{},{steps:[{formatAs:"now"}].concat(An.steps)});function kf(n){switch(n){case"default":case"round":return wn;case"round-minute":return On;case"approximate":return Qr;case"time":case"approximate-time":return rf;case"mini":return Tt;case"mini-now":return pf;case"mini-minute":return An;case"mini-minute-now":return bf;case"twitter":return rt;case"twitter-now":return af;case"twitter-minute":return Sn;case"twitter-minute-now":return cf;case"twitter-first-minute":return mf;default:return Qr}}function Zt(n){return Zt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zt(n)}function yf(n,e){var t=typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t)return(t=t.call(n)).next.bind(t);if(Array.isArray(n)||(t=Co(n))||e&&n&&typeof n.length=="number"){t&&(n=t);var r=0;return function(){return r>=n.length?{done:!0}:{done:!1,value:n[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vf(n,e){return Cf(n)||Of(n,e)||Co(n,e)||wf()}function wf(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Co(n,e){if(!!n){if(typeof n=="string")return ul(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return ul(n,e)}}function ul(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function Of(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r=[],l=!0,o=!1,s,i;try{for(t=t.call(n);!(l=(s=t.next()).done)&&(r.push(s.value),!(e&&r.length===e));l=!0);}catch(a){o=!0,i=a}finally{try{!l&&t.return!=null&&t.return()}finally{if(o)throw i}}return r}}function Cf(n){if(Array.isArray(n))return n}function Sf(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function fl(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function Af(n,e,t){return e&&fl(n.prototype,e),t&&fl(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}var Be=function(){function n(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.polyfill;Sf(this,n),typeof e=="string"&&(e=[e]),this.locale=Bu(e.concat(n.getDefaultLocale()),st),typeof Intl<"u"&&Intl.NumberFormat&&(this.numberFormat=new Intl.NumberFormat(this.locale)),r===!1?(this.IntlRelativeTimeFormat=Intl.RelativeTimeFormat,this.IntlPluralRules=Intl.PluralRules):(this.IntlRelativeTimeFormat=Ze,this.IntlPluralRules=Ze.PluralRules),this.relativeTimeFormatCache=new Vr,this.pluralRulesCache=new Vr}return Af(n,[{key:"format",value:function(t,r,l){l||(r&&!Rf(r)?(l=r,r=void 0):l={}),r||(r=On),typeof r=="string"&&(r=kf(r));var o=Tf(t),s=this.getLabels(r.flavour||r.labels),i=s.labels,a=s.labelsType,u;r.now!==void 0&&(u=r.now),u===void 0&&l.now!==void 0&&(u=l.now),u===void 0&&(u=Date.now());var f=(u-o)/1e3,c=l.future||f<0,d=Ef(i,st(this.locale).now,st(this.locale).long,c);if(r.custom){var p=r.custom({now:u,date:new Date(o),time:o,elapsed:f,locale:this.locale});if(p!==void 0)return p}var _=Lf(r.units,i,d),g=l.round||r.round,h=Yu(r.gradation||r.steps||On.steps,f,{now:u,units:_,round:g,future:c,getNextStep:!0}),v=vf(h,3),L=v[0],N=v[1],S=v[2],w=this.formatDateForStep(o,N,f,{labels:i,labelsType:a,nowLabel:d,now:u,future:c,round:g})||"";if(l.getTimeToNextUpdate){var E=$u(o,N,{nextStep:S,prevStep:L,now:u,future:c,round:g});return[w,E]}return w}},{key:"formatDateForStep",value:function(t,r,l,o){var s=this,i=o.labels,a=o.labelsType,u=o.nowLabel,f=o.now,c=o.future,d=o.round;if(!!r){if(r.format)return r.format(t,this.locale,{formatAs:function(v,L){return s.formatValue(L,v,{labels:i,future:c})},now:f,future:c});var p=r.unit||r.formatAs;if(!p)throw new Error("[javascript-time-ago] Each step must define either `formatAs` or `format()`. Step: ".concat(JSON.stringify(r)));if(p==="now")return u;var _=Math.abs(l)/ho(r);r.granularity&&(_=At(d)(_/r.granularity)*r.granularity);var g=-1*Math.sign(l)*At(d)(_);switch(g===0&&(c?g=0:g=-0),a){case"long":case"short":case"narrow":return this.getFormatter(a).format(g,p);default:return this.formatValue(g,p,{labels:i,future:c})}}}},{key:"formatValue",value:function(t,r,l){var o=l.labels,s=l.future;return this.getFormattingRule(o,r,t,{future:s}).replace("{0}",this.formatNumber(Math.abs(t)))}},{key:"getFormattingRule",value:function(t,r,l,o){var s=o.future;if(this.locale,t=t[r],typeof t=="string")return t;var i=l===0?s?"future":"past":l<0?"past":"future",a=t[i]||t;if(typeof a=="string")return a;var u=this.getPluralRules().select(Math.abs(l));return a[u]||a.other}},{key:"formatNumber",value:function(t){return this.numberFormat?this.numberFormat.format(t):String(t)}},{key:"getFormatter",value:function(t){return this.relativeTimeFormatCache.get(this.locale,t)||this.relativeTimeFormatCache.put(this.locale,t,new this.IntlRelativeTimeFormat(this.locale,{style:t}))}},{key:"getPluralRules",value:function(){return this.pluralRulesCache.get(this.locale)||this.pluralRulesCache.put(this.locale,new this.IntlPluralRules(this.locale))}},{key:"getLabels",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];typeof t=="string"&&(t=[t]),t=t.map(function(i){switch(i){case"tiny":case"mini-time":return"mini";default:return i}}),t=t.concat("long");for(var r=st(this.locale),l=yf(t),o;!(o=l()).done;){var s=o.value;if(r[s])return{labelsType:s,labels:r[s]}}}}]),n}(),So="en";Be.getDefaultLocale=function(){return So};Be.setDefaultLocale=function(n){return So=n};Be.addDefaultLocale=function(n){if(cl)return console.error("[javascript-time-ago] `TimeAgo.addDefaultLocale()` can only be called once. To add other locales, use `TimeAgo.addLocale()`.");cl=!0,Be.setDefaultLocale(n.locale),Be.addLocale(n)};var cl;Be.addLocale=function(n){vo(n),Ze.addLocale(n)};Be.locale=Be.addLocale;Be.addLabels=function(n,e,t){var r=st(n);r||(vo({locale:n}),r=st(n)),r[e]=t};function Tf(n){if(n.constructor===Date||Mf(n))return n.getTime();if(typeof n=="number")return n;throw new Error("Unsupported relative time formatter input: ".concat(Zt(n),", ").concat(n))}function Mf(n){return Zt(n)==="object"&&typeof n.getTime=="function"}function Lf(n,e,t){var r=Object.keys(e);return t&&r.push("now"),n&&(r=n.filter(function(l){return l==="now"||r.indexOf(l)>=0})),r}function Ef(n,e,t,r){var l=n.now||e&&e.now;if(l)return typeof l=="string"?l:r?l.future:l.past;if(t&&t.second&&t.second.current)return t.second.current}function Rf(n){return typeof n=="string"||Fu(n)}function Pf(n){let e,t,r,l,o,s;const i=n[9].default,a=Me(i,n,n[8],null);return{c(){e=k("div"),a&&a.c(),m(e,"class",t="outclick "+n[0]),m(e,"style",r=!n[0]&&!n[1]?"display: contents":"")},m(u,f){T(u,e,f),a&&a.m(e,null),n[10](e),l=!0,o||(s=[G(window,"pointerdown",n[3]),G(window,"keydown",n[4])],o=!0)},p(u,[f]){a&&a.p&&(!l||f&256)&&Ee(a,i,u,u[8],l?Le(i,u[8],f,null):Re(u[8]),null),(!l||f&1&&t!==(t="outclick "+u[0]))&&m(e,"class",t),(!l||f&3&&r!==(r=!u[0]&&!u[1]?"display: contents":""))&&m(e,"style",r)},i(u){l||(O(a,u),l=!0)},o(u){C(a,u),l=!1},d(u){u&&A(e),a&&a.d(u),n[10](null),o=!1,de(s)}}}function Df(n,e,t){let{$$slots:r={},$$scope:l}=e;const o=$t();let{class:s=""}=e,{excludeByDOMNode:i=[]}=e,{excludeByQuerySelector:a=[]}=e,{useWrapper:u=!1}=e,{includeSelf:f=!1}=e,c;const d=h=>{let v=!1;for(let L=0;L<i.length;L++)if(i[L]&&i[L].contains(h)){v=!0;break}for(let L=0;L<a.length;L++){let N=document.querySelector(a[L]);if(N&&N.contains(h)){v=!0;break}}return v},p=h=>{(f?!0:!c.contains(h.target))&&!d(h.target)&&o("outclick",{wrapper:c})},_=h=>{if(h.code==="Escape"){o("outclick",{wrapper:c});return}h.target!==document.body&&["Enter","NumpadEnter","Space"].includes(h.code)&&p(h)};function g(h){ye[h?"unshift":"push"](()=>{c=h,t(2,c)})}return n.$$set=h=>{"class"in h&&t(0,s=h.class),"excludeByDOMNode"in h&&t(5,i=h.excludeByDOMNode),"excludeByQuerySelector"in h&&t(6,a=h.excludeByQuerySelector),"useWrapper"in h&&t(1,u=h.useWrapper),"includeSelf"in h&&t(7,f=h.includeSelf),"$$scope"in h&&t(8,l=h.$$scope)},[s,u,c,p,_,i,a,f,l,r,g]}class Nf extends ce{constructor(e){super(),fe(this,e,Df,Pf,ue,{class:0,excludeByDOMNode:5,excludeByQuerySelector:6,useWrapper:1,includeSelf:7})}}const If="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAWQAAAFkBqp2phgAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAABBSURBVDiNY2DADbwZGBieMDAwPGZgYPDEow4neMzAwPAfih/hUsREjsnEAk+oKx4xMDB40NIi2oHRWBgMYKTEAgDk8RljTFG0oAAAAABJRU5ErkJggg==";const jf=n=>({}),dl=n=>({});function ml(n){let e,t,r,l;const o=n[6]["list-items"],s=Me(o,n,n[11],dl);return{c(){e=k("ul"),s&&s.c(),m(e,"class","menu svelte-7weekb")},m(i,a){T(i,e,a),s&&s.m(e,null),n[9](e),t=!0,r||(l=G(e,"keydown",n[8]),r=!0)},p(i,a){s&&s.p&&(!t||a&2048)&&Ee(s,o,i,i[11],t?Le(o,i[11],a,jf):Re(i[11]),dl)},i(i){t||(O(s,i),t=!0)},o(i){C(s,i),t=!1},d(i){i&&A(e),s&&s.d(i),n[9](null),r=!1,l()}}}function zf(n){let e,t,r=n[5]&&ml(n);return{c(){r&&r.c(),e=Ce()},m(l,o){r&&r.m(l,o),T(l,e,o),t=!0},p(l,o){l[5]?r?(r.p(l,o),o&32&&O(r,1)):(r=ml(l),r.c(),O(r,1),r.m(e.parentNode,e)):r&&(te(),C(r,1,1,()=>{r=null}),ne())},i(l){t||(O(r),t=!0)},o(l){C(r),t=!1},d(l){r&&r.d(l),l&&A(e)}}}function Bf(n){let e,t,r,l,o,s,i,a,u,f;return i=new Nf({props:{excludeByQuerySelector:["#menu-button-"+n[1],...n[0]],$$slots:{default:[zf]},$$scope:{ctx:n}}}),i.$on("outclick",n[10]),{c(){e=k("div"),t=k("button"),r=k("img"),s=D(),W(i.$$.fragment),sn(r.src,l=If)||m(r,"src",l),m(r,"alt","Menu"),$(r,"filter","invert(1)"),$(r,"transform","rotate(90deg)"),m(t,"id",o="menu-button-"+n[1]),m(t,"class","icon-button"),m(e,"class","popup svelte-7weekb")},m(c,d){T(c,e,d),b(e,t),b(t,r),b(e,s),Y(i,e,null),a=!0,u||(f=G(t,"click",n[7]),u=!0)},p(c,[d]){(!a||d&2&&o!==(o="menu-button-"+c[1]))&&m(t,"id",o);const p={};d&3&&(p.excludeByQuerySelector=["#menu-button-"+c[1],...c[0]]),d&2108&&(p.$$scope={dirty:d,ctx:c}),i.$set(p)},i(c){a||(O(i.$$.fragment,c),a=!0)},o(c){C(i.$$.fragment,c),a=!1},d(c){c&&A(e),K(i),u=!1,f()}}}function Uf(n,e,t){let{$$slots:r={},$$scope:l}=e,o=!1,s=0,i=null,a=[];const u=()=>{i&&t(4,a=[...i.getElementsByTagName("li")])};let{excludeClicks:f=[]}=e,{id:c=Math.random().toString()}=e;const d=()=>t(5,o=!o),p=h=>{const{key:v}=h;(v==="ArrowUp"||v==="ArrowDown")&&(h.preventDefault(),v==="ArrowDown"?t(2,s=(s+1)%a.length):v==="ArrowUp"&&(s<=0?t(2,s=a.length-1):t(2,s--,s)))};function _(h){ye[h?"unshift":"push"](()=>{i=h,t(3,i)})}const g=()=>{t(5,o=!1)};return n.$$set=h=>{"excludeClicks"in h&&t(0,f=h.excludeClicks),"id"in h&&t(1,c=h.id),"$$scope"in h&&t(11,l=h.$$scope)},n.$$.update=()=>{n.$$.dirty&8&&u(),n.$$.dirty&20&&a.length>0&&a[s].firstElementChild.focus()},[f,c,s,i,a,o,r,d,p,_,g,l]}class Ff extends ce{constructor(e){super(),fe(this,e,Uf,Bf,ue,{excludeClicks:0,id:1})}}function _l(n,e,t){const r=n.slice();return r[17]=e[t],r}function pl(n){let e,t;return{c(){e=k("img"),m(e,"class","favicon svelte-6ykj7f"),sn(e.src,t=n[0].meta.favicon)||m(e,"src",t),m(e,"alt","\u{1F525}")},m(r,l){T(r,e,l)},p(r,l){l&1&&!sn(e.src,t=r[0].meta.favicon)&&m(e,"src",t)},d(r){r&&A(e)}}}function hl(n){let e,t;return e=new le({props:{icon:we,spin:!0,color:"#888"}}),{c(){W(e.$$.fragment)},m(r,l){Y(e,r,l),t=!0},p:X,i(r){t||(O(e.$$.fragment,r),t=!0)},o(r){C(e.$$.fragment,r),t=!1},d(r){K(e,r)}}}function gl(n){let e,t,r,l,o,s,i,a,u=Ol.format(new Date(n[0].last_saved_offline*1e3))+"",f,c,d,p;return i=new le({props:{icon:ea}}),{c(){e=k("li"),t=k("button"),r=ee(`Open saved copy\r
                `),l=k("br"),o=D(),s=k("small"),W(i.$$.fragment),a=ee(` Last saved\r
                  `),f=ee(u),$(s,"background","unset",1),$(s,"color","#bbb"),m(s,"class","svelte-6ykj7f"),m(t,"class","no-style"),m(e,"role","none")},m(_,g){T(_,e,g),b(e,t),b(t,r),b(t,l),b(t,o),b(t,s),Y(i,s,null),b(s,a),b(s,f),c=!0,d||(p=G(t,"click",n[12]),d=!0)},p(_,g){(!c||g&1)&&u!==(u=Ol.format(new Date(_[0].last_saved_offline*1e3))+"")&&ge(f,u)},i(_){c||(O(i.$$.fragment,_),c=!0)},o(_){C(i.$$.fragment,_),c=!1},d(_){_&&A(e),K(i),d=!1,p()}}}function bl(n){let e,t;return e=new le({props:{icon:we,spin:!0,color:"#888"}}),{c(){W(e.$$.fragment)},m(r,l){Y(e,r,l),t=!0},p:X,i(r){t||(O(e.$$.fragment,r),t=!0)},o(r){C(e.$$.fragment,r),t=!1},d(r){K(e,r)}}}function kl(n){let e,t;return e=new le({props:{icon:we,spin:!0,color:"#888"}}),{c(){W(e.$$.fragment)},m(r,l){Y(e,r,l),t=!0},p:X,i(r){t||(O(e.$$.fragment,r),t=!0)},o(r){C(e.$$.fragment,r),t=!1},d(r){K(e,r)}}}function qf(n){let e,t,r,l,o,s,i,a,u,f,c,d,p,_,g,h,v,L,N,S,w,E,P,V,U,y,B=n[6]&&hl(),F=n[0].last_saved_offline&&gl(n),z=n[5]&&bl(),J=n[4]&&kl();return{c(){e=k("li"),t=k("button"),t.textContent="Edit",r=D(),l=k("hr"),o=D(),s=k("li"),i=k("button"),B&&B.c(),a=D(),u=k("span"),u.textContent="Save Offline",c=D(),F&&F.c(),d=D(),p=k("li"),_=k("button"),z&&z.c(),g=D(),h=k("span"),h.textContent="Refetch Metadata",v=D(),L=k("hr"),N=D(),S=k("li"),w=k("button"),J&&J.c(),E=D(),P=k("span"),P.textContent="Delete",m(t,"class","no-style"),m(e,"role","none"),$(u,"color",n[6]?"#888":"inherit",!1),m(i,"id",f="save-offline-button-"+n[0].id),m(i,"class","no-style"),i.disabled=n[6],$(i,"cursor",n[6]?"not-allowed":"pointer",!1),m(s,"role","none"),$(h,"color",n[5]?"#888":"inherit",!1),m(_,"class","no-style"),_.disabled=n[5],$(_,"cursor",n[5]?"not-allowed":"pointer",!1),m(p,"role","none"),$(P,"color",n[4]?"#888":"rgb(231, 126, 126)",!1),m(w,"class","no-style"),w.disabled=n[4],$(w,"cursor",n[4]?"not-allowed":"pointer",!1),m(S,"role","none")},m(q,I){T(q,e,I),b(e,t),T(q,r,I),T(q,l,I),T(q,o,I),T(q,s,I),b(s,i),B&&B.m(i,null),b(i,a),b(i,u),T(q,c,I),F&&F.m(q,I),T(q,d,I),T(q,p,I),b(p,_),z&&z.m(_,null),b(_,g),b(_,h),T(q,v,I),T(q,L,I),T(q,N,I),T(q,S,I),b(S,w),J&&J.m(w,null),b(w,E),b(w,P),V=!0,U||(y=[G(t,"click",n[10]),G(i,"click",n[11]),G(_,"click",n[13]),G(w,"click",n[9])],U=!0)},p(q,I){q[6]?B?(B.p(q,I),I&64&&O(B,1)):(B=hl(),B.c(),O(B,1),B.m(i,a)):B&&(te(),C(B,1,1,()=>{B=null}),ne()),I&64&&$(u,"color",q[6]?"#888":"inherit",!1),(!V||I&1&&f!==(f="save-offline-button-"+q[0].id))&&m(i,"id",f),(!V||I&64)&&(i.disabled=q[6]),I&64&&$(i,"cursor",q[6]?"not-allowed":"pointer",!1),q[0].last_saved_offline?F?(F.p(q,I),I&1&&O(F,1)):(F=gl(q),F.c(),O(F,1),F.m(d.parentNode,d)):F&&(te(),C(F,1,1,()=>{F=null}),ne()),q[5]?z?(z.p(q,I),I&32&&O(z,1)):(z=bl(),z.c(),O(z,1),z.m(_,g)):z&&(te(),C(z,1,1,()=>{z=null}),ne()),I&32&&$(h,"color",q[5]?"#888":"inherit",!1),(!V||I&32)&&(_.disabled=q[5]),I&32&&$(_,"cursor",q[5]?"not-allowed":"pointer",!1),q[4]?J?(J.p(q,I),I&16&&O(J,1)):(J=kl(),J.c(),O(J,1),J.m(w,E)):J&&(te(),C(J,1,1,()=>{J=null}),ne()),I&16&&$(P,"color",q[4]?"#888":"rgb(231, 126, 126)",!1),(!V||I&16)&&(w.disabled=q[4]),I&16&&$(w,"cursor",q[4]?"not-allowed":"pointer",!1)},i(q){V||(O(B),O(F),O(z),O(J),V=!0)},o(q){C(B),C(F),C(z),C(J),V=!1},d(q){q&&A(e),q&&A(r),q&&A(l),q&&A(o),q&&A(s),B&&B.d(),q&&A(c),F&&F.d(q),q&&A(d),q&&A(p),z&&z.d(),q&&A(v),q&&A(L),q&&A(N),q&&A(S),J&&J.d(),U=!1,de(y)}}}function yl(n){let e,t=n[0].meta.description+"",r;return{c(){e=k("p"),r=ee(t)},m(l,o){T(l,e,o),b(e,r)},p(l,o){o&1&&t!==(t=l[0].meta.description+"")&&ge(r,t)},d(l){l&&A(e)}}}function vl(n){let e,t,r=n[0].tags,l=[];for(let o=0;o<r.length;o+=1)l[o]=wl(_l(n,r,o));return{c(){e=k("div"),t=k("div");for(let o=0;o<l.length;o+=1)l[o].c();m(t,"class","tags svelte-6ykj7f"),m(e,"id","footer"),m(e,"class","row")},m(o,s){T(o,e,s),b(e,t);for(let i=0;i<l.length;i+=1)l[i].m(t,null)},p(o,s){if(s&1){r=o[0].tags;let i;for(i=0;i<r.length;i+=1){const a=_l(o,r,i);l[i]?l[i].p(a,s):(l[i]=wl(a),l[i].c(),l[i].m(t,null))}for(;i<l.length;i+=1)l[i].d(1);l.length=r.length}},d(o){o&&A(e),pt(l,o)}}}function wl(n){let e,t=n[17].name+"",r;return{c(){e=k("div"),r=ee(t),m(e,"class","tag svelte-6ykj7f")},m(l,o){T(l,e,o),b(e,r)},p(l,o){o&1&&t!==(t=l[17].name+"")&&ge(r,t)},d(l){l&&A(e)}}}function Hf(n){let e,t,r,l,o=n[0].meta.title+"",s,i,a,u,f,c,d,p,_,g,h,v=n[0].url+"",L,N,S,w,E,P,V,U,y=n[0].meta.favicon&&pl(n);u=new Ff({props:{id:n[0].id.toString(),excludeClicks:["#save-offline-button-"+n[0].id],$$slots:{"list-items":[qf]},$$scope:{ctx:n}}});let B=n[0].meta.description&&yl(n),F=n[0].tags.length>0&&vl(n);return{c(){e=k("div"),t=k("div"),y&&y.c(),r=D(),l=k("h3"),s=ee(o),i=D(),a=k("div"),W(u.$$.fragment),f=D(),c=k("input"),_=D(),g=k("small"),h=k("a"),L=ee(v),S=D(),B&&B.c(),w=D(),F&&F.c(),$(l,"text-overflow","ellipsis"),m(l,"class","svelte-6ykj7f"),m(c,"type","checkbox"),m(c,"name",d=n[0].id.toString()),m(c,"id",p=n[0].id.toString()),m(c,"class","bookmark-checkbox svelte-6ykj7f"),m(a,"class","m-l-auto row"),m(t,"class","row header-row"),m(h,"href",N=n[0].url),m(g,"class","svelte-6ykj7f"),m(e,"id",E=n[0].id.toString()),m(e,"class","bookmark svelte-6ykj7f"),re(e,"checked",n[2])},m(z,J){T(z,e,J),b(e,t),y&&y.m(t,null),b(t,r),b(t,l),b(l,s),b(t,i),b(t,a),Y(u,a,null),b(a,f),b(a,c),c.checked=n[2],b(e,_),b(e,g),b(g,h),b(h,L),b(e,S),B&&B.m(e,null),b(e,w),F&&F.m(e,null),P=!0,V||(U=[G(c,"change",n[14]),G(c,"change",n[15])],V=!0)},p(z,[J]){z[0].meta.favicon?y?y.p(z,J):(y=pl(z),y.c(),y.m(t,r)):y&&(y.d(1),y=null),(!P||J&1)&&o!==(o=z[0].meta.title+"")&&ge(s,o);const q={};J&1&&(q.id=z[0].id.toString()),J&1&&(q.excludeClicks=["#save-offline-button-"+z[0].id]),J&1048819&&(q.$$scope={dirty:J,ctx:z}),u.$set(q),(!P||J&1&&d!==(d=z[0].id.toString()))&&m(c,"name",d),(!P||J&1&&p!==(p=z[0].id.toString()))&&m(c,"id",p),J&4&&(c.checked=z[2]),(!P||J&1)&&v!==(v=z[0].url+"")&&ge(L,v),(!P||J&1&&N!==(N=z[0].url))&&m(h,"href",N),z[0].meta.description?B?B.p(z,J):(B=yl(z),B.c(),B.m(e,w)):B&&(B.d(1),B=null),z[0].tags.length>0?F?F.p(z,J):(F=vl(z),F.c(),F.m(e,null)):F&&(F.d(1),F=null),(!P||J&1&&E!==(E=z[0].id.toString()))&&m(e,"id",E),J&4&&re(e,"checked",z[2])},i(z){P||(O(u.$$.fragment,z),P=!0)},o(z){C(u.$$.fragment,z),P=!1},d(z){z&&A(e),y&&y.d(),K(u),B&&B.d(),F&&F.d(),V=!1,de(U)}}}Be.addDefaultLocale(fu);const Ol=new Be("en-US");function Vf(n,e,t){let r,l;oe(n,Ie,S=>t(7,l=S));const{stats:o}=Pe;oe(n,o,S=>t(16,r=S));let{bookmark:s}=e,{toggleMark:i}=e,{activeBookmark:a}=e,{checked:u=!1}=e,f=!1,c=!1,d=!1;const p=async()=>{try{t(4,f=!0),await pe("/bookmarks/"+s.id,"DELETE"),nt.delete(s.id),Se(o,r.total--,r)}catch(S){console.debug(S)}finally{t(4,f=!1)}},_=()=>{t(1,a=s.id),l["edit-bookmark"].showModal()},g=async()=>{try{t(6,d=!0);const{saved:S,lastSavedOffline:w}=await pe("/bookmarks/"+s.id+"/save","PUT");S&&(t(0,s.last_saved_offline=w,s),t(0,s))}catch(S){console.debug(S),Ne.push("An error occurred while saving the page.")}finally{t(6,d=!1)}},h=S=>{S.preventDefault(),window.open("http://localhost:8080/saved/"+s.id+"_"+s.last_saved_offline)},v=async()=>{try{t(5,c=!0);const S=await pe("/bookmarks/"+s.id+"/meta","PUT");nt.updateOne(s.id,{...s,meta:S})}catch(S){console.error(S)}finally{t(5,c=!1)}};function L(){u=this.checked,t(2,u)}const N=()=>i(s.id);return n.$$set=S=>{"bookmark"in S&&t(0,s=S.bookmark),"toggleMark"in S&&t(3,i=S.toggleMark),"activeBookmark"in S&&t(1,a=S.activeBookmark),"checked"in S&&t(2,u=S.checked)},[s,a,u,i,f,c,d,l,o,p,_,g,h,v,L,N]}class Gf extends ce{constructor(e){super(),fe(this,e,Vf,Hf,ue,{bookmark:0,toggleMark:3,activeBookmark:1,checked:2})}}function Yf(n){let e,t,r,l,o,s,i,a,u,f,c,d,p,_,g,h,v,L,N,S,w,E,P,V,U,y,B,F,z,J,q,I,R,Q,H,Z,me,ve,_e;function De(ie){n[13](ie)}let Ge={inputClass:"input-like",placeholder:"Search by tags",outerDivClass:"color-fix",options:n[3].map(Cl)};return n[0]!==void 0&&(Ge.selected=n[0]),H=new Je({props:Ge}),ye.push(()=>Ve(H,"selected",De)),{c(){e=k("input"),t=D(),r=k("div"),l=k("div"),o=k("strong"),o.textContent="SORT BY",s=D(),i=k("div"),a=k("input"),u=D(),f=k("label"),f.textContent="Title",c=D(),d=k("div"),p=k("input"),_=D(),g=k("label"),g.textContent="Date",h=D(),v=k("div"),L=k("strong"),L.textContent="ORDER",N=D(),S=k("div"),w=k("input"),E=D(),P=k("label"),P.textContent="Ascending",V=D(),U=k("div"),y=k("input"),B=D(),F=k("label"),F.textContent="Descending",z=D(),J=k("div"),q=k("strong"),q.textContent="TAGS",I=D(),R=k("button"),R.textContent="Edit Tags",Q=D(),W(H.$$.fragment),m(e,"type","text"),m(e,"id","search"),m(e,"name","search"),m(e,"placeholder","Search"),m(e,"class","m-b-2 w-full"),$(e,"box-sizing","border-box"),m(a,"type","radio"),m(a,"name","sortBy"),m(a,"id","title"),a.__value="title",a.value=a.__value,m(a,"class","svelte-1fqunjt"),n[8][0].push(a),m(f,"for","title"),m(f,"class","svelte-1fqunjt"),m(p,"type","radio"),m(p,"name","sortBy"),m(p,"id","date"),p.__value="date",p.value=p.__value,m(p,"class","svelte-1fqunjt"),n[8][0].push(p),m(g,"for","date"),m(g,"class","svelte-1fqunjt"),m(l,"class","col"),m(w,"type","radio"),m(w,"name","order"),m(w,"id","asc"),w.__value="asc",w.value=w.__value,m(w,"class","svelte-1fqunjt"),n[8][1].push(w),m(P,"for","asc"),m(P,"class","svelte-1fqunjt"),m(y,"type","radio"),m(y,"name","order"),m(y,"id","desc"),y.__value="desc",y.value=y.__value,m(y,"class","svelte-1fqunjt"),n[8][1].push(y),m(F,"for","desc"),m(F,"class","svelte-1fqunjt"),m(v,"class","col m-l-auto"),m(r,"class","row m-b-2"),m(R,"class","m-l-auto"),$(R,"margin-right","0"),m(J,"class","row m-b-1")},m(ie,se){T(ie,e,se),ke(e,n[1].search),T(ie,t,se),T(ie,r,se),b(r,l),b(l,o),b(l,s),b(l,i),b(i,a),a.checked=a.__value===n[1].sortBy,b(i,u),b(i,f),b(l,c),b(l,d),b(d,p),p.checked=p.__value===n[1].sortBy,b(d,_),b(d,g),b(r,h),b(r,v),b(v,L),b(v,N),b(v,S),b(S,w),w.checked=w.__value===n[1].order,b(S,E),b(S,P),b(v,V),b(v,U),b(U,y),y.checked=y.__value===n[1].order,b(U,B),b(U,F),T(ie,z,se),T(ie,J,se),b(J,q),b(J,I),b(J,R),T(ie,Q,se),Y(H,ie,se),me=!0,ve||(_e=[G(e,"input",n[6]),G(a,"change",n[7]),G(p,"change",n[9]),G(w,"change",n[10]),G(y,"change",n[11]),G(R,"click",n[12])],ve=!0)},p(ie,[se]){se&2&&e.value!==ie[1].search&&ke(e,ie[1].search),se&2&&(a.checked=a.__value===ie[1].sortBy),se&2&&(p.checked=p.__value===ie[1].sortBy),se&2&&(w.checked=w.__value===ie[1].order),se&2&&(y.checked=y.__value===ie[1].order);const x={};se&8&&(x.options=ie[3].map(Cl)),!Z&&se&1&&(Z=!0,x.selected=ie[0],He(()=>Z=!1)),H.$set(x)},i(ie){me||(O(H.$$.fragment,ie),me=!0)},o(ie){C(H.$$.fragment,ie),me=!1},d(ie){ie&&A(e),ie&&A(t),ie&&A(r),n[8][0].splice(n[8][0].indexOf(a),1),n[8][0].splice(n[8][0].indexOf(p),1),n[8][1].splice(n[8][1].indexOf(w),1),n[8][1].splice(n[8][1].indexOf(y),1),ie&&A(z),ie&&A(J),ie&&A(Q),K(H,ie),ve=!1,de(_e)}}}const Cl=({id:n,name:e})=>({label:e,value:n});function Kf(n,e,t){let r,l,o;oe(n,Ie,v=>t(2,l=v));const{queryParams:s,tags:i}=Pe;oe(n,s,v=>t(1,r=v)),oe(n,i,v=>t(3,o=v));let a=[];const u=[[],[]];function f(){r.search=this.value,s.set(r)}function c(){r.sortBy=this.__value,s.set(r)}function d(){r.sortBy=this.__value,s.set(r)}function p(){r.order=this.__value,s.set(r)}function _(){r.order=this.__value,s.set(r)}const g=()=>{l["all-tags"].showModal()};function h(v){a=v,t(0,a)}return n.$$.update=()=>{n.$$.dirty&1&&Se(s,r.tags=a.map(({value:v})=>v),r)},[a,r,l,o,s,i,f,c,u,d,p,_,g,h]}class Wf extends ce{constructor(e){super(),fe(this,e,Kf,Yf,ue,{})}}function Xf(n){let e,t;return e=new Ao({props:{tree:n[0]}}),{c(){W(e.$$.fragment)},m(r,l){Y(e,r,l),t=!0},p(r,[l]){const o={};l&1&&(o.tree=r[0]),e.$set(o)},i(r){t||(O(e.$$.fragment,r),t=!0)},o(r){C(e.$$.fragment,r),t=!1},d(r){K(e,r)}}}const Sl=Oe({}),Bt=Oe({});function Qf(n,e,t){let r;const{folders:l}=Pe;return oe(n,l,o=>t(0,r=o)),[r,l]}class Jf extends ce{constructor(e){super(),fe(this,e,Qf,Xf,ue,{})}}function Al(n,e,t){var s;const r=n.slice();r[18]=e[t],r[23]=e,r[24]=t;const l=r[18];r[19]=l.id,r[20]=l.name,r[21]=l.children;const o=(s=r[5][r[19]])!=null?s:!0;return r[22]=o,r}function Zf(n){let e,t,r,l,o,s,i,a,u,f,c,d;function p(){n[13].call(t,n[19])}s=new le({props:{icon:xt}}),u=new le({props:{icon:zn}});function _(){return n[14](n[19])}function g(){return n[15](n[19],n[18],n[23],n[24])}return{c(){e=k("form"),t=k("input"),l=D(),o=k("button"),W(s.$$.fragment),i=D(),a=k("button"),W(u.$$.fragment),m(t,"type","text"),m(t,"class","no-style svelte-ngakaz"),t.autofocus=r=n[3][n[19]]!==void 0,m(o,"class","no-style svelte-ngakaz"),m(o,"type","submit"),m(a,"class","no-style svelte-ngakaz"),m(a,"type","reset"),m(e,"class","no-style svelte-ngakaz")},m(h,v){T(h,e,v),b(e,t),ke(t,n[3][n[19]]),b(e,l),b(e,o),Y(s,o,null),b(e,i),b(e,a),Y(u,a,null),f=!0,n[3][n[19]]!==void 0&&t.focus(),c||(d=[G(t,"input",p),G(a,"click",_),G(e,"submit",ht(g))],c=!0)},p(h,v){n=h,(!f||v&9&&r!==(r=n[3][n[19]]!==void 0))&&(t.autofocus=r),v&9&&t.value!==n[3][n[19]]&&ke(t,n[3][n[19]])},i(h){f||(O(s.$$.fragment,h),O(u.$$.fragment,h),f=!0)},o(h){C(s.$$.fragment,h),C(u.$$.fragment,h),f=!1},d(h){h&&A(e),K(s),K(u),c=!1,de(d)}}}function $f(n){let e,t,r,l,o,s,i,a,u,f,c,d,p,_;const g=[ec,xf],h=[];function v(w,E){return w[4][w[19]]?0:1}t=v(n),r=h[t]=g[t](n),i=new le({props:{icon:ia}});function L(){return n[10](n[19],n[20])}f=new le({props:{icon:en}});function N(){return n[11](n[19])}let S=!n[4][n[19]]&&Tl(n);return{c(){e=k("div"),r.c(),l=D(),o=k("div"),s=k("button"),W(i.$$.fragment),a=D(),u=k("button"),W(f.$$.fragment),c=D(),S&&S.c(),m(s,"class","no-style svelte-ngakaz"),m(s,"title","Edit folder name"),m(u,"class","no-style svelte-ngakaz"),m(u,"title","Delete folder"),m(o,"class","actions svelte-ngakaz"),m(e,"class","title svelte-ngakaz")},m(w,E){T(w,e,E),h[t].m(e,null),b(e,l),b(e,o),b(o,s),Y(i,s,null),b(o,a),b(o,u),Y(f,u,null),b(o,c),S&&S.m(o,null),d=!0,p||(_=[G(s,"click",L),G(u,"click",N)],p=!0)},p(w,E){n=w;let P=t;t=v(n),t===P?h[t].p(n,E):(te(),C(h[P],1,1,()=>{h[P]=null}),ne(),r=h[t],r?r.p(n,E):(r=h[t]=g[t](n),r.c()),O(r,1),r.m(e,l)),n[4][n[19]]?S&&(te(),C(S,1,1,()=>{S=null}),ne()):S?(S.p(n,E),E&17&&O(S,1)):(S=Tl(n),S.c(),O(S,1),S.m(o,null))},i(w){d||(O(r),O(i.$$.fragment,w),O(f.$$.fragment,w),O(S),d=!0)},o(w){C(r),C(i.$$.fragment,w),C(f.$$.fragment,w),C(S),d=!1},d(w){w&&A(e),h[t].d(),K(i),K(f),S&&S.d(),p=!1,de(_)}}}function xf(n){let e,t=n[20]+"",r,l,o;function s(){return n[9](n[19])}return{c(){e=k("button"),r=ee(t),m(e,"class","no-style svelte-ngakaz")},m(i,a){T(i,e,a),b(e,r),l||(o=G(e,"click",s),l=!0)},p(i,a){n=i,a&1&&t!==(t=n[20]+"")&&ge(r,t)},i:X,o:X,d(i){i&&A(e),l=!1,o()}}}function ec(n){let e,t,r,l=n[20]+"",o,s,i,a;t=new le({props:{icon:Zs,size:"xs",style:"margin-right: 0.5rem; margin-left: -0.2em;",color:"var(--border)",rotate:n[22]?90:0}});function u(){return n[8](n[19],n[22])}return{c(){e=k("button"),W(t.$$.fragment),r=D(),o=ee(l),m(e,"class","no-style svelte-ngakaz")},m(f,c){T(f,e,c),Y(t,e,null),b(e,r),b(e,o),s=!0,i||(a=G(e,"click",u),i=!0)},p(f,c){n=f;const d={};c&33&&(d.rotate=n[22]?90:0),t.$set(d),(!s||c&1)&&l!==(l=n[20]+"")&&ge(o,l)},i(f){s||(O(t.$$.fragment,f),s=!0)},o(f){C(t.$$.fragment,f),s=!1},d(f){f&&A(e),K(t),i=!1,a()}}}function Tl(n){let e,t,r,l,o;t=new le({props:{icon:aa}});function s(){return n[12](n[18],n[23],n[24],n[19])}return{c(){e=k("button"),W(t.$$.fragment),m(e,"class","no-style svelte-ngakaz"),m(e,"title","Add Subfolder")},m(i,a){T(i,e,a),Y(t,e,null),r=!0,l||(o=G(e,"click",s),l=!0)},p(i,a){n=i},i(i){r||(O(t.$$.fragment,i),r=!0)},o(i){C(t.$$.fragment,i),r=!1},d(i){i&&A(e),K(t),l=!1,o()}}}function Ml(n){let e,t;return e=new Ao({props:{tree:n[21],parentId:n[19]}}),{c(){W(e.$$.fragment)},m(r,l){Y(e,r,l),t=!0},p(r,l){const o={};l&1&&(o.tree=r[21]),l&1&&(o.parentId=r[19]),e.$set(o)},i(r){t||(O(e.$$.fragment,r),t=!0)},o(r){C(e.$$.fragment,r),t=!1},d(r){K(e,r)}}}function Ll(n){let e,t,r,l,o;const s=[$f,Zf],i=[];function a(f,c){return f[3][f[19]]===void 0?0:1}t=a(n),r=i[t]=s[t](n);let u=n[4][n[19]]&&n[22]&&Ml(n);return{c(){e=k("li"),r.c(),l=D(),u&&u.c(),m(e,"class","svelte-ngakaz"),re(e,"has-children",n[4][n[19]]),re(e,"active-folder",n[6].folder===n[19].toString())},m(f,c){T(f,e,c),i[t].m(e,null),b(e,l),u&&u.m(e,null),o=!0},p(f,c){let d=t;t=a(f),t===d?i[t].p(f,c):(te(),C(i[d],1,1,()=>{i[d]=null}),ne(),r=i[t],r?r.p(f,c):(r=i[t]=s[t](f),r.c()),O(r,1),r.m(e,l)),f[4][f[19]]&&f[22]?u?(u.p(f,c),c&49&&O(u,1)):(u=Ml(f),u.c(),O(u,1),u.m(e,null)):u&&(te(),C(u,1,1,()=>{u=null}),ne()),c&17&&re(e,"has-children",f[4][f[19]]),c&65&&re(e,"active-folder",f[6].folder===f[19].toString())},i(f){o||(O(r),O(u),o=!0)},o(f){C(r),C(u),o=!1},d(f){f&&A(e),i[t].d(),u&&u.d()}}}function tc(n){let e,t,r,l,o,s,i,a,u=n[0],f=[];for(let d=0;d<u.length;d+=1)f[d]=Ll(Al(n,u,d));const c=d=>C(f[d],1,1,()=>{f[d]=null});return{c(){e=k("ul");for(let d=0;d<f.length;d+=1)f[d].c();t=D(),r=k("li"),l=k("form"),o=k("input"),m(o,"type","text"),m(o,"class","no-style svelte-ngakaz"),m(o,"placeholder","+ Add folder"),m(l,"class","svelte-ngakaz"),m(r,"class","svelte-ngakaz"),m(e,"class","svelte-ngakaz")},m(d,p){T(d,e,p);for(let _=0;_<f.length;_+=1)f[_].m(e,null);b(e,t),b(e,r),b(r,l),b(l,o),ke(o,n[2]),s=!0,i||(a=[G(o,"input",n[16]),G(l,"submit",ht(n[17]))],i=!0)},p(d,[p]){if(p&123){u=d[0];let _;for(_=0;_<u.length;_+=1){const g=Al(d,u,_);f[_]?(f[_].p(g,p),O(f[_],1)):(f[_]=Ll(g),f[_].c(),O(f[_],1),f[_].m(e,t))}for(te(),_=u.length;_<f.length;_+=1)c(_);ne()}p&4&&o.value!==d[2]&&ke(o,d[2])},i(d){if(!s){for(let p=0;p<u.length;p+=1)O(f[p]);s=!0}},o(d){f=f.filter(Boolean);for(let p=0;p<f.length;p+=1)C(f[p]);s=!1},d(d){d&&A(e),pt(f,d),i=!1,de(a)}}}function nc(n,e,t){let r,l,o;oe(n,Bt,w=>t(4,r=w)),oe(n,Sl,w=>t(5,l=w));const{queryParams:s}=Pe;oe(n,s,w=>t(6,o=w));let{tree:i=[]}=e,{parentId:a=void 0}=e,u="",f={};const c=(w,E)=>{Se(Sl,l[w]=!E,l)},d=w=>{Se(s,o.folder=w.toString(),o)},p=(w,E)=>t(3,f[w]=E,f),_=async w=>{try{await pe("/folders/"+w.toString(),"DELETE"),(i==null?void 0:i.length)===1&&Se(Bt,r[a]=!1,r),i.splice(i.findIndex(E=>E.id===w),1),t(0,i)}catch{}},g=(w,E,P,V)=>{t(0,E[P].children=[],i),Se(Bt,r[V]=!0,r)};function h(w){f[w]=this.value,t(3,f)}const v=w=>t(3,f[w]=void 0,f),L=async(w,E,P,V)=>{try{const U=await pe("/folders/"+w.toString(),"PATCH",{name:f[w]});t(0,P[V].name=U.name,i),t(3,f[w]=void 0,f)}catch(U){console.error(U)}};function N(){u=this.value,t(2,u)}const S=async()=>{try{const w=await pe("/folders","POST",{name:u,parent_id:a});i.push(w),t(0,i),t(2,u="")}catch{}};return n.$$set=w=>{"tree"in w&&t(0,i=w.tree),"parentId"in w&&t(1,a=w.parentId)},n.$$.update=()=>{n.$$.dirty&1&&(i.forEach(({id:w,children:E})=>{var P;Se(Bt,r[w]=((P=E==null?void 0:E.length)!=null?P:0)>0,r)}),i.sort(({children:w})=>w?-1:1))},[i,a,u,f,r,l,o,s,c,d,p,_,g,h,v,L,N,S]}class Ao extends ce{constructor(e){super(),fe(this,e,nc,tc,ue,{tree:0,parentId:1})}}function rc(n){let e;return{c(){e=k("h2"),e.textContent="Import bookmarks",m(e,"slot","header")},m(t,r){T(t,e,r)},p:X,d(t){t&&A(e)}}}function El(n){let e,t;return{c(){e=k("span"),t=ee(n[1]),m(e,"class","red")},m(r,l){T(r,e,l),b(e,t)},p(r,l){l&2&&ge(t,r[1])},d(r){r&&A(e)}}}function lc(n){let e;return{c(){e=ee("Import")},m(t,r){T(t,e,r)},p:X,i:X,o:X,d(t){t&&A(e)}}}function oc(n){let e,t;return e=new le({props:{icon:we,size:"lg",spin:!0}}),{c(){W(e.$$.fragment)},m(r,l){Y(e,r,l),t=!0},p:X,i(r){t||(O(e.$$.fragment,r),t=!0)},o(r){C(e.$$.fragment,r),t=!1},d(r){K(e,r)}}}function ic(n){let e,t,r,l,o,s,i,a,u,f,c,d,p,_,g,h=n[1]!==""&&El(n);const v=[oc,lc],L=[];function N(S,w){return S[0]==="SUBMITTING"?0:1}return f=N(n),c=L[f]=v[f](n),{c(){e=k("form"),t=k("input"),r=D(),l=k("br"),o=D(),s=k("div"),s.innerHTML=`<input type="checkbox" name="fetchMeta" id="fetchMeta"/> 
      <label for="fetchMeta">Fetch fresh metadata (slower)</label>`,i=D(),h&&h.c(),a=D(),u=k("button"),c.c(),m(t,"type","file"),m(t,"name","export"),t.required=!0,m(s,"class","m-b-1"),m(u,"class","w-full"),m(u,"type","submit"),u.disabled=d=n[0]==="SUBMITTING",m(e,"slot","body")},m(S,w){T(S,e,w),b(e,t),b(e,r),b(e,l),b(e,o),b(e,s),b(e,i),h&&h.m(e,null),b(e,a),b(e,u),L[f].m(u,null),p=!0,_||(g=G(e,"submit",ht(n[2])),_=!0)},p(S,w){S[1]!==""?h?h.p(S,w):(h=El(S),h.c(),h.m(e,a)):h&&(h.d(1),h=null);let E=f;f=N(S),f===E?L[f].p(S,w):(te(),C(L[E],1,1,()=>{L[E]=null}),ne(),c=L[f],c?c.p(S,w):(c=L[f]=v[f](S),c.c()),O(c,1),c.m(u,null)),(!p||w&1&&d!==(d=S[0]==="SUBMITTING"))&&(u.disabled=d)},i(S){p||(O(c),p=!0)},o(S){C(c),p=!1},d(S){S&&A(e),h&&h.d(),L[f].d(),_=!1,g()}}}function sc(n){let e,t;return e=new bt({props:{key:"import",$$slots:{body:[ic],header:[rc]},$$scope:{ctx:n}}}),{c(){W(e.$$.fragment)},m(r,l){Y(e,r,l),t=!0},p(r,[l]){const o={};l&131&&(o.$$scope={dirty:l,ctx:r}),e.$set(o)},i(r){t||(O(e.$$.fragment,r),t=!0)},o(r){C(e.$$.fragment,r),t=!1},d(r){K(e,r)}}}function ac(n,e,t){let r;oe(n,Ie,f=>t(3,r=f));const{bookmarks:l,tags:o,folders:s}=Pe;let i="",a="";return[i,a,async f=>{const c=Date.now();t(0,i="SUBMITTING"),t(1,a="");const d=f.currentTarget;try{const p=await pe("/bookmarks/import","POST",new FormData(d));l.init(),o.init(),s.init(),t(0,i="SUCCESS");const g=((Date.now()-c)/1e3).toPrecision(2);Ne.push(`${p.length} bookmarks imported in ${g} seconds.`),r.import.close()}catch(p){console.debug(p),t(0,i="ERROR"),t(1,a="An error occurred.")}}]}class uc extends ce{constructor(e){super(),fe(this,e,ac,sc,ue,{})}}function fc(n){let e,t,r;return t=new le({props:{icon:we,size:n[0],spin:!0}}),{c(){e=k("div"),W(t.$$.fragment),m(e,"id","loader"),m(e,"class","svelte-12ifjvg")},m(l,o){T(l,e,o),Y(t,e,null),r=!0},p(l,[o]){const s={};o&1&&(s.size=l[0]),t.$set(s)},i(l){r||(O(t.$$.fragment,l),r=!0)},o(l){C(t.$$.fragment,l),r=!1},d(l){l&&A(e),K(t)}}}function cc(n,e,t){let{size:r="lg"}=e;return n.$$set=l=>{"size"in l&&t(0,r=l.size)},[r]}class To extends ce{constructor(e){super(),fe(this,e,cc,fc,ue,{size:0})}}function Rl(n,e,t){const r=n.slice();return r[12]=e[t],r}function dc(n){let e;return{c(){e=k("h2"),e.textContent="All tags",m(e,"slot","header")},m(t,r){T(t,e,r)},p:X,d(t){t&&A(e)}}}function mc(n){let e=n[12].name+"",t;return{c(){t=ee(e)},m(r,l){T(r,t,l)},p(r,l){l&8&&e!==(e=r[12].name+"")&&ge(t,e)},d(r){r&&A(t)}}}function _c(n){let e,t,r;return{c(){e=k("input"),m(e,"type","text"),m(e,"class","no-style"),e.autofocus=!0,$(e,"width","100px")},m(l,o){T(l,e,o),ke(e,n[1]),e.focus(),t||(r=G(e,"input",n[8]),t=!0)},p(l,o){o&2&&e.value!==l[1]&&ke(e,l[1])},d(l){l&&A(e),t=!1,r()}}}function pc(n){let e,t,r,l,o;t=new le({props:{icon:fo}});function s(){return n[10](n[12])}return{c(){e=k("button"),W(t.$$.fragment),m(e,"class","no-style"),m(e,"title","Edit folder name"),$(e,"margin-left","0.75em"),$(e,"cursor","pointer")},m(i,a){T(i,e,a),Y(t,e,null),r=!0,l||(o=G(e,"click",s),l=!0)},p(i,a){n=i},i(i){r||(O(t.$$.fragment,i),r=!0)},o(i){C(t.$$.fragment,i),r=!1},d(i){i&&A(e),K(t),l=!1,o()}}}function hc(n){let e,t,r,l,o;t=new le({props:{icon:xt}});function s(){return n[9](n[12])}return{c(){e=k("button"),W(t.$$.fragment),m(e,"class","no-style"),m(e,"title","Edit folder name"),$(e,"margin-left","0.75em"),$(e,"cursor","pointer")},m(i,a){T(i,e,a),Y(t,e,null),r=!0,l||(o=G(e,"click",s),l=!0)},p(i,a){n=i},i(i){r||(O(t.$$.fragment,i),r=!0)},o(i){C(t.$$.fragment,i),r=!1},d(i){i&&A(e),K(t),l=!1,o()}}}function Pl(n,e){let t,r,l,o,s,i,a,u,f,c,d,p;function _(w,E){var P;return((P=w[0])==null?void 0:P.id)==w[12].id?_c:mc}let g=_(e),h=g(e);const v=[hc,pc],L=[];function N(w,E){var P;return((P=w[0])==null?void 0:P.id)==w[12].id?0:1}o=N(e),s=L[o]=v[o](e),u=new le({props:{icon:en}});function S(){return e[11](e[12])}return{key:n,first:null,c(){t=k("div"),r=k("div"),h.c(),l=D(),s.c(),i=D(),a=k("button"),W(u.$$.fragment),f=D(),m(a,"class","no-style"),m(a,"title","Delete folder"),$(a,"margin-left","0.75em"),$(a,"cursor","pointer"),m(t,"class","tag svelte-9ombja"),this.first=t},m(w,E){T(w,t,E),b(t,r),h.m(r,null),b(t,l),L[o].m(t,null),b(t,i),b(t,a),Y(u,a,null),b(t,f),c=!0,d||(p=G(a,"click",S),d=!0)},p(w,E){e=w,g===(g=_(e))&&h?h.p(e,E):(h.d(1),h=g(e),h&&(h.c(),h.m(r,null)));let P=o;o=N(e),o===P?L[o].p(e,E):(te(),C(L[P],1,1,()=>{L[P]=null}),ne(),s=L[o],s?s.p(e,E):(s=L[o]=v[o](e),s.c()),O(s,1),s.m(t,i))},i(w){c||(O(s),O(u.$$.fragment,w),c=!0)},o(w){C(s),C(u.$$.fragment,w),c=!1},d(w){w&&A(t),h.d(),L[o].d(),K(u),d=!1,p()}}}function gc(n){let e,t,r=[],l=new Map,o,s=n[3];const i=a=>a[12].id;for(let a=0;a<s.length;a+=1){let u=Rl(n,s,a),f=i(u);l.set(f,r[a]=Pl(f,u))}return{c(){e=k("div"),t=k("div");for(let a=0;a<r.length;a+=1)r[a].c();m(t,"class","tags-container svelte-9ombja"),m(e,"slot","body")},m(a,u){T(a,e,u),b(e,t);for(let f=0;f<r.length;f+=1)r[f].m(t,null);o=!0},p(a,u){u&27&&(s=a[3],te(),r=Dn(r,u,i,1,a,s,l,t,Pn,Pl,null,Rl),ne())},i(a){if(!o){for(let u=0;u<s.length;u+=1)O(r[u]);o=!0}},o(a){for(let u=0;u<r.length;u+=1)C(r[u]);o=!1},d(a){a&&A(e);for(let u=0;u<r.length;u+=1)r[u].d()}}}function bc(n){let e;return{c(){e=k("span"),e.textContent=`${n[6]}`,m(e,"class","m-b-1 red")},m(t,r){T(t,e,r)},p:X,d(t){t&&A(e)}}}function kc(n){let e;return{c(){e=ee("Close")},m(t,r){T(t,e,r)},p:X,i:X,o:X,d(t){t&&A(e)}}}function yc(n){let e,t;return e=new le({props:{icon:we,size:"lg",spin:!0}}),{c(){W(e.$$.fragment)},m(r,l){Y(e,r,l),t=!0},p:X,i(r){t||(O(e.$$.fragment,r),t=!0)},o(r){C(e.$$.fragment,r),t=!1},d(r){K(e,r)}}}function vc(n){let e,t,r,l,o,s,i,a,u=n[5]==="ERROR"&&bc(n);const f=[yc,kc],c=[];function d(p,_){return p[5]==="SUBMITTING"?0:1}return l=d(n),o=c[l]=f[l](n),{c(){e=k("div"),u&&u.c(),t=D(),r=k("button"),o.c(),m(r,"class","w-full"),r.disabled=n[5]==="SUBMITTING",$(r,"margin","1em 0"),m(e,"slot","footer"),$(e,"margin-top","auto")},m(p,_){T(p,e,_),u&&u.m(e,null),b(e,t),b(e,r),c[l].m(r,null),s=!0,i||(a=G(r,"click",n[7]),i=!0)},p(p,_){p[5]==="ERROR"&&u.p(p,_),o.p(p,_)},i(p){s||(O(o),s=!0)},o(p){C(o),s=!1},d(p){p&&A(e),u&&u.d(),c[l].d(),i=!1,a()}}}function wc(n){let e,t;return e=new bt({props:{key:"all-tags",styles:{dialog:"width: 600px; height: 400px;"},$$slots:{footer:[vc],body:[gc],header:[dc]},$$scope:{ctx:n}}}),{c(){W(e.$$.fragment)},m(r,l){Y(e,r,l),t=!0},p(r,[l]){const o={};l&32783&&(o.$$scope={dirty:l,ctx:r}),e.$set(o)},i(r){t||(O(e.$$.fragment,r),t=!0)},o(r){C(e.$$.fragment,r),t=!1},d(r){K(e,r)}}}function Oc(n,e,t){let r,l;oe(n,Ie,g=>t(2,r=g));const{tags:o}=Pe;oe(n,o,g=>t(3,l=g));let s,i,a,u="";const f=()=>r["all-tags"].close();function c(){u=this.value,t(1,u)}return[a,u,r,l,o,s,i,f,c,async g=>{try{await pe("/tags/"+g.id,"PATCH",{name:u}),o.updateOne(g.id,{...g,name:u}),t(0,a=void 0),t(1,u="")}catch(h){console.error(h)}},g=>{t(0,a=g),t(1,u=g.name)},async g=>{try{await pe("/tags/"+g.id,"DELETE"),o.delete(g.id)}catch(h){console.error(h)}}]}class Cc extends ce{constructor(e){super(),fe(this,e,Oc,wc,ue,{})}}function Dl(n){let e,t,r;return{c(){e=k("button"),e.textContent="Show all",m(e,"class","m-l-auto"),$(e,"margin","0")},m(l,o){T(l,e,o),t||(r=G(e,"click",n[4]),t=!0)},p:X,d(l){l&&A(e),t=!1,r()}}}function Sc(n){let e,t,r,l,o,s,i,a,u,f,c,d,p,_,g,h,v,L,N,S,w,E,P,V,U,y,B,F,z,J,q,I,R,Q,H,Z,me,ve,_e,De,Ge,ie;a=new le({props:{icon:na}}),d=new le({props:{icon:ua}});let se=n[1].folder!==""&&Dl(n);return U=new Jf({}),F=new uu({}),q=new Wf({}),R=new Cc({}),H=new Ta({}),me=new uc({}),_e=new $i({props:{options:{}}}),{c(){e=k("nav"),t=k("div"),r=k("h1"),r.textContent="Rengoku",l=D(),o=k("button"),o.textContent="Import Bookmarks",s=D(),i=k("button"),W(a.$$.fragment),u=ee(" Settings"),f=D(),c=k("button"),W(d.$$.fragment),p=ee(" Log Out"),_=D(),g=k("hr"),h=D(),v=k("aside"),L=k("div"),N=k("h2"),N.textContent="Folders",S=D(),se&&se.c(),w=D(),E=k("div"),P=k("hr"),V=D(),W(U.$$.fragment),y=D(),B=k("main"),W(F.$$.fragment),z=D(),J=k("aside"),W(q.$$.fragment),I=D(),W(R.$$.fragment),Q=D(),W(H.$$.fragment),Z=D(),W(me.$$.fragment),ve=D(),W(_e.$$.fragment),$(o,"margin-left","auto"),m(t,"class","row"),m(e,"class","svelte-1vo6gd9"),m(L,"class","row"),$(L,"min-height","39px"),$(P,"margin-bottom","0",1),$(E,"overflow","auto"),$(E,"max-height","70vh"),m(v,"id","folders"),m(v,"class","sticky svelte-1vo6gd9"),m(B,"class","svelte-1vo6gd9"),m(J,"id","filters"),m(J,"class","sticky svelte-1vo6gd9")},m(x,he){T(x,e,he),b(e,t),b(t,r),b(t,l),b(t,o),b(t,s),b(t,i),Y(a,i,null),b(i,u),b(t,f),b(t,c),Y(d,c,null),b(c,p),b(e,_),b(e,g),T(x,h,he),T(x,v,he),b(v,L),b(L,N),b(L,S),se&&se.m(L,null),b(v,w),b(v,E),b(E,P),b(E,V),Y(U,E,null),T(x,y,he),T(x,B,he),Y(F,B,null),T(x,z,he),T(x,J,he),Y(q,J,null),T(x,I,he),Y(R,x,he),T(x,Q,he),Y(H,x,he),T(x,Z,he),Y(me,x,he),T(x,ve,he),Y(_e,x,he),De=!0,Ge||(ie=[G(o,"click",n[2]),G(i,"click",n[3]),G(c,"click",jn.logout)],Ge=!0)},p(x,[he]){x[1].folder!==""?se?se.p(x,he):(se=Dl(x),se.c(),se.m(L,null)):se&&(se.d(1),se=null)},i(x){De||(O(a.$$.fragment,x),O(d.$$.fragment,x),O(U.$$.fragment,x),O(F.$$.fragment,x),O(q.$$.fragment,x),O(R.$$.fragment,x),O(H.$$.fragment,x),O(me.$$.fragment,x),O(_e.$$.fragment,x),De=!0)},o(x){C(a.$$.fragment,x),C(d.$$.fragment,x),C(U.$$.fragment,x),C(F.$$.fragment,x),C(q.$$.fragment,x),C(R.$$.fragment,x),C(H.$$.fragment,x),C(me.$$.fragment,x),C(_e.$$.fragment,x),De=!1},d(x){x&&A(e),K(a),K(d),x&&A(h),x&&A(v),se&&se.d(),K(U),x&&A(y),x&&A(B),K(F),x&&A(z),x&&A(J),K(q),x&&A(I),K(R,x),x&&A(Q),K(H,x),x&&A(Z),K(me,x),x&&A(ve),K(_e,x),Ge=!1,de(ie)}}}function Ac(n,e,t){let r,l;return oe(n,Ie,a=>t(0,r=a)),oe(n,Xt,a=>t(1,l=a)),[r,l,()=>r.import.showModal(),()=>{Ke.goto("/settings")},()=>{Se(Xt,l.folder="",l)}]}class Tc extends ce{constructor(e){super(),fe(this,e,Ac,Sc,ue,{})}}function Nl(n,e,t){const r=n.slice();return r[18]=e[t][0],r[19]=e[t][1],r}function Mc(n){let e,t=n[9][n[0].matchDetection]+"",r;return{c(){e=k("span"),r=ee(t),m(e,"class","special svelte-eliw41")},m(l,o){T(l,e,o),b(e,r)},p(l,o){o&1&&t!==(t=l[9][l[0].matchDetection]+"")&&ge(r,t)},d(l){l&&A(e)}}}function Lc(n){let e,t,r,l,o,s,i,a=Object.entries(n[9]),u=[];for(let f=0;f<a.length;f+=1)u[f]=Il(Nl(n,a,f));return{c(){e=k("select");for(let f=0;f<u.length;f+=1)u[f].c();m(e,"class","temp svelte-eliw41"),m(e,"id",t="matchDetection"+n[1]),m(e,"name",r="matchDetection"+n[1]),m(e,"readonly",l=!n[2]),e.disabled=o=!n[2],n[0].matchDetection===void 0&&tt(()=>n[11].call(e))},m(f,c){T(f,e,c);for(let d=0;d<u.length;d+=1)u[d].m(e,null);Hn(e,n[0].matchDetection),s||(i=G(e,"change",n[11]),s=!0)},p(f,c){if(c&512){a=Object.entries(f[9]);let d;for(d=0;d<a.length;d+=1){const p=Nl(f,a,d);u[d]?u[d].p(p,c):(u[d]=Il(p),u[d].c(),u[d].m(e,null))}for(;d<u.length;d+=1)u[d].d(1);u.length=a.length}c&2&&t!==(t="matchDetection"+f[1])&&m(e,"id",t),c&2&&r!==(r="matchDetection"+f[1])&&m(e,"name",r),c&4&&l!==(l=!f[2])&&m(e,"readonly",l),c&4&&o!==(o=!f[2])&&(e.disabled=o),c&513&&Hn(e,f[0].matchDetection)},d(f){f&&A(e),pt(u,f),s=!1,i()}}}function Il(n){let e,t=n[19]+"",r,l;return{c(){e=k("option"),r=ee(t),e.__value=l=n[18],e.value=e.__value},m(o,s){T(o,e,s),b(e,r)},p:X,d(o){o&&A(e)}}}function Ec(n){let e,t=n[0].pattern+"",r;return{c(){e=k("span"),r=ee(t),m(e,"class","special svelte-eliw41")},m(l,o){T(l,e,o),b(e,r)},p(l,o){o&1&&t!==(t=l[0].pattern+"")&&ge(r,t)},d(l){l&&A(e)}}}function Rc(n){let e,t,r,l,o,s;return{c(){e=k("input"),m(e,"class","temp svelte-eliw41"),m(e,"type","text"),m(e,"id",t="pattern"+n[1]),e.readOnly=r=!n[2],e.disabled=l=!n[2]},m(i,a){T(i,e,a),ke(e,n[0].pattern),o||(s=G(e,"input",n[12]),o=!0)},p(i,a){a&2&&t!==(t="pattern"+i[1])&&m(e,"id",t),a&4&&r!==(r=!i[2])&&(e.readOnly=r),a&4&&l!==(l=!i[2])&&(e.disabled=l),a&513&&e.value!==i[0].pattern&&ke(e,i[0].pattern)},d(i){i&&A(e),o=!1,s()}}}function jl(n){let e,t,r,l,o,s,i,a,u,f;const c=[Dc,Pc],d=[];function p(v,L){return v[4]?0:1}r=p(n),l=d[r]=c[r](n);const _=[Ic,Nc],g=[];function h(v,L){return v[4]?0:1}return s=h(n),i=g[s]=_[s](n),{c(){e=k("div"),t=k("button"),l.c(),o=D(),i.c(),m(e,"class","actions svelte-eliw41")},m(v,L){T(v,e,L),b(e,t),d[r].m(t,null),b(e,o),g[s].m(e,null),a=!0,u||(f=G(t,"click",n[15]),u=!0)},p(v,L){let N=r;r=p(v),r===N?d[r].p(v,L):(te(),C(d[N],1,1,()=>{d[N]=null}),ne(),l=d[r],l?l.p(v,L):(l=d[r]=c[r](v),l.c()),O(l,1),l.m(t,null));let S=s;s=h(v),s===S?g[s].p(v,L):(te(),C(g[S],1,1,()=>{g[S]=null}),ne(),i=g[s],i?i.p(v,L):(i=g[s]=_[s](v),i.c()),O(i,1),i.m(e,null))},i(v){a||(O(l),O(i),a=!0)},o(v){C(l),C(i),a=!1},d(v){v&&A(e),d[r].d(),g[s].d(),u=!1,f()}}}function Pc(n){let e,t;return e=new le({props:{icon:fo}}),{c(){W(e.$$.fragment)},m(r,l){Y(e,r,l),t=!0},p:X,i(r){t||(O(e.$$.fragment,r),t=!0)},o(r){C(e.$$.fragment,r),t=!1},d(r){K(e,r)}}}function Dc(n){let e,t;return e=new le({props:{icon:zn}}),{c(){W(e.$$.fragment)},m(r,l){Y(e,r,l),t=!0},p:X,i(r){t||(O(e.$$.fragment,r),t=!0)},o(r){C(e.$$.fragment,r),t=!1},d(r){K(e,r)}}}function Nc(n){let e,t,r,l,o,s;const i=[zc,jc],a=[];function u(f,c){return f[6]?0:1}return t=u(n),r=a[t]=i[t](n),{c(){e=k("button"),r.c()},m(f,c){T(f,e,c),a[t].m(e,null),l=!0,o||(s=G(e,"click",n[17]),o=!0)},p(f,c){let d=t;t=u(f),t===d?a[t].p(f,c):(te(),C(a[d],1,1,()=>{a[d]=null}),ne(),r=a[t],r?r.p(f,c):(r=a[t]=i[t](f),r.c()),O(r,1),r.m(e,null))},i(f){l||(O(r),l=!0)},o(f){C(r),l=!1},d(f){f&&A(e),a[t].d(),o=!1,s()}}}function Ic(n){let e,t,r,l,o,s;const i=[Uc,Bc],a=[];function u(f,c){return f[5]?0:1}return t=u(n),r=a[t]=i[t](n),{c(){e=k("button"),r.c()},m(f,c){T(f,e,c),a[t].m(e,null),l=!0,o||(s=G(e,"click",n[16]),o=!0)},p(f,c){let d=t;t=u(f),t===d?a[t].p(f,c):(te(),C(a[d],1,1,()=>{a[d]=null}),ne(),r=a[t],r?r.p(f,c):(r=a[t]=i[t](f),r.c()),O(r,1),r.m(e,null))},i(f){l||(O(r),l=!0)},o(f){C(r),l=!1},d(f){f&&A(e),a[t].d(),o=!1,s()}}}function jc(n){let e,t;return e=new le({props:{icon:en}}),{c(){W(e.$$.fragment)},m(r,l){Y(e,r,l),t=!0},p:X,i(r){t||(O(e.$$.fragment,r),t=!0)},o(r){C(e.$$.fragment,r),t=!1},d(r){K(e,r)}}}function zc(n){let e,t;return e=new le({props:{icon:we,spin:!0}}),{c(){W(e.$$.fragment)},m(r,l){Y(e,r,l),t=!0},p:X,i(r){t||(O(e.$$.fragment,r),t=!0)},o(r){C(e.$$.fragment,r),t=!1},d(r){K(e,r)}}}function Bc(n){let e,t;return e=new le({props:{icon:xt}}),{c(){W(e.$$.fragment)},m(r,l){Y(e,r,l),t=!0},p:X,i(r){t||(O(e.$$.fragment,r),t=!0)},o(r){C(e.$$.fragment,r),t=!1},d(r){K(e,r)}}}function Uc(n){let e,t;return e=new le({props:{icon:we,spin:!0}}),{c(){W(e.$$.fragment)},m(r,l){Y(e,r,l),t=!0},p:X,i(r){t||(O(e.$$.fragment,r),t=!0)},o(r){C(e.$$.fragment,r),t=!1},d(r){K(e,r)}}}function Fc(n){let e,t,r,l,o,s,i,a,u,f,c,d,p,_,g,h,v,L,N,S,w,E,P;function V(R,Q){return R[2]?Lc:Mc}let U=V(n),y=U(n);function B(R,Q){return R[2]?Rc:Ec}let F=B(n),z=F(n);function J(R){n[13](R)}let q={disabled:!n[4]&&!n[2],inputClass:"input-like",placeholder:"Search tags",removeAllTitle:"Clear all tags",outerDivClass:"color-fix filter-tags temp",options:n[7].map(zl)};n[3]!==void 0&&(q.selected=n[3]),f=new Je({props:q}),ye.push(()=>Ve(f,"selected",J));let I=!n[2]&&jl(n);return{c(){e=k("div"),t=k("div"),r=k("div"),l=ee(`If the URL
      `),y.c(),o=D(),z.c(),s=D(),i=k("div"),a=k("div"),a.textContent="add the following tags to it\xA0",u=D(),W(f.$$.fragment),d=D(),p=k("div"),_=k("div"),_.textContent="and save it offline",g=D(),h=k("input"),S=D(),I&&I.c(),m(a,"class","label svelte-eliw41"),m(i,"class","row"),$(i,"margin","10px 0"),m(_,"class","label svelte-eliw41"),h.disabled=v=!n[4]&&!n[2],m(h,"class","temp svelte-eliw41"),m(h,"type","checkbox"),m(h,"id",L="saveOffline"+n[1]),m(h,"name",N="saveOffline"+n[1]),m(p,"class","row"),m(t,"class","content"),m(e,"class","url-action svelte-eliw41")},m(R,Q){T(R,e,Q),b(e,t),b(t,r),b(r,l),y.m(r,null),b(r,o),z.m(r,null),b(t,s),b(t,i),b(i,a),b(i,u),Y(f,i,null),b(t,d),b(t,p),b(p,_),b(p,g),b(p,h),h.checked=n[0].shouldSaveOffline,b(e,S),I&&I.m(e,null),w=!0,E||(P=G(h,"change",n[14]),E=!0)},p(R,[Q]){U===(U=V(R))&&y?y.p(R,Q):(y.d(1),y=U(R),y&&(y.c(),y.m(r,o))),F===(F=B(R))&&z?z.p(R,Q):(z.d(1),z=F(R),z&&(z.c(),z.m(r,null)));const H={};Q&20&&(H.disabled=!R[4]&&!R[2]),Q&128&&(H.options=R[7].map(zl)),!c&&Q&8&&(c=!0,H.selected=R[3],He(()=>c=!1)),f.$set(H),(!w||Q&20&&v!==(v=!R[4]&&!R[2]))&&(h.disabled=v),(!w||Q&2&&L!==(L="saveOffline"+R[1]))&&m(h,"id",L),(!w||Q&2&&N!==(N="saveOffline"+R[1]))&&m(h,"name",N),Q&513&&(h.checked=R[0].shouldSaveOffline),R[2]?I&&(te(),C(I,1,1,()=>{I=null}),ne()):I?(I.p(R,Q),Q&4&&O(I,1)):(I=jl(R),I.c(),O(I,1),I.m(e,null))},i(R){w||(O(f.$$.fragment,R),O(I),w=!0)},o(R){C(f.$$.fragment,R),C(I),w=!1},d(R){R&&A(e),y.d(),z.d(),K(f),I&&I.d(),E=!1,P()}}}const zl=({id:n,name:e})=>({label:e,value:n});function qc(n,e,t){let r,{urlAction:l}=e,{key:o}=e,{isNew:s=!1}=e;const i=$t(),a={starts_with:"starts with",regex:"matches the Regex",origin:"has the origin",domain:"belongs to the domain"};let{tags:u}=Pe;oe(n,u,w=>t(7,r=w));let f=(l.tags||[]).map(w=>({value:w,label:r.find(({id:E})=>w===E).name})),c=!1,d=!1,p=!1;function _(){l.matchDetection=ai(this),t(0,l),t(9,a)}function g(){l.pattern=this.value,t(0,l),t(9,a)}function h(w){f=w,t(3,f)}function v(){l.shouldSaveOffline=this.checked,t(0,l),t(9,a)}const L=()=>{t(4,c=!c)},N=async()=>{try{t(5,d=!0);const w=await pe("/config/url-action","PUT",{...l,tags:f.map(({value:E})=>E)});t(4,c=!1)}catch(w){Ne.push("An error occured while editing the URL action"),console.error(w)}finally{t(5,d=!1)}},S=async()=>{try{t(6,p=!0),await pe("/config/url-action","DELETE",l),i("removeURLAction",{pattern:l.pattern})}catch(w){Ne.push("An error occured while deleting the URL action"),console.error(w)}finally{t(6,p=!1)}};return n.$$set=w=>{"urlAction"in w&&t(0,l=w.urlAction),"key"in w&&t(1,o=w.key),"isNew"in w&&t(2,s=w.isNew)},[l,o,s,f,c,d,p,r,i,a,u,_,g,h,v,L,N,S]}class Mo extends ce{constructor(e){super(),fe(this,e,qc,Fc,ue,{urlAction:0,key:1,isNew:2})}}function Hc(n){let e,t,r,l;return{c(){e=k("div"),t=k("button"),t.textContent="+ Add a URL Action",$(t,"margin","0"),$(t,"margin-top","1em"),m(e,"class","row"),$(e,"justify-content","flex-end"),$(e,"border-top","1px solid #bbb")},m(o,s){T(o,e,s),b(e,t),r||(l=G(t,"click",n[6]),r=!0)},p:X,i:X,o:X,d(o){o&&A(e),r=!1,l()}}}function Vc(n){let e,t,r,l,o,s,i,a,u,f,c,d,p;e=new Mo({props:{urlAction:n[2],key:Math.random(),isNew:!0}}),o=new le({props:{icon:zn}});const _=[Yc,Gc],g=[];function h(v,L){return v[0]?0:1}return u=h(n),f=g[u]=_[u](n),{c(){W(e.$$.fragment),t=D(),r=k("div"),l=k("button"),W(o.$$.fragment),s=ee(" Discard"),i=D(),a=k("button"),f.c(),$(l,"margin-right","1em"),m(r,"class","row"),$(r,"justify-content","flex-end")},m(v,L){Y(e,v,L),T(v,t,L),T(v,r,L),b(r,l),Y(o,l,null),b(l,s),b(r,i),b(r,a),g[u].m(a,null),c=!0,d||(p=[G(l,"click",n[4]),G(a,"click",n[5])],d=!0)},p(v,L){let N=u;u=h(v),u===N?g[u].p(v,L):(te(),C(g[N],1,1,()=>{g[N]=null}),ne(),f=g[u],f?f.p(v,L):(f=g[u]=_[u](v),f.c()),O(f,1),f.m(a,null))},i(v){c||(O(e.$$.fragment,v),O(o.$$.fragment,v),O(f),c=!0)},o(v){C(e.$$.fragment,v),C(o.$$.fragment,v),C(f),c=!1},d(v){K(e,v),v&&A(t),v&&A(r),K(o),g[u].d(),d=!1,de(p)}}}function Gc(n){let e,t,r;return e=new le({props:{icon:xt}}),{c(){W(e.$$.fragment),t=ee(" Done")},m(l,o){Y(e,l,o),T(l,t,o),r=!0},p:X,i(l){r||(O(e.$$.fragment,l),r=!0)},o(l){C(e.$$.fragment,l),r=!1},d(l){K(e,l),l&&A(t)}}}function Yc(n){let e,t;return e=new le({props:{icon:we,spin:!0}}),{c(){W(e.$$.fragment)},m(r,l){Y(e,r,l),t=!0},p:X,i(r){t||(O(e.$$.fragment,r),t=!0)},o(r){C(e.$$.fragment,r),t=!1},d(r){K(e,r)}}}function Kc(n){let e,t,r,l;const o=[Vc,Hc],s=[];function i(a,u){return a[1]?0:1}return e=i(n),t=s[e]=o[e](n),{c(){t.c(),r=Ce()},m(a,u){s[e].m(a,u),T(a,r,u),l=!0},p(a,[u]){let f=e;e=i(a),e===f?s[e].p(a,u):(te(),C(s[f],1,1,()=>{s[f]=null}),ne(),t=s[e],t?t.p(a,u):(t=s[e]=o[e](a),t.c()),O(t,1),t.m(r.parentNode,r))},i(a){l||(O(t),l=!0)},o(a){C(t),l=!1},d(a){s[e].d(a),a&&A(r)}}}function Wc(n,e,t){let r={pattern:"",matchDetection:"",shouldSaveOffline:!1,tags:[],folders:[]},l=!1,o=!1;const s=$t();return[l,o,r,s,()=>{t(1,o=!1)},async()=>{try{t(0,l=!0);const f=await pe("/config/url-action","POST",r);t(1,o=!1),s("addURLAction",{urlAction:r})}catch(f){Ne.push("An error occured while editing the URL action"),console.error(f,r)}finally{t(0,l=!1)}},()=>{t(1,o=!0)}]}class Xc extends ce{constructor(e){super(),fe(this,e,Wc,Kc,ue,{})}}function Bl(n,e,t){const r=n.slice();return r[8]=e[t],r[10]=t,r}function Qc(n){let e;return{c(){e=ee("Coming Soon")},m(t,r){T(t,e,r)},d(t){t&&A(e)}}}function Jc(n){let e;return{c(){e=ee("Coming Soon")},m(t,r){T(t,e,r)},d(t){t&&A(e)}}}function Zc(n){let e,t,r,l,o,s,i,a,u,f,c;return{c(){e=k("div"),t=k("h3"),t.textContent="Save offline version of the page to disk when adding bookmarks",r=D(),l=k("input"),o=D(),s=k("div"),i=k("h3"),i.textContent="Remove saved pages from disk when deleting bookmarks",a=D(),u=k("input"),m(l,"class","m-l-auto"),m(l,"type","checkbox"),m(l,"name","saveOfflineDefault"),m(l,"id","saveOfflineDefault"),m(e,"class","row m-b-2"),m(u,"class","m-l-auto"),m(u,"type","checkbox"),m(u,"name","deleteOfflineDefault"),m(u,"id","deleteOfflineDefault"),m(s,"class","row m-b-2")},m(d,p){T(d,e,p),b(e,t),b(e,r),b(e,l),l.checked=n[0].shouldSaveOffline,T(d,o,p),T(d,s,p),b(s,i),b(s,a),b(s,u),u.checked=n[0].shouldDeleteOffline,f||(c=[G(l,"change",n[4]),G(l,"change",n[5]),G(u,"change",n[6]),G(u,"change",n[7])],f=!0)},p(d,p){p&1&&(l.checked=d[0].shouldSaveOffline),p&1&&(u.checked=d[0].shouldDeleteOffline)},d(d){d&&A(e),d&&A(o),d&&A(s),f=!1,de(c)}}}function Ul(n){let e,t;return e=new Mo({props:{urlAction:n[8],key:n[10]}}),e.$on("removeURLAction",n[1]),{c(){W(e.$$.fragment)},m(r,l){Y(e,r,l),t=!0},p(r,l){const o={};l&1&&(o.urlAction=r[8]),e.$set(o)},i(r){t||(O(e.$$.fragment,r),t=!0)},o(r){C(e.$$.fragment,r),t=!1},d(r){K(e,r)}}}function $c(n){let e,t,r,l,o,s,i,a,u=n[0].urlActions||[],f=[];for(let d=0;d<u.length;d+=1)f[d]=Ul(Bl(n,u,d));const c=d=>C(f[d],1,1,()=>{f[d]=null});return i=new Xc({}),i.$on("addURLAction",n[2]),{c(){e=k("h3"),e.textContent="URL Actions",t=D(),r=k("hr"),l=D(),o=k("div");for(let d=0;d<f.length;d+=1)f[d].c();s=D(),W(i.$$.fragment)},m(d,p){T(d,e,p),T(d,t,p),T(d,r,p),T(d,l,p),T(d,o,p);for(let _=0;_<f.length;_+=1)f[_].m(o,null);T(d,s,p),Y(i,d,p),a=!0},p(d,p){if(p&3){u=d[0].urlActions||[];let _;for(_=0;_<u.length;_+=1){const g=Bl(d,u,_);f[_]?(f[_].p(g,p),O(f[_],1)):(f[_]=Ul(g),f[_].c(),O(f[_],1),f[_].m(o,null))}for(te(),_=u.length;_<f.length;_+=1)c(_);ne()}},i(d){if(!a){for(let p=0;p<u.length;p+=1)O(f[p]);O(i.$$.fragment,d),a=!0}},o(d){f=f.filter(Boolean);for(let p=0;p<f.length;p+=1)C(f[p]);C(i.$$.fragment,d),a=!1},d(d){d&&A(e),d&&A(t),d&&A(r),d&&A(l),d&&A(o),pt(f,d),d&&A(s),K(i,d)}}}function xc(n){let e,t,r,l,o,s,i,a,u,f,c,d,p,_,g,h,v,L,N,S,w,E,P,V,U,y,B,F,z,J,q;return l=new le({props:{icon:Js}}),E=new Qe({props:{path:"/account",$$slots:{default:[Qc]},$$scope:{ctx:n}}}),V=new Qe({props:{path:"/ui",$$slots:{default:[Jc]},$$scope:{ctx:n}}}),y=new Qe({props:{path:"/global",$$slots:{default:[Zc]},$$scope:{ctx:n}}}),F=new Qe({props:{path:"/url-actions",$$slots:{default:[$c]},$$scope:{ctx:n}}}),{c(){e=k("nav"),t=k("div"),r=k("button"),W(l.$$.fragment),o=ee(" Home"),s=D(),i=k("h1"),i.textContent="Rengoku Settings",a=D(),u=k("hr"),f=D(),c=k("div"),d=k("aside"),p=k("a"),p.textContent="My Account",_=D(),g=k("a"),g.textContent="Global Settings",h=D(),v=k("a"),v.textContent="URL Actions",L=D(),N=k("a"),N.textContent="UI Settings",S=D(),w=k("div"),W(E.$$.fragment),P=D(),W(V.$$.fragment),U=D(),W(y.$$.fragment),B=D(),W(F.$$.fragment),m(t,"class","row"),m(e,"class","svelte-kgj126"),m(p,"href","/settings/account"),m(p,"data-active-class","active-menu"),m(p,"class","svelte-kgj126"),m(g,"href","/settings/global"),m(g,"data-active-class","active-menu"),m(g,"class","svelte-kgj126"),m(v,"href","/settings/url-actions"),m(v,"data-active-class","active-menu"),m(v,"class","svelte-kgj126"),m(N,"href","/settings/ui"),m(N,"data-active-class","active-menu"),m(N,"class","svelte-kgj126"),m(d,"id","menu"),m(d,"role","menu"),m(d,"class","svelte-kgj126"),m(w,"id","setting-content"),m(w,"class","col svelte-kgj126"),m(c,"class","setting-wrapper svelte-kgj126")},m(I,R){T(I,e,R),b(e,t),b(t,r),Y(l,r,null),b(r,o),b(t,s),b(t,i),b(e,a),b(e,u),T(I,f,R),T(I,c,R),b(c,d),b(d,p),b(d,_),b(d,g),b(d,h),b(d,v),b(d,L),b(d,N),b(c,S),b(c,w),Y(E,w,null),b(w,P),Y(V,w,null),b(w,U),Y(y,w,null),b(w,B),Y(F,w,null),z=!0,J||(q=[G(r,"click",n[3]),Dt(It.call(null,p)),Dt(It.call(null,g)),Dt(It.call(null,v)),Dt(It.call(null,N))],J=!0)},p(I,[R]){const Q={};R&2048&&(Q.$$scope={dirty:R,ctx:I}),E.$set(Q);const H={};R&2048&&(H.$$scope={dirty:R,ctx:I}),V.$set(H);const Z={};R&2049&&(Z.$$scope={dirty:R,ctx:I}),y.$set(Z);const me={};R&2049&&(me.$$scope={dirty:R,ctx:I}),F.$set(me)},i(I){z||(O(l.$$.fragment,I),O(E.$$.fragment,I),O(V.$$.fragment,I),O(y.$$.fragment,I),O(F.$$.fragment,I),z=!0)},o(I){C(l.$$.fragment,I),C(E.$$.fragment,I),C(V.$$.fragment,I),C(y.$$.fragment,I),C(F.$$.fragment,I),z=!1},d(I){I&&A(e),K(l),I&&A(f),I&&A(c),K(E),K(V),K(y),K(F),J=!1,de(q)}}}function e1(n,e,t){let r={shouldDeleteOffline:!1,shouldSaveOffline:!1,urlActions:[]};const l=c=>{t(0,r={...r,urlActions:r.urlActions.filter(({pattern:d})=>d!==c.detail.pattern)})},o=c=>{t(0,r={...r,urlActions:[...r.urlActions,c.detail.urlAction]})};En(async()=>{t(0,r=await pe("/config")),t(0,r.urlActions=r.urlActions||[],r)});const s=()=>{Ke.goto("/")};function i(){r.shouldSaveOffline=this.checked,t(0,r)}const a=async c=>{const{checked:d}=c.currentTarget;try{await pe("/config","PUT",{shouldSaveOffline:d})}catch(p){Ne.push("Something went wrong."),console.error(p)}};function u(){r.shouldDeleteOffline=this.checked,t(0,r)}return[r,l,o,s,i,a,u,async c=>{const{checked:d}=c.currentTarget;try{await pe("/config","PUT",{shouldDeleteOffline:d})}catch(p){Ne.push("Something went wrong."),console.error(p)}}]}class t1 extends ce{constructor(e){super(),fe(this,e,e1,xc,ue,{})}}function n1(n){let e;return{c(){e=ee("Log In")},m(t,r){T(t,e,r)},p:X,i:X,o:X,d(t){t&&A(e)}}}function r1(n){let e,t;return e=new le({props:{icon:we,spin:!0}}),{c(){W(e.$$.fragment)},m(r,l){Y(e,r,l),t=!0},p:X,i(r){t||(O(e.$$.fragment,r),t=!0)},o(r){C(e.$$.fragment,r),t=!1},d(r){K(e,r)}}}function l1(n){let e;return{c(){e=ee("Input the credentials which you have set during initializing Rengoku")},m(t,r){T(t,e,r)},p:X,d(t){t&&A(e)}}}function o1(n){let e=n[1].message+"",t;return{c(){t=ee(e)},m(r,l){T(r,t,l)},p(r,l){l&2&&e!==(e=r[1].message+"")&&ge(t,e)},d(r){r&&A(t)}}}function i1(n){let e,t,r,l,o,s,i,a,u,f,c,d,p,_,g,h,v,L,N,S,w,E,P,V,U,y,B;i=new le({props:{icon:da}}),p=new le({props:{icon:la}});const F=[r1,n1],z=[];function J(Q,H){return Q[0]?0:1}N=J(n),S=z[N]=F[N](n),P=new le({props:{icon:xs,size:"sm"}});function q(Q,H){return Q[1].message!=""?o1:l1}let I=q(n),R=I(n);return{c(){e=k("div"),t=k("div"),t.innerHTML=`<img src="https://source.boringavatars.com/bauhaus/70/MabyLink" alt="Logo" id="logo"/> 
    <h3>Log In to Rengoku</h3>`,r=D(),l=k("div"),o=k("form"),s=k("label"),W(i.$$.fragment),a=ee(" Username"),u=D(),f=k("input"),c=D(),d=k("label"),W(p.$$.fragment),_=ee(" Password"),g=D(),h=k("input"),v=D(),L=k("button"),S.c(),w=D(),E=k("div"),W(P.$$.fragment),V=D(),R.c(),m(t,"class","header svelte-ft54zo"),m(s,"for","username"),m(s,"class","svelte-ft54zo"),m(f,"type","text"),m(f,"name","username"),m(f,"id","username"),f.required=!0,f.autofocus=!0,m(f,"class","svelte-ft54zo"),re(f,"error",n[1].cause==="USER_NOT_FOUND"),m(d,"for","password"),m(d,"class","svelte-ft54zo"),m(h,"type","password"),m(h,"name","password"),m(h,"id","password"),h.required=!0,m(h,"class","svelte-ft54zo"),re(h,"error",n[1].cause==="PASSWORD_INCORRECT"),m(L,"type","submit"),m(L,"class","svelte-ft54zo"),m(l,"class","card svelte-ft54zo"),m(E,"class","message svelte-ft54zo"),re(E,"error",n[1].message!==""),m(e,"class","container svelte-ft54zo")},m(Q,H){T(Q,e,H),b(e,t),b(e,r),b(e,l),b(l,o),b(o,s),Y(i,s,null),b(s,a),b(o,u),b(o,f),b(o,c),b(o,d),Y(p,d,null),b(d,_),b(o,g),b(o,h),b(o,v),b(o,L),z[N].m(L,null),b(e,w),b(e,E),Y(P,E,null),b(E,V),R.m(E,null),U=!0,f.focus(),y||(B=[G(f,"input",n[3]),G(h,"input",n[4]),G(o,"submit",ht(n[2]))],y=!0)},p(Q,[H]){H&2&&re(f,"error",Q[1].cause==="USER_NOT_FOUND"),H&2&&re(h,"error",Q[1].cause==="PASSWORD_INCORRECT");let Z=N;N=J(Q),N===Z?z[N].p(Q,H):(te(),C(z[Z],1,1,()=>{z[Z]=null}),ne(),S=z[N],S?S.p(Q,H):(S=z[N]=F[N](Q),S.c()),O(S,1),S.m(L,null)),I===(I=q(Q))&&R?R.p(Q,H):(R.d(1),R=I(Q),R&&(R.c(),R.m(E,null))),H&2&&re(E,"error",Q[1].message!=="")},i(Q){U||(O(i.$$.fragment,Q),O(p.$$.fragment,Q),O(S),O(P.$$.fragment,Q),U=!0)},o(Q){C(i.$$.fragment,Q),C(p.$$.fragment,Q),C(S),C(P.$$.fragment,Q),U=!1},d(Q){Q&&A(e),K(i),K(p),z[N].d(),K(P),R.d(),y=!1,de(B)}}}function s1(n,e,t){let r=!1,l={cause:"",message:""};const o=async u=>{try{t(0,r=!0);const f=await pe("/auth/login","POST",u);jn.login(f.token),Ke.goto("/")}catch(f){t(1,l.cause=f.cause,l),f.cause==="USER_NOT_FOUND"?t(1,l.message="Username incorrect",l):f.cause==="PASSWORD_INCORRECT"?t(1,l.message="Password incorrect",l):t(1,l.message="Something went wrong",l),t(1,l)}finally{t(0,r=!1)}};return[r,l,u=>{const f=new FormData(u.currentTarget),c=Object.fromEntries(f.entries());o(c)},()=>{t(1,l={cause:"",message:""})},()=>{t(1,l={cause:"",message:""})}]}class a1 extends ce{constructor(e){super(),fe(this,e,s1,i1,ue,{})}}function u1(n){let e,t,r,l,o,s;return e=new Qe({props:{path:"/",$$slots:{default:[d1]},$$scope:{ctx:n}}}),r=new Qe({props:{path:"/settings",redirect:"/settings/account"}}),o=new Qe({props:{path:"/settings/*",$$slots:{default:[m1]},$$scope:{ctx:n}}}),{c(){W(e.$$.fragment),t=D(),W(r.$$.fragment),l=D(),W(o.$$.fragment)},m(i,a){Y(e,i,a),T(i,t,a),Y(r,i,a),T(i,l,a),Y(o,i,a),s=!0},i(i){s||(O(e.$$.fragment,i),O(r.$$.fragment,i),O(o.$$.fragment,i),s=!0)},o(i){C(e.$$.fragment,i),C(r.$$.fragment,i),C(o.$$.fragment,i),s=!1},d(i){K(e,i),i&&A(t),K(r,i),i&&A(l),K(o,i)}}}function f1(n){let e,t,r;return t=new To({props:{size:"4x"}}),{c(){e=k("div"),W(t.$$.fragment),m(e,"id","full-body-loader-wrapper"),m(e,"class","svelte-15nw83v")},m(l,o){T(l,e,o),Y(t,e,null),r=!0},i(l){r||(O(t.$$.fragment,l),r=!0)},o(l){C(t.$$.fragment,l),r=!1},d(l){l&&A(e),K(t)}}}function c1(n){let e,t;return e=new Qe({props:{path:"/login",$$slots:{default:[_1]},$$scope:{ctx:n}}}),{c(){W(e.$$.fragment)},m(r,l){Y(e,r,l),t=!0},i(r){t||(O(e.$$.fragment,r),t=!0)},o(r){C(e.$$.fragment,r),t=!1},d(r){K(e,r)}}}function d1(n){let e,t;return e=new Tc({}),{c(){W(e.$$.fragment)},m(r,l){Y(e,r,l),t=!0},i(r){t||(O(e.$$.fragment,r),t=!0)},o(r){C(e.$$.fragment,r),t=!1},d(r){K(e,r)}}}function m1(n){let e,t;return e=new t1({}),{c(){W(e.$$.fragment)},m(r,l){Y(e,r,l),t=!0},i(r){t||(O(e.$$.fragment,r),t=!0)},o(r){C(e.$$.fragment,r),t=!1},d(r){K(e,r)}}}function _1(n){let e,t;return e=new a1({}),{c(){W(e.$$.fragment)},m(r,l){Y(e,r,l),t=!0},i(r){t||(O(e.$$.fragment,r),t=!0)},o(r){C(e.$$.fragment,r),t=!1},d(r){K(e,r)}}}function p1(n){let e,t,r,l;const o=[c1,f1,u1],s=[];function i(a,u){return a[0].loggedIn?a[1]?1:2:0}return e=i(n),t=s[e]=o[e](n),{c(){t.c(),r=Ce()},m(a,u){s[e].m(a,u),T(a,r,u),l=!0},p(a,[u]){let f=e;e=i(a),e!==f&&(te(),C(s[f],1,1,()=>{s[f]=null}),ne(),t=s[e],t||(t=s[e]=o[e](a),t.c()),O(t,1),t.m(r.parentNode,r))},i(a){l||(O(t),l=!0)},o(a){C(t),l=!1},d(a){s[e].d(a),a&&A(r)}}}function h1(n,e,t){let r;const{tags:l,bookmarks:o,folders:s,auth:i}=Pe;oe(n,i,f=>t(0,r=f));let a=!0;const u=async()=>{r.loggedIn?Promise.all([l.init(),o.init(),s.init()]).then(()=>{t(1,a=!1),Ke.goto("/")}):Ke.goto("/login")};return n.$$.update=()=>{n.$$.dirty&1&&(u(),r.loggedIn)},[r,a,i]}class g1 extends ce{constructor(e){super(),fe(this,e,h1,p1,ue,{})}}new g1({target:document.body});
