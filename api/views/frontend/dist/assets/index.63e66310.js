const Al=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function l(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerpolicy&&(o.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?o.credentials="include":i.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=l(i);fetch(i.href,o)}};Al();function q(){}function ke(t,e){for(const l in e)t[l]=e[l];return t}function El(t){return t&&typeof t=="object"&&typeof t.then=="function"}function Vt(t){return t()}function ct(){return Object.create(null)}function re(t){t.forEach(Vt)}function it(t){return typeof t=="function"}function me(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let Ye;function dt(t,e){return Ye||(Ye=document.createElement("a")),Ye.href=e,t===Ye.href}function Dl(t){return Object.keys(t).length===0}function Gt(t,...e){if(t==null)return q;const l=t.subscribe(...e);return l.unsubscribe?()=>l.unsubscribe():l}function Xe(t,e,l){t.$$.on_destroy.push(Gt(e,l))}function He(t,e,l,n){if(t){const i=Kt(t,e,l,n);return t[0](i)}}function Kt(t,e,l,n){return t[1]&&n?ke(l.ctx.slice(),t[1](n(e))):l.ctx}function Ve(t,e,l,n){if(t[2]&&n){const i=t[2](n(l));if(e.dirty===void 0)return i;if(typeof i=="object"){const o=[],s=Math.max(e.dirty.length,i.length);for(let r=0;r<s;r+=1)o[r]=e.dirty[r]|i[r];return o}return e.dirty|i}return e.dirty}function Ge(t,e,l,n,i,o){if(i){const s=Kt(e,l,n,o);t.p(s,i)}}function Ke(t){if(t.ctx.length>32){const e=[],l=t.ctx.length/32;for(let n=0;n<l;n++)e[n]=-1;return e}return-1}function qe(t){const e={};for(const l in t)l[0]!=="$"&&(e[l]=t[l]);return e}function Ze(t){return t==null?"":t}function _t(t,e,l){return t.set(l),e}const Yt=typeof window!="undefined";let mt=Yt?()=>window.performance.now():()=>Date.now(),Jt=Yt?t=>requestAnimationFrame(t):q;const Re=new Set;function Wt(t){Re.forEach(e=>{e.c(t)||(Re.delete(e),e.f())}),Re.size!==0&&Jt(Wt)}function jl(t){let e;return Re.size===0&&Jt(Wt),{promise:new Promise(l=>{Re.add(e={c:t,f:l})}),abort(){Re.delete(e)}}}function d(t,e){t.appendChild(e)}function U(t,e,l){t.insertBefore(e,l||null)}function N(t){t.parentNode.removeChild(t)}function Ie(t,e){for(let l=0;l<t.length;l+=1)t[l]&&t[l].d(e)}function g(t){return document.createElement(t)}function Ee(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function oe(t){return document.createTextNode(t)}function A(){return oe(" ")}function Qt(){return oe("")}function F(t,e,l,n){return t.addEventListener(e,l,n),()=>t.removeEventListener(e,l,n)}function Se(t){return function(e){return e.stopPropagation(),t.call(this,e)}}function Ll(t){return function(e){e.target===this&&t.call(this,e)}}function a(t,e,l){l==null?t.removeAttribute(e):t.getAttribute(e)!==l&&t.setAttribute(e,l)}function Ne(t,e){for(const l in e)a(t,l,e[l])}function Rl(t){return Array.from(t.childNodes)}function de(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function ce(t,e){t.value=e==null?"":e}function se(t,e,l,n){l===null?t.style.removeProperty(e):t.style.setProperty(e,l,n?"important":"")}function ht(t,e){for(let l=0;l<t.options.length;l+=1){const n=t.options[l];if(n.__value===e){n.selected=!0;return}}t.selectedIndex=-1}function ql(t){const e=t.querySelector(":checked")||t.options[0];return e&&e.__value}function ie(t,e,l){t.classList[l?"add":"remove"](e)}function Il(t,e,{bubbles:l=!1,cancelable:n=!1}={}){const i=document.createEvent("CustomEvent");return i.initCustomEvent(t,l,n,e),i}let Fe;function we(t){Fe=t}function st(){if(!Fe)throw new Error("Function called outside component initialization");return Fe}function ot(t){st().$$.on_mount.push(t)}function Nl(){const t=st();return(e,l,{cancelable:n=!1}={})=>{const i=t.$$.callbacks[e];if(i){const o=Il(e,l,{cancelable:n});return i.slice().forEach(s=>{s.call(t,o)}),!o.defaultPrevented}return!0}}function gt(t,e){const l=t.$$.callbacks[e.type];l&&l.slice().forEach(n=>n.call(this,e))}const Pe=[],De=[],We=[],tt=[],Xt=Promise.resolve();let lt=!1;function Zt(){lt||(lt=!0,Xt.then(ut))}function zl(){return Zt(),Xt}function xe(t){We.push(t)}function rt(t){tt.push(t)}const et=new Set;let Je=0;function ut(){const t=Fe;do{for(;Je<Pe.length;){const e=Pe[Je];Je++,we(e),Pl(e.$$)}for(we(null),Pe.length=0,Je=0;De.length;)De.pop()();for(let e=0;e<We.length;e+=1){const l=We[e];et.has(l)||(et.add(l),l())}We.length=0}while(Pe.length);for(;tt.length;)tt.pop()();lt=!1,et.clear(),we(t)}function Pl(t){if(t.fragment!==null){t.update(),re(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(xe)}}const Qe=new Set;let Ae;function ye(){Ae={r:0,c:[],p:Ae}}function Ce(){Ae.r||re(Ae.c),Ae=Ae.p}function P(t,e){t&&t.i&&(Qe.delete(t),t.i(e))}function G(t,e,l,n){if(t&&t.o){if(Qe.has(t))return;Qe.add(t),Ae.c.push(()=>{Qe.delete(t),n&&(l&&t.d(1),n())}),t.o(e)}}function bt(t,e){const l=e.token={};function n(i,o,s,r){if(e.token!==l)return;e.resolved=r;let u=e.ctx;s!==void 0&&(u=u.slice(),u[s]=r);const f=i&&(e.current=i)(u);let _=!1;e.block&&(e.blocks?e.blocks.forEach((C,E)=>{E!==o&&C&&(ye(),G(C,1,1,()=>{e.blocks[E]===C&&(e.blocks[E]=null)}),Ce())}):e.block.d(1),f.c(),P(f,1),f.m(e.mount(),e.anchor),_=!0),e.block=f,e.blocks&&(e.blocks[o]=f),_&&ut()}if(El(t)){const i=st();if(t.then(o=>{we(i),n(e.then,1,e.value,o),we(null)},o=>{if(we(i),n(e.catch,2,e.error,o),we(null),!e.hasCatch)throw o}),e.current!==e.pending)return n(e.pending,0),!0}else{if(e.current!==e.then)return n(e.then,1,e.value,t),!0;e.resolved=t}}function pt(t,e,l){const n=e.slice(),{resolved:i}=t;t.current===t.then&&(n[t.value]=i),t.current===t.catch&&(n[t.error]=i),t.block.p(n,l)}function ft(t,e){const l={},n={},i={$$scope:1};let o=t.length;for(;o--;){const s=t[o],r=e[o];if(r){for(const u in s)u in r||(n[u]=1);for(const u in r)i[u]||(l[u]=r[u],i[u]=1);t[o]=r}else for(const u in s)i[u]=1}for(const s in n)s in l||(l[s]=void 0);return l}function at(t,e,l){const n=t.$$.props[e];n!==void 0&&(t.$$.bound[n]=l,l(t.$$.ctx[n]))}function _e(t){t&&t.c()}function ue(t,e,l,n){const{fragment:i,on_mount:o,on_destroy:s,after_update:r}=t.$$;i&&i.m(e,l),n||xe(()=>{const u=o.map(Vt).filter(it);s?s.push(...u):re(u),t.$$.on_mount=[]}),r.forEach(xe)}function fe(t,e){const l=t.$$;l.fragment!==null&&(re(l.on_destroy),l.fragment&&l.fragment.d(e),l.on_destroy=l.fragment=null,l.ctx=[])}function Ul(t,e){t.$$.dirty[0]===-1&&(Pe.push(t),Zt(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function he(t,e,l,n,i,o,s,r=[-1]){const u=Fe;we(t);const f=t.$$={fragment:null,ctx:null,props:o,update:q,not_equal:i,bound:ct(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(u?u.$$.context:[])),callbacks:ct(),dirty:r,skip_bound:!1,root:e.target||u.$$.root};s&&s(f.root);let _=!1;if(f.ctx=l?l(t,e.props||{},(C,E,...v)=>{const p=v.length?v[0]:E;return f.ctx&&i(f.ctx[C],f.ctx[C]=p)&&(!f.skip_bound&&f.bound[C]&&f.bound[C](p),_&&Ul(t,C)),E}):[],f.update(),_=!0,re(f.before_update),f.fragment=n?n(f.ctx):!1,e.target){if(e.hydrate){const C=Rl(e.target);f.fragment&&f.fragment.l(C),C.forEach(N)}else f.fragment&&f.fragment.c();e.intro&&P(t.$$.fragment),ue(t,e.target,e.anchor,e.customElement),ut()}we(u)}class ge{$destroy(){fe(this,1),this.$destroy=q}$on(e,l){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(l),()=>{const i=n.indexOf(l);i!==-1&&n.splice(i,1)}}$set(e){this.$$set&&!Dl(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Le=[];function Fl(t,e){return{subscribe:$e(t,e).subscribe}}function $e(t,e=q){let l;const n=new Set;function i(r){if(me(t,r)&&(t=r,l)){const u=!Le.length;for(const f of n)f[1](),Le.push(f,t);if(u){for(let f=0;f<Le.length;f+=2)Le[f][0](Le[f+1]);Le.length=0}}}function o(r){i(r(t))}function s(r,u=q){const f=[r,u];return n.add(f),n.size===1&&(l=e(i)||q),r(t),()=>{n.delete(f),n.size===0&&(l(),l=null)}}return{set:i,update:o,subscribe:s}}function Hl(t,e,l){const n=!Array.isArray(t),i=n?[t]:t,o=e.length<2;return Fl(l,s=>{let r=!1;const u=[];let f=0,_=q;const C=()=>{if(f)return;_();const v=e(n?u[0]:u,s);o?s(v):_=it(v)?v:q},E=i.map((v,p)=>Gt(v,m=>{u[p]=m,f&=~(1<<p),r&&C()},()=>{f|=1<<p}));return r=!0,C(),function(){re(E),_()}})}const Vl="http://localhost:8080";async function Te(t,e="GET",l=null){const n=await fetch(Vl+"/api"+t,{method:e,body:l?JSON.stringify(l):null});if(!n.ok)throw new Error(n.statusText);return await n.json()}const ve=$e({sortBy:"date",order:"asc",folder:"",tags:[],search:"",page:0}),Gl=Hl(ve,t=>{const e=[];if(t.sortBy&&t.order){const l=`sort_by=${t.sortBy}&order=${t.order}`;e.push(l)}if(t.folder){const l=`folder=${t.folder}`;e.push(l)}if(t.search){const l=`search=${t.search}`;e.push(l)}if(t.tags.length>0){const n=t.tags.map(i=>`tags[]=${i}`).join("&");e.push(n)}return e.push(`page=${t.page}`),"?"+e.join("&")}),Kl=()=>{const{set:t,subscribe:e,update:l}=$e([]);return{subscribe:e,fetch:async n=>{try{const i=await Te("/bookmarks"+n);t(i.data)}catch{return t([])}},add:(...n)=>{l(i=>[...i,...n])},delete:n=>{l(i=>{const o=i.findIndex(s=>s.id===n);return i.splice(o,1),i})}}},Ue=Kl();function kt(t,e,l){const n=t.slice();return n[5]=e[l],n}function vt(t){let e,l;return{c(){e=g("img"),a(e,"class","favicon"),dt(e.src,l=t[0].meta.favicon)||a(e,"src",l),a(e,"alt","Favicon")},m(n,i){U(n,e,i)},p(n,i){i&1&&!dt(e.src,l=n[0].meta.favicon)&&a(e,"src",l)},d(n){n&&N(e)}}}function wt(t){let e,l=t[5].name+"",n;return{c(){e=g("div"),n=oe(l),a(e,"class","tag")},m(i,o){U(i,e,o),d(e,n)},p(i,o){o&1&&l!==(l=i[5].name+"")&&de(n,l)},d(i){i&&N(e)}}}function Yl(t){let e,l,n,i,o=t[0].meta.title+"",s,r,u,f,_=t[0].url+"",C,E,v,p,m=t[0].meta.description+"",b,w,O,B,R,z,W,D,H,h=t[0].meta.favicon&&vt(t),y=t[0].tags,M=[];for(let T=0;T<y.length;T+=1)M[T]=wt(kt(t,y,T));return{c(){e=g("div"),l=g("div"),h&&h.c(),n=A(),i=g("h3"),s=oe(o),r=A(),u=g("small"),f=g("a"),C=oe(_),v=A(),p=g("p"),b=oe(m),w=A(),O=g("div"),B=g("button"),B.textContent="Delete",R=A(),z=g("div"),W=g("div");for(let T=0;T<M.length;T+=1)M[T].c();a(l,"class","row"),a(f,"href",E=t[0].url),se(B,"background-color","var(--text-muted)"),se(B,"color","var(--background)"),a(O,"class","m-l-auto"),a(W,"class","tags"),a(z,"class","footer row"),a(e,"class","bookmark")},m(T,j){U(T,e,j),d(e,l),h&&h.m(l,null),d(l,n),d(l,i),d(i,s),d(e,r),d(e,u),d(u,f),d(f,C),d(e,v),d(e,p),d(p,b),d(e,w),d(e,O),d(O,B),d(e,R),d(e,z),d(z,W);for(let L=0;L<M.length;L+=1)M[L].m(W,null);D||(H=[F(B,"click",t[1]),F(e,"mouseover",t[2]),F(e,"focus",t[2]),F(e,"mouseout",t[3]),F(e,"blur",t[3])],D=!0)},p(T,[j]){if(T[0].meta.favicon?h?h.p(T,j):(h=vt(T),h.c(),h.m(l,n)):h&&(h.d(1),h=null),j&1&&o!==(o=T[0].meta.title+"")&&de(s,o),j&1&&_!==(_=T[0].url+"")&&de(C,_),j&1&&E!==(E=T[0].url)&&a(f,"href",E),j&1&&m!==(m=T[0].meta.description+"")&&de(b,m),j&1){y=T[0].tags;let L;for(L=0;L<y.length;L+=1){const K=kt(T,y,L);M[L]?M[L].p(K,j):(M[L]=wt(K),M[L].c(),M[L].m(W,null))}for(;L<M.length;L+=1)M[L].d(1);M.length=y.length}},i:q,o:q,d(T){T&&N(e),h&&h.d(),Ie(M,T),D=!1,re(H)}}}function Jl(t,e,l){let{bookmark:n}=e;const i=async()=>{try{const r=await Te("/bookmarks/"+n.id,"DELETE");Ue.delete(n.id)}catch(r){console.debug(r)}},o=()=>{},s=()=>{};return t.$$set=r=>{"bookmark"in r&&l(0,n=r.bookmark)},[n,i,o,s]}class Wl extends ge{constructor(e){super(),he(this,e,Jl,Yl,me,{bookmark:0})}}function yt(t,e,l){const n=t.slice();return n[11]=e[l],n}function Ct(t){let e,l=t[11].name+"",n,i,o,s,r;function u(){return t[9](t[11])}return{c(){e=g("div"),n=oe(l),i=A(),a(e,"class","tag"),a(e,"role","checkbox"),a(e,"style",o=`opacity: ${t[1].tags.includes(t[11].id)?1:.5}`)},m(f,_){U(f,e,_),d(e,n),d(e,i),s||(r=F(e,"click",u),s=!0)},p(f,_){t=f,_&1&&l!==(l=t[11].name+"")&&de(n,l),_&3&&o!==(o=`opacity: ${t[1].tags.includes(t[11].id)?1:.5}`)&&a(e,"style",o)},d(f){f&&N(e),s=!1,r()}}}function Ql(t){let e,l,n,i,o,s,r,u,f,_,C,E,v,p,m,b,w,O,B,R,z,W,D,H,h,y,M,T,j,L,K,ae,x,be,$,Y,ee,X,k,S,te,V,le=t[0],Z=[];for(let I=0;I<le.length;I+=1)Z[I]=Ct(yt(t,le,I));return{c(){e=g("input"),l=A(),n=g("div"),i=g("div"),o=g("strong"),o.textContent="SORT BY",s=A(),r=g("div"),u=g("input"),f=A(),_=g("label"),_.textContent="Title",C=A(),E=g("div"),v=g("input"),p=A(),m=g("label"),m.textContent="Date",b=A(),w=g("div"),O=g("strong"),O.textContent="ORDER",B=A(),R=g("div"),z=g("input"),W=A(),D=g("label"),D.textContent="Ascending",H=A(),h=g("div"),y=g("input"),M=A(),T=g("label"),T.textContent="Descending",j=A(),L=g("div"),K=g("strong"),K.textContent="FILTER BY TAGS",ae=A(),x=g("button"),be=oe("Clear"),Y=A(),ee=g("div");for(let I=0;I<Z.length;I+=1)Z[I].c();X=A(),k=g("div"),S=g("button"),S.textContent="Open Settings",a(e,"type","text"),a(e,"id","search"),a(e,"name","search"),a(e,"placeholder","Search"),a(e,"class","m-b-2"),a(u,"type","radio"),a(u,"name","sortBy"),a(u,"id","title"),u.__value="title",u.value=u.__value,t[4][0].push(u),a(_,"for","title"),a(v,"type","radio"),a(v,"name","sortBy"),a(v,"id","date"),v.__value="date",v.value=v.__value,t[4][0].push(v),a(m,"for","date"),a(i,"class","col"),a(z,"type","radio"),a(z,"name","order"),a(z,"id","asc"),z.__value="asc",z.value=z.__value,t[4][1].push(z),a(D,"for","asc"),a(y,"type","radio"),a(y,"name","order"),a(y,"id","desc"),y.__value="desc",y.value=y.__value,t[4][1].push(y),a(T,"for","desc"),a(w,"class","col m-l-auto"),a(n,"class","row m-b-2"),a(x,"class","m-l-auto"),x.disabled=$=t[1].tags.length===0,a(L,"class","row"),a(ee,"id","tags"),a(ee,"class","m-b-2"),a(S,"class","w-full")},m(I,Q){U(I,e,Q),ce(e,t[1].search),U(I,l,Q),U(I,n,Q),d(n,i),d(i,o),d(i,s),d(i,r),d(r,u),u.checked=u.__value===t[1].sortBy,d(r,f),d(r,_),d(i,C),d(i,E),d(E,v),v.checked=v.__value===t[1].sortBy,d(E,p),d(E,m),d(n,b),d(n,w),d(w,O),d(w,B),d(w,R),d(R,z),z.checked=z.__value===t[1].order,d(R,W),d(R,D),d(w,H),d(w,h),d(h,y),y.checked=y.__value===t[1].order,d(h,M),d(h,T),U(I,j,Q),U(I,L,Q),d(L,K),d(L,ae),d(L,x),d(x,be),U(I,Y,Q),U(I,ee,Q);for(let ne=0;ne<Z.length;ne+=1)Z[ne].m(ee,null);U(I,X,Q),U(I,k,Q),d(k,S),te||(V=[F(e,"input",t[2]),F(u,"change",t[3]),F(v,"change",t[5]),F(z,"change",t[6]),F(y,"change",t[7]),F(x,"click",t[8]),F(S,"click",t[10])],te=!0)},p(I,[Q]){if(Q&2&&e.value!==I[1].search&&ce(e,I[1].search),Q&2&&(u.checked=u.__value===I[1].sortBy),Q&2&&(v.checked=v.__value===I[1].sortBy),Q&2&&(z.checked=z.__value===I[1].order),Q&2&&(y.checked=y.__value===I[1].order),Q&2&&$!==($=I[1].tags.length===0)&&(x.disabled=$),Q&3){le=I[0];let ne;for(ne=0;ne<le.length;ne+=1){const Me=yt(I,le,ne);Z[ne]?Z[ne].p(Me,Q):(Z[ne]=Ct(Me),Z[ne].c(),Z[ne].m(ee,null))}for(;ne<Z.length;ne+=1)Z[ne].d(1);Z.length=le.length}},i:q,o:q,d(I){I&&N(e),I&&N(l),I&&N(n),t[4][0].splice(t[4][0].indexOf(u),1),t[4][0].splice(t[4][0].indexOf(v),1),t[4][1].splice(t[4][1].indexOf(z),1),t[4][1].splice(t[4][1].indexOf(y),1),I&&N(j),I&&N(L),I&&N(Y),I&&N(ee),Ie(Z,I),I&&N(X),I&&N(k),te=!1,re(V)}}}function Xl(t,e,l){let n;Xe(t,ve,p=>l(1,n=p));let i=[];ot(async()=>{try{l(0,i=await Te("/tags"))}catch(p){console.debug(p)}});const o=[[],[]];function s(){n.search=this.value,ve.set(n)}function r(){n.sortBy=this.__value,ve.set(n)}function u(){n.sortBy=this.__value,ve.set(n)}function f(){n.order=this.__value,ve.set(n)}function _(){n.order=this.__value,ve.set(n)}return[i,n,s,r,o,u,f,_,()=>{_t(ve,n.tags=[],n)},p=>{const m=n.tags;if(m.includes(p.id)){const b=m.indexOf(p);m.splice(b,1)}else m.push(p.id);_t(ve,n.tags=m,n)},()=>{document.getElementById("settings").showModal()}]}class Zl extends ge{constructor(e){super(),he(this,e,Xl,Ql,me,{})}}function Ot(t,e,l){const n=t.slice();return n[5]=e[l],n[6]=e,n[7]=l,n}function St(t){let e,l,n,i,o,s,r,u,f,_,C,E,v,p,m,b,w,O,B,R,z,W,D,H,h,y,M,T,j,L,K,ae,x;function be(){t[2].call(r,t[6],t[7])}function $(){t[3].call(p,t[6],t[7])}function Y(){t[4].call(H,t[6],t[7])}return{c(){e=g("div"),l=g("div"),n=g("div"),i=g("label"),i.textContent="Pattern",s=A(),r=g("input"),f=A(),_=g("div"),C=g("label"),C.textContent="Match detection",v=A(),p=g("select"),m=g("option"),m.textContent="Starts with (default)",b=g("option"),b.textContent="Regex",w=g("option"),w.textContent="Origin",O=g("option"),O.textContent="Domain",z=A(),W=g("div"),D=g("div"),H=g("input"),M=A(),T=g("label"),T.textContent="Save offline",j=A(),L=g("hr"),K=A(),a(i,"for",o="pattern"+t[7]),a(r,"type","text"),a(r,"id",u="pattern"+t[7]),r.readOnly=!0,r.disabled=!0,a(n,"class","col"),se(n,"flex-grow","3"),a(C,"for",E="matchDetection"+t[7]),m.__value="starts_with",m.value=m.__value,b.__value="regex",b.value=b.__value,w.__value="origin",w.value=w.__value,O.__value="domain",O.value=O.__value,a(p,"id",B="matchDetection"+t[7]),a(p,"name",R="matchDetection"+t[7]),t[5].matchDetection===void 0&&xe($),a(_,"class","col"),a(l,"class","row w-100"),a(H,"type","checkbox"),a(H,"id",h="saveOffline"+t[7]),a(H,"name",y="saveOffline"+t[7]),a(T,"for","'saveOffline' + i"),a(D,"class","row"),a(W,"class","row"),a(e,"class","url-action m-b-2")},m(ee,X){U(ee,e,X),d(e,l),d(l,n),d(n,i),d(n,s),d(n,r),ce(r,t[5].pattern),d(l,f),d(l,_),d(_,C),d(_,v),d(_,p),d(p,m),d(p,b),d(p,w),d(p,O),ht(p,t[5].matchDetection),d(e,z),d(e,W),d(W,D),d(D,H),ce(H,t[5].shouldSaveOffline),d(D,M),d(D,T),d(e,j),d(e,L),d(e,K),ae||(x=[F(r,"input",be),F(p,"change",$),F(H,"change",Y)],ae=!0)},p(ee,X){t=ee,X&1&&r.value!==t[5].pattern&&ce(r,t[5].pattern),X&1&&ht(p,t[5].matchDetection),X&1&&ce(H,t[5].shouldSaveOffline)},d(ee){ee&&N(e),ae=!1,re(x)}}}function xl(t){let e,l,n,i,o,s,r,u,f,_,C,E,v,p,m,b=t[0].urlActions,w=[];for(let O=0;O<b.length;O+=1)w[O]=St(Ot(t,b,O));return{c(){e=g("dialog"),l=g("header"),l.innerHTML="<h2>Settings</h2>",n=A(),i=g("div"),o=g("div"),s=g("h3"),s.textContent="Save pages offline",r=A(),u=g("input"),f=A(),_=g("h3"),_.textContent="URL Actions",C=A(),E=g("hr"),v=A();for(let O=0;O<w.length;O+=1)w[O].c();a(u,"class","m-l-auto"),a(u,"type","checkbox"),a(u,"name","saveOfflineDefault"),a(u,"id","saveOfflineDefault"),a(o,"class","row m-b-2"),a(i,"class","col"),se(i,"width","600px"),se(i,"max-height","700px"),a(e,"id","settings")},m(O,B){U(O,e,B),d(e,l),d(e,n),d(e,i),d(i,o),d(o,s),d(o,r),d(o,u),u.checked=t[0].shouldSaveOffline,d(i,f),d(i,_),d(i,C),d(i,E),d(i,v);for(let R=0;R<w.length;R+=1)w[R].m(i,null);p||(m=F(u,"change",t[1]),p=!0)},p(O,[B]){if(B&1&&(u.checked=O[0].shouldSaveOffline),B&1){b=O[0].urlActions;let R;for(R=0;R<b.length;R+=1){const z=Ot(O,b,R);w[R]?w[R].p(z,B):(w[R]=St(z),w[R].c(),w[R].m(i,null))}for(;R<w.length;R+=1)w[R].d(1);w.length=b.length}},i:q,o:q,d(O){O&&N(e),Ie(w,O),p=!1,m()}}}function $l(t,e,l){let n={shouldSaveOffline:null,urlActions:[]};ot(async()=>{l(0,n=await Te("/config"))});function i(){n.shouldSaveOffline=this.checked,l(0,n)}function o(u,f){u[f].pattern=this.value,l(0,n)}function s(u,f){u[f].matchDetection=ql(this),l(0,n)}function r(u,f){u[f].shouldSaveOffline=this.value,l(0,n)}return[n,i,o,s,r]}class en extends ge{constructor(e){super(),he(this,e,$l,xl,me,{})}}function tn(t){let e,l=`${t[0]} transparent ${t[0]}
  ${t[0]}`;return{c(){e=g("div"),se(e,"--duration",t[1]),a(e,"class","svelte-66wdl1"),se(e,"border-color",l,!1),se(e,"width",t[2],!1),se(e,"height",t[2],!1)},m(n,i){U(n,e,i)},p(n,[i]){i&2&&se(e,"--duration",n[1]),i&1&&l!==(l=`${n[0]} transparent ${n[0]}
  ${n[0]}`)&&se(e,"border-color",l,!1),i&4&&se(e,"width",n[2],!1),i&4&&se(e,"height",n[2],!1)},i:q,o:q,d(n){n&&N(e)}}}function ln(t,e,l){let{color:n="cornflowerblue"}=e,{duration:i="1.5s"}=e,{size:o="1em"}=e;return t.$$set=s=>{"color"in s&&l(0,n=s.color),"duration"in s&&l(1,i=s.duration),"size"in s&&l(2,o=s.size)},[n,i,o]}class nn extends ge{constructor(e){super(),he(this,e,ln,tn,me,{color:0,duration:1,size:2})}}function sn(t){let e,l,n=[t[0],{fill:"currentColor"},{viewBox:"0 0 16 16"}],i={};for(let o=0;o<n.length;o+=1)i=ke(i,n[o]);return{c(){e=Ee("svg"),l=Ee("path"),a(l,"d","M3.646 9.146a.5.5 0 0 1 .708 0L8 12.793l3.646-3.647a.5.5 0 0 1 .708.708l-4 4a.5.5 0 0 1-.708 0l-4-4a.5.5 0 0 1 0-.708zm0-2.292a.5.5 0 0 0 .708 0L8 3.207l3.646 3.647a.5.5 0 0 0 .708-.708l-4-4a.5.5 0 0 0-.708 0l-4 4a.5.5 0 0 0 0 .708z"),Ne(e,i)},m(o,s){U(o,e,s),d(e,l)},p(o,[s]){Ne(e,i=ft(n,[s&1&&o[0],{fill:"currentColor"},{viewBox:"0 0 16 16"}]))},i:q,o:q,d(o){o&&N(e)}}}function on(t,e,l){return t.$$set=n=>{l(0,e=ke(ke({},e),qe(n)))},e=qe(e),[e]}class rn extends ge{constructor(e){super(),he(this,e,on,sn,me,{})}}function un(t){let e,l,n=[t[0],{viewBox:"0 0 20 20"},{fill:"currentColor"}],i={};for(let o=0;o<n.length;o+=1)i=ke(i,n[o]);return{c(){e=Ee("svg"),l=Ee("path"),a(l,"d","M10 1.6a8.4 8.4 0 100 16.8 8.4 8.4 0 000-16.8zm4.789 11.461L13.06 14.79 10 11.729l-3.061 3.06L5.21 13.06 8.272 10 5.211 6.939 6.94 5.211 10 8.271l3.061-3.061 1.729 1.729L11.728 10l3.061 3.061z"),Ne(e,i)},m(o,s){U(o,e,s),d(e,l)},p(o,[s]){Ne(e,i=ft(n,[s&1&&o[0],{viewBox:"0 0 20 20"},{fill:"currentColor"}]))},i:q,o:q,d(o){o&&N(e)}}}function fn(t,e,l){return t.$$set=n=>{l(0,e=ke(ke({},e),qe(n)))},e=qe(e),[e]}class xt extends ge{constructor(e){super(),he(this,e,fn,un,me,{})}}function an(t){let e,l,n,i=[t[0],{viewBox:"0 0 24 24"},{fill:"currentColor"}],o={};for(let s=0;s<i.length;s+=1)o=ke(o,i[s]);return{c(){e=Ee("svg"),l=Ee("path"),n=Ee("path"),a(l,"fill","none"),a(l,"d","M0 0h24v24H0V0z"),a(n,"d","M14.48 11.95c.17.02.34.05.52.05 2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4c0 .18.03.35.05.52l3.43 3.43zm2.21 2.21L22.53 20H23v-2c0-2.14-3.56-3.5-6.31-3.84zM0 3.12l4 4V10H1v2h3v3h2v-3h2.88l2.51 2.51C9.19 15.11 7 16.3 7 18v2h9.88l4 4 1.41-1.41L1.41 1.71 0 3.12zM6.88 10H6v-.88l.88.88z"),Ne(e,o)},m(s,r){U(s,e,r),d(e,l),d(e,n)},p(s,[r]){Ne(e,o=ft(i,[r&1&&s[0],{viewBox:"0 0 24 24"},{fill:"currentColor"}]))},i:q,o:q,d(s){s&&N(e)}}}function cn(t,e,l){return t.$$set=n=>{l(0,e=ke(ke({},e),qe(n)))},e=qe(e),[e]}class dn extends ge{constructor(e){super(),he(this,e,cn,an,me,{})}}function Tt(t){return Object.prototype.toString.call(t)==="[object Date]"}function nt(t,e,l,n){if(typeof l=="number"||Tt(l)){const i=n-l,o=(l-e)/(t.dt||1/60),s=t.opts.stiffness*i,r=t.opts.damping*o,u=(s-r)*t.inv_mass,f=(o+u)*t.dt;return Math.abs(f)<t.opts.precision&&Math.abs(i)<t.opts.precision?n:(t.settled=!1,Tt(l)?new Date(l.getTime()+f):l+f)}else{if(Array.isArray(l))return l.map((i,o)=>nt(t,e[o],l[o],n[o]));if(typeof l=="object"){const i={};for(const o in l)i[o]=nt(t,e[o],l[o],n[o]);return i}else throw new Error(`Cannot spring ${typeof l} values`)}}function _n(t,e={}){const l=$e(t),{stiffness:n=.15,damping:i=.8,precision:o=.01}=e;let s,r,u,f=t,_=t,C=1,E=0,v=!1;function p(b,w={}){_=b;const O=u={};if(t==null||w.hard||m.stiffness>=1&&m.damping>=1)return v=!0,s=mt(),f=b,l.set(t=_),Promise.resolve();if(w.soft){const B=w.soft===!0?.5:+w.soft;E=1/(B*60),C=0}return r||(s=mt(),v=!1,r=jl(B=>{if(v)return v=!1,r=null,!1;C=Math.min(C+E,1);const R={inv_mass:C,opts:m,settled:!0,dt:(B-s)*60/1e3},z=nt(R,f,t,_);return s=B,f=t,l.set(t=z),R.settled&&(r=null),!R.settled})),new Promise(B=>{r.promise.then(()=>{O===u&&B()})})}const m={set:p,update:(b,w)=>p(b(_,t),w),subscribe:l.subscribe,stiffness:n,damping:i,precision:o};return m}function mn(t){let e,l=`rotate(${t[0].angle}deg) scale(${t[0].scale}) translate(${t[0].dx}px,
  ${t[0].dy}px)`,n;const i=t[11].default,o=He(i,t,t[10],null);return{c(){e=g("span"),o&&o.c(),se(e,"transform",l,!1)},m(s,r){U(s,e,r),o&&o.m(e,null),n=!0},p(s,[r]){o&&o.p&&(!n||r&1024)&&Ge(o,i,s,s[10],n?Ve(i,s[10],r,null):Ke(s[10]),null),r&1&&l!==(l=`rotate(${s[0].angle}deg) scale(${s[0].scale}) translate(${s[0].dx}px,
  ${s[0].dy}px)`)&&se(e,"transform",l,!1)},i(s){n||(P(o,s),n=!0)},o(s){G(o,s),n=!1},d(s){s&&N(e),o&&o.d(s)}}}function hn(t,e,l){let n,{$$slots:i={},$$scope:o}=e,{wiggle:s=!1}=e,{angle:r=0}=e,{scale:u=1}=e,{dx:f=0}=e,{dy:_=0}=e,{duration:C=200}=e,{stiffness:E=.05}=e,{damping:v=.1}=e,p={angle:0,scale:1,dx:0,dy:0},m=_n(p,{stiffness:E,damping:v});return Xe(t,m,b=>l(0,n=b)),t.$$set=b=>{"wiggle"in b&&l(2,s=b.wiggle),"angle"in b&&l(3,r=b.angle),"scale"in b&&l(4,u=b.scale),"dx"in b&&l(5,f=b.dx),"dy"in b&&l(6,_=b.dy),"duration"in b&&l(7,C=b.duration),"stiffness"in b&&l(8,E=b.stiffness),"damping"in b&&l(9,v=b.damping),"$$scope"in b&&l(10,o=b.$$scope)},t.$$.update=()=>{t.$$.dirty&132&&s&&setTimeout(()=>l(2,s=!1),C),t.$$.dirty&124&&m.set(s?{scale:u,angle:r,dx:f,dy:_}:p)},[n,m,s,r,u,f,_,C,E,v,o,i]}class gn extends ge{constructor(e){super(),he(this,e,hn,mn,me,{wiggle:2,angle:3,scale:4,dx:5,dy:6,duration:7,stiffness:8,damping:9})}}function Mt(t,e,l){const n=t.slice();n[76]=e[l],n[82]=l;const i=n[76]instanceof Object?n[76]:{label:n[76]};n[77]=i.label,n[29]=i.disabled!==void 0?i.disabled:null,n[78]=i.title!==void 0?i.title:null,n[79]=i.selectedTitle!==void 0?i.selectedTitle:null,n[30]=i.disabledTitle!==void 0?i.disabledTitle:n[23];const o=n[6]&&n[36](n[6])===n[77];return n[80]=o,n}const bn=t=>({option:t[1]&16}),Bt=t=>({option:t[76],idx:t[82]}),pn=t=>({}),At=t=>({}),kn=t=>({}),Et=t=>({});function Dt(t,e,l){const n=t.slice();return n[76]=e[l],n[82]=l,n}const vn=t=>({option:t[0]&2}),jt=t=>({option:t[76],idx:t[82]});function wn(t){let e=t[36](t[76])+"",l;return{c(){l=oe(e)},m(n,i){U(n,l,i)},p(n,i){i[0]&2&&e!==(e=n[36](n[76])+"")&&de(l,e)},d(n){n&&N(l)}}}function Lt(t){let e,l,n,i,o,s;l=new xt({props:{width:"15px"}});function r(){return t[54](t[76])}function u(){return t[55](t[76])}return{c(){e=g("button"),_e(l.$$.fragment),a(e,"type","button"),a(e,"title",n=t[21]+" "+t[36](t[76])),a(e,"class","svelte-18jo2l6")},m(f,_){U(f,e,_),ue(l,e,null),i=!0,o||(s=[F(e,"mouseup",Se(r)),F(e,"keydown",function(){it(t[42](u))&&t[42](u).apply(this,arguments)})],o=!0)},p(f,_){t=f,(!i||_[0]&2097154&&n!==(n=t[21]+" "+t[36](t[76])))&&a(e,"title",n)},i(f){i||(P(l.$$.fragment,f),i=!0)},o(f){G(l.$$.fragment,f),i=!1},d(f){f&&N(e),fe(l),o=!1,re(s)}}}function Rt(t){let e,l,n,i;const o=t[48].selected,s=He(o,t,t[73],jt),r=s||wn(t);let u=!t[29]&&Lt(t);return{c(){e=g("li"),r&&r.c(),l=A(),u&&u.c(),a(e,"class",n=Ze(t[16])+" svelte-18jo2l6"),a(e,"aria-selected","true")},m(f,_){U(f,e,_),r&&r.m(e,null),d(e,l),u&&u.m(e,null),i=!0},p(f,_){s?s.p&&(!i||_[0]&2|_[2]&2048)&&Ge(s,o,f,f[73],i?Ve(o,f[73],_,vn):Ke(f[73]),jt):r&&r.p&&(!i||_[0]&2)&&r.p(f,i?_:[-1,-1,-1]),f[29]?u&&(ye(),G(u,1,1,()=>{u=null}),Ce()):u?(u.p(f,_),_[0]&536870912&&P(u,1)):(u=Lt(f),u.c(),P(u,1),u.m(e,null)),(!i||_[0]&65536&&n!==(n=Ze(f[16])+" svelte-18jo2l6"))&&a(e,"class",n)},i(f){i||(P(r,f),P(u),i=!0)},o(f){G(r,f),G(u),i=!1},d(f){f&&N(e),r&&r.d(f),u&&u.d()}}}function qt(t){let e;const l=t[48].spinner,n=He(l,t,t[73],Et),i=n||yn();return{c(){i&&i.c()},m(o,s){i&&i.m(o,s),e=!0},p(o,s){n&&n.p&&(!e||s[2]&2048)&&Ge(n,l,o,o[73],e?Ve(l,o[73],s,kn):Ke(o[73]),Et)},i(o){e||(P(i,o),e=!0)},o(o){G(i,o),e=!1},d(o){i&&i.d(o)}}}function yn(t){let e,l;return e=new nn({}),{c(){_e(e.$$.fragment)},m(n,i){ue(e,n,i),l=!0},i(n){l||(P(e.$$.fragment,n),l=!0)},o(n){G(e.$$.fragment,n),l=!1},d(n){fe(e,n)}}}function Cn(t){let e,l,n,i=t[8]&&(t[8]>1||t[9])&&It(t),o=t[8]!==1&&t[1].length>1&&Nt(t);return{c(){i&&i.c(),e=A(),o&&o.c(),l=Qt()},m(s,r){i&&i.m(s,r),U(s,e,r),o&&o.m(s,r),U(s,l,r),n=!0},p(s,r){s[8]&&(s[8]>1||s[9])?i?(i.p(s,r),r[0]&768&&P(i,1)):(i=It(s),i.c(),P(i,1),i.m(e.parentNode,e)):i&&(ye(),G(i,1,1,()=>{i=null}),Ce()),s[8]!==1&&s[1].length>1?o?(o.p(s,r),r[0]&258&&P(o,1)):(o=Nt(s),o.c(),P(o,1),o.m(l.parentNode,l)):o&&(ye(),G(o,1,1,()=>{o=null}),Ce())},i(s){n||(P(i),P(o),n=!0)},o(s){G(i),G(o),n=!1},d(s){i&&i.d(s),s&&N(e),o&&o.d(s),s&&N(l)}}}function On(t){let e;const l=t[48]["disabled-icon"],n=He(l,t,t[73],At),i=n||Tn();return{c(){i&&i.c()},m(o,s){i&&i.m(o,s),e=!0},p(o,s){n&&n.p&&(!e||s[2]&2048)&&Ge(n,l,o,o[73],e?Ve(l,o[73],s,pn):Ke(o[73]),At)},i(o){e||(P(i,o),e=!0)},o(o){G(i,o),e=!1},d(o){i&&i.d(o)}}}function It(t){let e,l,n;function i(s){t[60](s)}let o={angle:20,$$slots:{default:[Sn]},$$scope:{ctx:t}};return t[33]!==void 0&&(o.wiggle=t[33]),e=new gn({props:o}),De.push(()=>at(e,"wiggle",i)),{c(){_e(e.$$.fragment)},m(s,r){ue(e,s,r),n=!0},p(s,r){const u={};r[0]&770|r[2]&2048&&(u.$$scope={dirty:r,ctx:s}),!l&&r[1]&4&&(l=!0,u.wiggle=s[33],rt(()=>l=!1)),e.$set(u)},i(s){n||(P(e.$$.fragment,s),n=!0)},o(s){G(e.$$.fragment,s),n=!1},d(s){fe(e,s)}}}function Sn(t){var i,o;let e,l=((o=(i=t[9])==null?void 0:i.call(t,t[1].length,t[8]))!=null?o:t[8]>1?`${t[1].length}/${t[8]}`:"")+"",n;return{c(){e=g("span"),n=oe(l),se(e,"padding","0 3pt"),a(e,"class","svelte-18jo2l6")},m(s,r){U(s,e,r),d(e,n)},p(s,r){var u,f;r[0]&770&&l!==(l=((f=(u=s[9])==null?void 0:u.call(s,s[1].length,s[8]))!=null?f:s[8]>1?`${s[1].length}/${s[8]}`:"")+"")&&de(n,l)},d(s){s&&N(e)}}}function Nt(t){let e,l,n,i,o;return l=new xt({props:{width:"15px"}}),{c(){e=g("button"),_e(l.$$.fragment),a(e,"type","button"),a(e,"class","remove-all svelte-18jo2l6"),a(e,"title",t[22])},m(s,r){U(s,e,r),ue(l,e,null),n=!0,i||(o=[F(e,"mouseup",Se(t[41])),F(e,"keydown",t[42](t[41]))],i=!0)},p(s,r){(!n||r[0]&4194304)&&a(e,"title",s[22])},i(s){n||(P(l.$$.fragment,s),n=!0)},o(s){G(l.$$.fragment,s),n=!1},d(s){s&&N(e),fe(l),i=!1,re(o)}}}function Tn(t){let e,l;return e=new dn({props:{width:"15px"}}),{c(){_e(e.$$.fragment)},m(n,i){ue(e,n,i),l=!0},p:q,i(n){l||(P(e.$$.fragment,n),l=!0)},o(n){G(e.$$.fragment,n),l=!1},d(n){fe(e,n)}}}function zt(t){let e;function l(o,s){return o[24]&&o[0]?Bn:Mn}let n=l(t),i=n(t);return{c(){i.c(),e=Qt()},m(o,s){i.m(o,s),U(o,e,s)},p(o,s){n===(n=l(o))&&i?i.p(o,s):(i.d(1),i=n(o),i&&(i.c(),i.m(e.parentNode,e)))},d(o){i.d(o),o&&N(e)}}}function Mn(t){let e,l;return{c(){e=g("span"),l=oe(t[13]),a(e,"class","svelte-18jo2l6")},m(n,i){U(n,e,i),d(e,l)},p(n,i){i[0]&8192&&de(l,n[13])},d(n){n&&N(e)}}}function Bn(t){let e,l,n,i,o;return{c(){e=g("li"),l=oe(t[25]),n=A(),a(e,"title",t[25]),a(e,"aria-selected","false"),a(e,"class","svelte-18jo2l6"),ie(e,"active",t[32])},m(s,r){U(s,e,r),d(e,l),d(e,n),i||(o=[F(e,"mousedown",Se(t[50])),F(e,"mouseup",Se(t[66])),F(e,"mouseover",t[67]),F(e,"focus",t[68]),F(e,"mouseout",t[69]),F(e,"blur",t[70])],i=!0)},p(s,r){r[0]&33554432&&de(l,s[25]),r[0]&33554432&&a(e,"title",s[25]),r[1]&2&&ie(e,"active",s[32])},d(s){s&&N(e),i=!1,re(o)}}}function An(t){let e=t[36](t[76])+"",l;return{c(){l=oe(e)},m(n,i){U(n,l,i)},p(n,i){i[1]&16&&e!==(e=n[36](n[76])+"")&&de(l,e)},d(n){n&&N(l)}}}function Pt(t){let e,l,n,i,o,s,r;const u=t[48].option,f=He(u,t,t[73],Bt),_=f||An(t);function C(){return t[61](t[29],t[77])}function E(){return t[62](t[29],t[76])}function v(){return t[63](t[29],t[76])}return{c(){e=g("li"),_&&_.c(),l=A(),a(e,"title",n=t[29]?t[30]:t[34](t[77])&&t[79]||t[78]),a(e,"class",i=t[18]+" "+(t[80]?t[19]:"")+" svelte-18jo2l6"),a(e,"aria-selected","false"),ie(e,"selected",t[34](t[77])),ie(e,"active",t[80]),ie(e,"disabled",t[29])},m(p,m){U(p,e,m),_&&_.m(e,null),d(e,l),o=!0,s||(r=[F(e,"mousedown",Se(t[49])),F(e,"mouseup",Se(C)),F(e,"mouseover",E),F(e,"focus",v),F(e,"mouseout",t[64]),F(e,"blur",t[65])],s=!0)},p(p,m){t=p,f?f.p&&(!o||m[1]&16|m[2]&2048)&&Ge(f,u,t,t[73],o?Ve(u,t[73],m,bn):Ke(t[73]),Bt):_&&_.p&&(!o||m[1]&16)&&_.p(t,o?m:[-1,-1,-1]),(!o||m[1]&24&&n!==(n=t[29]?t[30]:t[34](t[77])&&t[79]||t[78]))&&a(e,"title",n),(!o||m[0]&786496|m[1]&16&&i!==(i=t[18]+" "+(t[80]?t[19]:"")+" svelte-18jo2l6"))&&a(e,"class",i),m[0]&786496|m[1]&24&&ie(e,"selected",t[34](t[77])),m[0]&786496|m[1]&48&&ie(e,"active",t[80]),m[0]&786496|m[1]&16&&ie(e,"disabled",t[29])},i(p){o||(P(_,p),o=!0)},o(p){G(_,p),o=!1},d(p){p&&N(e),_&&_.d(p),s=!1,re(r)}}}function En(t){let e,l,n,i,o,s,r,u,f,_,C,E,v,p,m,b,w,O,B,R,z,W,D,H,h,y,M;i=new rn({props:{width:"15px",style:"min-width: 1em; padding: 0 1pt;"}});let T=t[1],j=[];for(let k=0;k<T.length;k+=1)j[k]=Rt(Dt(t,T,k));const L=k=>G(j[k],1,1,()=>{j[k]=null});let K=t[26]&&qt(t);const ae=[On,Cn],x=[];function be(k,S){return k[29]?0:k[1].length>0?1:-1}~(b=be(t))&&(w=x[b]=ae[b](t));let $=t[35],Y=[];for(let k=0;k<$.length;k+=1)Y[k]=Pt(Mt(t,$,k));const ee=k=>G(Y[k],1,1,()=>{Y[k]=null});let X=null;return $.length||(X=zt(t)),{c(){e=g("div"),l=g("input"),n=A(),_e(i.$$.fragment),o=A(),s=g("ul");for(let k=0;k<j.length;k+=1)j[k].c();r=A(),u=g("li"),f=g("input"),p=A(),K&&K.c(),m=A(),w&&w.c(),O=A(),B=g("ul");for(let k=0;k<Y.length;k+=1)Y[k].c();X&&X.c(),l.required=t[27],a(l,"tabindex","-1"),a(l,"aria-hidden","true"),a(l,"aria-label","ignore this, used only to prevent form submission if select is required but empty"),a(l,"class","form-control svelte-18jo2l6"),a(f,"class",_=Ze(t[20])+" svelte-18jo2l6"),a(f,"autocomplete",t[28]),a(f,"id",t[11]),a(f,"name",t[12]),f.disabled=t[29],a(f,"placeholder",C=t[2].length?"":t[10]),a(f,"aria-invalid",E=t[7]?"true":null),se(u,"display","contents"),a(u,"class","svelte-18jo2l6"),a(s,"class",v="selected "+t[15]+" svelte-18jo2l6"),a(B,"class",R="options "+t[17]+" svelte-18jo2l6"),ie(B,"hidden",!t[3]),a(e,"aria-expanded",t[3]),a(e,"aria-multiselectable",z=t[8]===null||t[8]>1),a(e,"class",W="multiselect "+t[14]+" svelte-18jo2l6"),a(e,"title",D=t[29]?t[30]:null),a(e,"aria-disabled",H=t[29]?"true":null),ie(e,"disabled",t[29]),ie(e,"single",t[8]===1),ie(e,"open",t[3]),ie(e,"invalid",t[7])},m(k,S){U(k,e,S),d(e,l),ce(l,t[31]),d(e,n),ue(i,e,null),d(e,o),d(e,s);for(let te=0;te<j.length;te+=1)j[te].m(s,null);d(s,r),d(s,u),d(u,f),t[56](f),ce(f,t[0]),d(e,p),K&&K.m(e,null),d(e,m),~b&&x[b].m(e,null),d(e,O),d(e,B);for(let te=0;te<Y.length;te+=1)Y[te].m(B,null);X&&X.m(B,null),t[71](e),h=!0,y||(M=[F(window,"click",t[51]),F(l,"input",t[52]),F(l,"invalid",t[53]),F(f,"input",t[57]),F(f,"mouseup",Ll(Se(t[58]))),F(f,"keydown",t[40]),F(f,"focus",t[59]),F(e,"mouseup",Se(t[72]))],y=!0)},p(k,S){if((!h||S[0]&134217728)&&(l.required=k[27]),S[1]&1&&l.value!==k[31]&&ce(l,k[31]),S[0]&539033602|S[1]&2208|S[2]&2048){T=k[1];let V;for(V=0;V<T.length;V+=1){const le=Dt(k,T,V);j[V]?(j[V].p(le,S),P(j[V],1)):(j[V]=Rt(le),j[V].c(),P(j[V],1),j[V].m(s,r))}for(ye(),V=T.length;V<j.length;V+=1)L(V);Ce()}(!h||S[0]&1048576&&_!==(_=Ze(k[20])+" svelte-18jo2l6"))&&a(f,"class",_),(!h||S[0]&268435456)&&a(f,"autocomplete",k[28]),(!h||S[0]&2048)&&a(f,"id",k[11]),(!h||S[0]&4096)&&a(f,"name",k[12]),(!h||S[0]&536870912)&&(f.disabled=k[29]),(!h||S[0]&1028&&C!==(C=k[2].length?"":k[10]))&&a(f,"placeholder",C),(!h||S[0]&128&&E!==(E=k[7]?"true":null))&&a(f,"aria-invalid",E),S[0]&1&&f.value!==k[0]&&ce(f,k[0]),(!h||S[0]&32768&&v!==(v="selected "+k[15]+" svelte-18jo2l6"))&&a(s,"class",v),k[26]?K?(K.p(k,S),S[0]&67108864&&P(K,1)):(K=qt(k),K.c(),P(K,1),K.m(e,m)):K&&(ye(),G(K,1,1,()=>{K=null}),Ce());let te=b;if(b=be(k),b===te?~b&&x[b].p(k,S):(w&&(ye(),G(x[te],1,1,()=>{x[te]=null}),Ce()),~b?(w=x[b],w?w.p(k,S):(w=x[b]=ae[b](k),w.c()),P(w,1),w.m(e,O)):w=null),S[0]&51126337|S[1]&250|S[2]&2048){$=k[35];let V;for(V=0;V<$.length;V+=1){const le=Mt(k,$,V);Y[V]?(Y[V].p(le,S),P(Y[V],1)):(Y[V]=Pt(le),Y[V].c(),P(Y[V],1),Y[V].m(B,null))}for(ye(),V=$.length;V<Y.length;V+=1)ee(V);Ce(),!$.length&&X?X.p(k,S):$.length?X&&(X.d(1),X=null):(X=zt(k),X.c(),X.m(B,null))}(!h||S[0]&131072&&R!==(R="options "+k[17]+" svelte-18jo2l6"))&&a(B,"class",R),S[0]&131080&&ie(B,"hidden",!k[3]),(!h||S[0]&8)&&a(e,"aria-expanded",k[3]),(!h||S[0]&256&&z!==(z=k[8]===null||k[8]>1))&&a(e,"aria-multiselectable",z),(!h||S[0]&16384&&W!==(W="multiselect "+k[14]+" svelte-18jo2l6"))&&a(e,"class",W),(!h||S[0]&1610612736&&D!==(D=k[29]?k[30]:null))&&a(e,"title",D),(!h||S[0]&536870912&&H!==(H=k[29]?"true":null))&&a(e,"aria-disabled",H),S[0]&536887296&&ie(e,"disabled",k[29]),S[0]&16640&&ie(e,"single",k[8]===1),S[0]&16392&&ie(e,"open",k[3]),S[0]&16512&&ie(e,"invalid",k[7])},i(k){if(!h){P(i.$$.fragment,k);for(let S=0;S<T.length;S+=1)P(j[S]);P(K),P(w);for(let S=0;S<$.length;S+=1)P(Y[S]);h=!0}},o(k){G(i.$$.fragment,k),j=j.filter(Boolean);for(let S=0;S<j.length;S+=1)G(j[S]);G(K),G(w),Y=Y.filter(Boolean);for(let S=0;S<Y.length;S+=1)G(Y[S]);h=!1},d(k){k&&N(e),fe(i),Ie(j,k),t[56](null),K&&K.d(),~b&&x[b].d(),Ie(Y,k),X&&X.d(),t[71](null),y=!1,re(M)}}}function Dn(t,e,l){let n,i,o,{$$slots:s={},$$scope:r}=e,{searchText:u=""}=e,{showOptions:f=!1}=e,{maxSelect:_=null}=e,{maxSelectMsg:C=null}=e,{disabled:E=!1}=e,{disabledTitle:v="This field is disabled"}=e,{options:p}=e,{selected:m=[]}=e,{selectedLabels:b=[]}=e,{selectedValues:w=[]}=e,{input:O=null}=e,{outerDiv:B=null}=e,{placeholder:R=void 0}=e,{id:z=void 0}=e,{name:W=z}=e,{noOptionsMsg:D="No matching options"}=e,{activeOption:H=null}=e,{filterFunc:h=(c,J)=>J?`${Q(c)}`.toLowerCase().includes(J.toLowerCase()):!0}=e,{outerDivClass:y=""}=e,{ulSelectedClass:M=""}=e,{liSelectedClass:T=""}=e,{ulOptionsClass:j=""}=e,{liOptionClass:L=""}=e,{liActiveOptionClass:K=""}=e,{inputClass:ae=""}=e,{removeBtnTitle:x="Remove"}=e,{removeAllTitle:be="Remove all"}=e,{defaultDisabledTitle:$="This option is disabled"}=e,{allowUserOptions:Y=!1}=e,{addOptionMsg:ee="Create this option..."}=e,{autoScroll:X=!0}=e,{loading:k=!1}=e,{required:S=!1}=e,{autocomplete:te="off"}=e,{invalid:V=!1}=e,{sortSelected:le=!1}=e;_!==null&&_<1&&console.error(`maxSelect must be null or positive integer, got ${_}`),(p==null?void 0:p.length)>0||console.error("MultiSelect is missing options"),Array.isArray(m)||console.error("selected prop must be an array");const Z=Nl();let I=!1;const Q=c=>c instanceof Object?c.label:c,ne=c=>{var J;return c instanceof Object?(J=c.value)!=null?J:c.label:c};let Me=!1;function ze(c){if(_&&_>1&&m.length>=_&&l(33,Me=!0),_===null||_===1||m.length<_){let J=p.find(pe=>Q(pe)===c);if(!J&&[!0,"append"].includes(Y)&&u.length>0&&(J={label:u,value:u},Y==="append"&&l(43,p=[...p,J])),l(0,u=""),!J){console.error(`MultiSelect: option with label ${c} not found`);return}_===1?l(1,m=[J]):(l(1,m=[...m,J]),le===!0?l(1,m=m.sort((pe,Be)=>{const[Ml,Bl]=[Q(pe),Q(Be)];return`${Ml}`.localeCompare(`${Bl}`)})):typeof le=="function"&&l(1,m=m.sort(le))),m.length===_?Oe(!1):O==null||O.focus(),Z("add",{option:J}),Z("change",{option:J,type:"add"})}}function je(c){var pe;if(m.length===0)return;m.splice(b.lastIndexOf(c),1),l(1,m);const J=(pe=p.find(Be=>Q(Be)===c))!=null?pe:Y&&{label:c,value:c};if(!J)return console.error(`MultiSelect: option with label ${c} not found`);Z("remove",{option:J}),Z("change",{option:J,type:"remove"})}function Oe(c){E||(l(3,f=c),c?(O==null||O.focus(),Z("focus")):(O==null||O.blur(),l(6,H=null),Z("blur")))}async function el(c){if(c.key==="Escape"||c.key==="Tab")Oe(!1),l(0,u="");else if(c.key==="Enter")if(c.preventDefault(),H){const J=Q(H);b.includes(J)?je(J):ze(J),l(0,u="")}else Y&&u.length>0?ze(u):Oe(!0);else if(["ArrowDown","ArrowUp"].includes(c.key)){if(H===null&&i.length>0){l(6,H=i[0]);return}else if(Y&&u.length>0){l(32,I=!I);return}else if(H===null)return;const J=c.key==="ArrowUp"?-1:1,pe=i.indexOf(H)+J;if(pe<0?l(6,H=i[i.length-1]):pe===i.length?l(6,H=i[0]):l(6,H=i[pe]),X){await zl();const Be=document.querySelector("ul.options > li.active");Be==null||Be.scrollIntoViewIfNeeded()}}else c.key==="Backspace"&&b.length>0&&!u&&je(b.at(-1))}function tl(){Z("removeAll",{options:m}),Z("change",{options:m,type:"removeAll"}),l(1,m=[]),l(0,u="")}const ll=c=>J=>{["Enter","Space"].includes(J.code)&&(J.preventDefault(),c())};function nl(c){gt.call(this,t,c)}function il(c){gt.call(this,t,c)}const sl=c=>{B&&!B.contains(c.target)&&Oe(!1)};function ol(){n=this.value,l(31,n),l(44,w),l(1,m)}const rl=()=>l(7,V=!0),ul=c=>je(Q(c)),fl=c=>je(Q(c));function al(c){De[c?"unshift":"push"](()=>{O=c,l(4,O)})}function cl(){u=this.value,l(0,u)}const dl=()=>Oe(!0),_l=()=>Oe(!0);function ml(c){Me=c,l(33,Me)}const hl=(c,J)=>{c||(o(J)?je(J):ze(J))},gl=(c,J)=>{c||l(6,H=J)},bl=(c,J)=>{c||l(6,H=J)},pl=()=>l(6,H=null),kl=()=>l(6,H=null),vl=()=>ze(u),wl=()=>l(32,I=!0),yl=()=>l(32,I=!0),Cl=()=>l(32,I=!1),Ol=()=>l(32,I=!1);function Sl(c){De[c?"unshift":"push"](()=>{B=c,l(5,B)})}const Tl=()=>Oe(!0);return t.$$set=c=>{"searchText"in c&&l(0,u=c.searchText),"showOptions"in c&&l(3,f=c.showOptions),"maxSelect"in c&&l(8,_=c.maxSelect),"maxSelectMsg"in c&&l(9,C=c.maxSelectMsg),"disabled"in c&&l(29,E=c.disabled),"disabledTitle"in c&&l(30,v=c.disabledTitle),"options"in c&&l(43,p=c.options),"selected"in c&&l(1,m=c.selected),"selectedLabels"in c&&l(2,b=c.selectedLabels),"selectedValues"in c&&l(44,w=c.selectedValues),"input"in c&&l(4,O=c.input),"outerDiv"in c&&l(5,B=c.outerDiv),"placeholder"in c&&l(10,R=c.placeholder),"id"in c&&l(11,z=c.id),"name"in c&&l(12,W=c.name),"noOptionsMsg"in c&&l(13,D=c.noOptionsMsg),"activeOption"in c&&l(6,H=c.activeOption),"filterFunc"in c&&l(45,h=c.filterFunc),"outerDivClass"in c&&l(14,y=c.outerDivClass),"ulSelectedClass"in c&&l(15,M=c.ulSelectedClass),"liSelectedClass"in c&&l(16,T=c.liSelectedClass),"ulOptionsClass"in c&&l(17,j=c.ulOptionsClass),"liOptionClass"in c&&l(18,L=c.liOptionClass),"liActiveOptionClass"in c&&l(19,K=c.liActiveOptionClass),"inputClass"in c&&l(20,ae=c.inputClass),"removeBtnTitle"in c&&l(21,x=c.removeBtnTitle),"removeAllTitle"in c&&l(22,be=c.removeAllTitle),"defaultDisabledTitle"in c&&l(23,$=c.defaultDisabledTitle),"allowUserOptions"in c&&l(24,Y=c.allowUserOptions),"addOptionMsg"in c&&l(25,ee=c.addOptionMsg),"autoScroll"in c&&l(46,X=c.autoScroll),"loading"in c&&l(26,k=c.loading),"required"in c&&l(27,S=c.required),"autocomplete"in c&&l(28,te=c.autocomplete),"invalid"in c&&l(7,V=c.invalid),"sortSelected"in c&&l(47,le=c.sortSelected),"$$scope"in c&&l(73,r=c.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&2&&l(2,b=m.map(Q)),t.$$.dirty[0]&2&&l(44,w=m.map(ne)),t.$$.dirty[1]&8192&&l(31,n=w.join(",")),t.$$.dirty[1]&1&&n&&l(7,V=!1),t.$$.dirty[0]&5|t.$$.dirty[1]&20480&&l(35,i=p.filter(c=>h(c,u)&&!(c instanceof Object&&c.disabled)&&!b.includes(Q(c)))),t.$$.dirty[0]&4&&l(34,o=c=>b.includes(c))},[u,m,b,f,O,B,H,V,_,C,R,z,W,D,y,M,T,j,L,K,ae,x,be,$,Y,ee,k,S,te,E,v,n,I,Me,o,i,Q,ze,je,Oe,el,tl,ll,p,w,h,X,le,s,nl,il,sl,ol,rl,ul,fl,al,cl,dl,_l,ml,hl,gl,bl,pl,kl,vl,wl,yl,Cl,Ol,Sl,Tl,r]}class $t extends ge{constructor(e){super(),he(this,e,Dn,En,me,{searchText:0,showOptions:3,maxSelect:8,maxSelectMsg:9,disabled:29,disabledTitle:30,options:43,selected:1,selectedLabels:2,selectedValues:44,input:4,outerDiv:5,placeholder:10,id:11,name:12,noOptionsMsg:13,activeOption:6,filterFunc:45,outerDivClass:14,ulSelectedClass:15,liSelectedClass:16,ulOptionsClass:17,liOptionClass:18,liActiveOptionClass:19,inputClass:20,removeBtnTitle:21,removeAllTitle:22,defaultDisabledTitle:23,allowUserOptions:24,addOptionMsg:25,autoScroll:46,loading:26,required:27,autocomplete:28,invalid:7,sortSelected:47},null,[-1,-1,-1])}}function jn(t){return{c:q,m:q,p:q,i:q,o:q,d:q}}function Ln(t){let e,l,n;function i(s){t[7](s)}let o={inputClass:"input-like",outerDivClass:"color-fix",allowUserOptions:!0,addOptionMsg:"+ Create new tag",options:t[11].map(Pn)};return t[3]!==void 0&&(o.selected=t[3]),e=new $t({props:o}),De.push(()=>at(e,"selected",i)),{c(){_e(e.$$.fragment)},m(s,r){ue(e,s,r),n=!0},p(s,r){const u={};!l&&r&8&&(l=!0,u.selected=s[3],rt(()=>l=!1)),e.$set(u)},i(s){n||(P(e.$$.fragment,s),n=!0)},o(s){G(e.$$.fragment,s),n=!1},d(s){fe(e,s)}}}function Rn(t){return{c:q,m:q,p:q,i:q,o:q,d:q}}function qn(t){return{c:q,m:q,p:q,i:q,o:q,d:q}}function In(t){let e,l,n;function i(s){t[8](s)}let o={inputClass:"input-like",outerDivClass:"color-fix",options:t[10].map(Un)};return t[4]!==void 0&&(o.selected=t[4]),e=new $t({props:o}),De.push(()=>at(e,"selected",i)),{c(){_e(e.$$.fragment)},m(s,r){ue(e,s,r),n=!0},p(s,r){const u={};!l&&r&16&&(l=!0,u.selected=s[4],rt(()=>l=!1)),e.$set(u)},i(s){n||(P(e.$$.fragment,s),n=!0)},o(s){G(e.$$.fragment,s),n=!1},d(s){fe(e,s)}}}function Nn(t){return{c:q,m:q,p:q,i:q,o:q,d:q}}function Ut(t){let e,l;return{c(){e=g("span"),l=oe(t[1]),a(e,"class","m-b-1 red")},m(n,i){U(n,e,i),d(e,l)},p(n,i){i&2&&de(l,n[1])},d(n){n&&N(e)}}}function zn(t){let e,l,n,i,o,s,r,u,f,_,C,E,v,p,m,b,w,O,B,R=t[0]==="SUBMITTING"?"Loading":"Add",z,W,D,H,h,y={ctx:t,current:null,token:null,hasCatch:!1,pending:Rn,then:Ln,catch:jn,value:11,blocks:[,,,]};bt(Te("/tags"),y);let M={ctx:t,current:null,token:null,hasCatch:!1,pending:Nn,then:In,catch:qn,value:10,blocks:[,,,]};bt(Te("/folders"),M);let T=t[0]==="ERROR"&&Ut(t);return{c(){e=g("dialog"),l=g("header"),l.innerHTML="<h2>Add new bookmark</h2>",n=A(),i=g("div"),o=g("div"),s=g("label"),s.innerHTML='<strong>URL</strong><span class="red">*</span>',r=A(),u=g("input"),f=A(),_=g("div"),C=g("label"),C.innerHTML="<strong>Tags</strong>",E=A(),y.block.c(),v=A(),p=g("div"),m=g("label"),m.innerHTML="<strong>Folder</strong>",b=A(),M.block.c(),w=A(),T&&T.c(),O=A(),B=g("button"),z=oe(R),a(s,"for","url"),a(u,"type","url"),a(u,"placeholder","Add new URL"),a(u,"name","url"),a(u,"id","url"),u.required=!0,a(o,"class","col m-b-1"),a(C,"for","tags"),a(_,"class","col m-b-1"),a(m,"for","folders"),a(p,"class","col m-b-1"),a(i,"class","col"),a(B,"class","w-full"),a(B,"type","submit"),B.disabled=W=t[0]==="SUBMITTING",se(B,"margin","3em 0 1em 0"),a(e,"id","add-bookmark-modal")},m(j,L){U(j,e,L),d(e,l),d(e,n),d(e,i),d(i,o),d(o,s),d(o,r),d(o,u),ce(u,t[2]),d(i,f),d(i,_),d(_,C),d(_,E),y.block.m(_,y.anchor=null),y.mount=()=>_,y.anchor=null,d(i,v),d(i,p),d(p,m),d(p,b),M.block.m(p,M.anchor=null),M.mount=()=>p,M.anchor=null,d(i,w),T&&T.m(i,null),d(e,O),d(e,B),d(B,z),D=!0,H||(h=[F(u,"input",t[6]),F(B,"click",t[5])],H=!0)},p(j,[L]){t=j,L&4&&ce(u,t[2]),pt(y,t,L),pt(M,t,L),t[0]==="ERROR"?T?T.p(t,L):(T=Ut(t),T.c(),T.m(i,null)):T&&(T.d(1),T=null),(!D||L&1)&&R!==(R=t[0]==="SUBMITTING"?"Loading":"Add")&&de(z,R),(!D||L&1&&W!==(W=t[0]==="SUBMITTING"))&&(B.disabled=W)},i(j){D||(P(y.block),P(M.block),D=!0)},o(j){for(let L=0;L<3;L+=1){const K=y.blocks[L];G(K)}for(let L=0;L<3;L+=1){const K=M.blocks[L];G(K)}D=!1},d(j){j&&N(e),y.block.d(),y.token=null,y=null,M.block.d(),M.token=null,M=null,T&&T.d(),H=!1,re(h)}}}const Pn=({id:t,name:e})=>({label:e,value:t}),Un=({id:t,name:e})=>({label:e,value:t});function Fn(t,e,l){let n,i,o,s=[],r=[];const u=v=>v.label==v.value&&typeof v.value=="string",f=async()=>{l(0,n="SUBMITTING");const v=s.filter(u);if(v.length>0)try{const m=await Te("/tags/bulk","POST",{names:v.map(({value:b})=>b)});l(3,s=[...s.filter(b=>!u(b)),...m.map(({id:b,name:w})=>({label:w,value:b}))])}catch{l(0,n="ERROR"),l(1,i="An error occurred");return}const p={url:o,tags:s.map(({value:m})=>m),folders:r.map(({value:m})=>m)};try{const m=await Te("/bookmarks","POST",p);l(0,n="SUCCESS"),Ue.add(m),document.getElementById("add-bookmark-modal").close()}catch{l(0,n="ERROR"),l(1,i="An error occurred")}};function _(){o=this.value,l(2,o)}function C(v){s=v,l(3,s)}function E(v){r=v,l(4,r)}return[n,i,o,s,r,f,_,C,E]}class Hn extends ge{constructor(e){super(),he(this,e,Fn,zn,me,{})}}function Ft(t,e,l){const n=t.slice();return n[3]=e[l],n}function Ht(t){let e,l;return e=new Wl({props:{bookmark:t[3]}}),{c(){_e(e.$$.fragment)},m(n,i){ue(e,n,i),l=!0},p(n,i){const o={};i&1&&(o.bookmark=n[3]),e.$set(o)},i(n){l||(P(e.$$.fragment,n),l=!0)},o(n){G(e.$$.fragment,n),l=!1},d(n){fe(e,n)}}}function Vn(t){let e,l,n,i,o,s,r,u,f,_,C,E,v,p,m,b,w,O,B,R,z,W=t[0],D=[];for(let h=0;h<W.length;h+=1)D[h]=Ht(Ft(t,W,h));const H=h=>G(D[h],1,1,()=>{D[h]=null});return p=new Zl({}),b=new Hn({}),O=new en({}),{c(){e=g("nav"),l=g("div"),n=g("h1"),n.textContent="Rengoku",i=A(),o=g("button"),o.textContent="+ Add Bookmark",s=A(),r=g("hr"),u=A(),f=g("aside"),_=A(),C=g("main");for(let h=0;h<D.length;h+=1)D[h].c();E=A(),v=g("aside"),_e(p.$$.fragment),m=A(),_e(b.$$.fragment),w=A(),_e(O.$$.fragment),a(o,"class","m-l-auto"),a(l,"class","row"),a(f,"id","folders"),a(v,"id","filters")},m(h,y){U(h,e,y),d(e,l),d(l,n),d(l,i),d(l,o),d(e,s),d(e,r),U(h,u,y),U(h,f,y),U(h,_,y),U(h,C,y);for(let M=0;M<D.length;M+=1)D[M].m(C,null);U(h,E,y),U(h,v,y),ue(p,v,null),U(h,m,y),ue(b,h,y),U(h,w,y),ue(O,h,y),B=!0,R||(z=F(o,"click",t[2]),R=!0)},p(h,[y]){if(y&1){W=h[0];let M;for(M=0;M<W.length;M+=1){const T=Ft(h,W,M);D[M]?(D[M].p(T,y),P(D[M],1)):(D[M]=Ht(T),D[M].c(),P(D[M],1),D[M].m(C,null))}for(ye(),M=W.length;M<D.length;M+=1)H(M);Ce()}},i(h){if(!B){for(let y=0;y<W.length;y+=1)P(D[y]);P(p.$$.fragment,h),P(b.$$.fragment,h),P(O.$$.fragment,h),B=!0}},o(h){D=D.filter(Boolean);for(let y=0;y<D.length;y+=1)G(D[y]);G(p.$$.fragment,h),G(b.$$.fragment,h),G(O.$$.fragment,h),B=!1},d(h){h&&N(e),h&&N(u),h&&N(f),h&&N(_),h&&N(C),Ie(D,h),h&&N(E),h&&N(v),fe(p),h&&N(m),fe(b,h),h&&N(w),fe(O,h),R=!1,z()}}}function Gn(t,e,l){let n,i;Xe(t,Gl,s=>l(1,n=s)),Xe(t,Ue,s=>l(0,i=s)),ot(()=>Ue.fetch(n));const o=()=>{document.getElementById("add-bookmark-modal").showModal()};return t.$$.update=()=>{t.$$.dirty&2&&Ue.fetch(n)},[i,n,o]}class Kn extends ge{constructor(e){super(),he(this,e,Gn,Vn,me,{})}}new Kn({target:document.body});
