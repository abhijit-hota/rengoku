{{define "filter-sidebar"}}
<input type="text" id="search" name="search" placeholder="Search" class="m-b-2" x-model="$store.queryParams.search" />
<div class="row m-b-2">
	<div class="col">
		<strong>SORT BY</strong>
		<div>
			<input type="radio" name="sortBy" id="title" value="title" x-model="$store.queryParams.sortBy" />
			<label for="title">Title</label>
		</div>
		<div>
			<input type="radio" name="sortBy" id="date" value="date" x-model="$store.queryParams.sortBy" />
			<label for="date">Date</label>
		</div>
	</div>
	<div class="col m-l-auto">
		<strong>ORDER</strong>
		<div>
			<input type="radio" name="order" id="asc" value="asc" x-model="$store.queryParams.order" />
			<label for="asc">Ascending</label>
		</div>
		<div>
			<input type="radio" name="order" id="desc" value="desc" x-model="$store.queryParams.order" />
			<label for="desc">Descending</label>
		</div>
	</div>
</div>

<div class="row">
	<strong>FILTER BY TAGS</strong>
	<button class="m-l-auto" :disabled="$store.queryParams.tags.length === 0" @click="$store.queryParams.tags = []">
		Clear
	</button>
</div>
<div id="tags" class="m-b-2" x-data="{tags:[]}" x-init="$nextTick(async () => { tags = await api('/tags')  })">
	<template x-for="tag in tags" :key="tag.id">
		<div
			class="tag"
			role="checkbox"
			:style="{opacity: $store.queryParams.tags.includes(tag.id) ? 1 : 0.5}"
			x-text="tag.name"
			@click="$store.queryParams.toggleTag(tag.id)"
		></div>
	</template>
</div>

<div x-data="{ open: false }">
	<button class="w-full" @click="document.getElementById('settings').showModal()">Open Settings</button>
</div>
{{end}}
